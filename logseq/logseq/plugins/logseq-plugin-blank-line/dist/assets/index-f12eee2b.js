(function(){const ee=document.createElement("link").relList;if(ee&&ee.supports&&ee.supports("modulepreload"))return;for(const Z of document.querySelectorAll('link[rel="modulepreload"]'))Me(Z);new MutationObserver(Z=>{for(const we of Z)if(we.type==="childList")for(const U of we.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&Me(U)}).observe(document,{childList:!0,subtree:!0});function he(Z){const we={};return Z.integrity&&(we.integrity=Z.integrity),Z.referrerPolicy&&(we.referrerPolicy=Z.referrerPolicy),Z.crossOrigin==="use-credentials"?we.credentials="include":Z.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function Me(Z){if(Z.ep)return;Z.ep=!0;const we=he(Z);fetch(Z.href,we)}})();var In=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Mn.exports;(function(q,ee){(function(he,Me){q.exports=Me()})(self,()=>(()=>{var he={227:(U,p,O)=>{var L=O(155);p.formatArgs=function(N){if(N[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+N[0]+(this.useColors?"%c ":" ")+"+"+U.exports.humanize(this.diff),!this.useColors)return;const Y="color: "+this.color;N.splice(1,0,Y,"color: inherit");let y=0,d=0;N[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(y++,v==="%c"&&(d=y))}),N.splice(d,0,Y)},p.save=function(N){try{N?p.storage.setItem("debug",N):p.storage.removeItem("debug")}catch{}},p.load=function(){let N;try{N=p.storage.getItem("debug")}catch{}return!N&&L!==void 0&&"env"in L&&(N=L.env.DEBUG),N},p.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let N=!1;return()=>{N||(N=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),U.exports=O(447)(p);const{formatters:x}=U.exports;x.j=function(N){try{return JSON.stringify(N)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}},447:(U,p,O)=>{U.exports=function(L){function x(y){let d,v,b,R=null;function I(...D){if(!I.enabled)return;const H=I,E=Number(new Date),M=E-(d||E);H.diff=M,H.prev=d,H.curr=E,d=E,D[0]=x.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let s=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(c,g)=>{if(c==="%%")return"%";s++;const C=x.formatters[g];if(typeof C=="function"){const W=D[s];c=C.call(H,W),D.splice(s,1),s--}return c}),x.formatArgs.call(H,D),(H.log||x.log).apply(H,D)}return I.namespace=y,I.useColors=x.useColors(),I.color=x.selectColor(y),I.extend=N,I.destroy=x.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(v!==x.namespaces&&(v=x.namespaces,b=x.enabled(y)),b),set:D=>{R=D}}),typeof x.init=="function"&&x.init(I),I}function N(y,d){const v=x(this.namespace+(d===void 0?":":d)+y);return v.log=this.log,v}function Y(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}return x.debug=x,x.default=x,x.coerce=function(y){return y instanceof Error?y.stack||y.message:y},x.disable=function(){const y=[...x.names.map(Y),...x.skips.map(Y).map(d=>"-"+d)].join(",");return x.enable(""),y},x.enable=function(y){let d;x.save(y),x.namespaces=y,x.names=[],x.skips=[];const v=(typeof y=="string"?y:"").split(/[\s,]+/),b=v.length;for(d=0;d<b;d++)v[d]&&((y=v[d].replace(/\*/g,".*?"))[0]==="-"?x.skips.push(new RegExp("^"+y.slice(1)+"$")):x.names.push(new RegExp("^"+y+"$")))},x.enabled=function(y){if(y[y.length-1]==="*")return!0;let d,v;for(d=0,v=x.skips.length;d<v;d++)if(x.skips[d].test(y))return!1;for(d=0,v=x.names.length;d<v;d++)if(x.names[d].test(y))return!0;return!1},x.humanize=O(824),x.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(L).forEach(y=>{x[y]=L[y]}),x.names=[],x.skips=[],x.formatters={},x.selectColor=function(y){let d=0;for(let v=0;v<y.length;v++)d=(d<<5)-d+y.charCodeAt(v),d|=0;return x.colors[Math.abs(d)%x.colors.length]},x.enable(x.load()),x}},856:function(U){U.exports=function(){function p(w){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},p(w)}function O(w,S){return O=Object.setPrototypeOf||function($,V){return $.__proto__=V,$},O(w,S)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(w,S,$){return x=L()?Reflect.construct:function(V,se,Fe){var Ve=[null];Ve.push.apply(Ve,se);var Pe=new(Function.bind.apply(V,Ve));return Fe&&O(Pe,Fe.prototype),Pe},x.apply(null,arguments)}function N(w){return Y(w)||y(w)||d(w)||b()}function Y(w){if(Array.isArray(w))return v(w)}function y(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function d(w,S){if(w){if(typeof w=="string")return v(w,S);var $=Object.prototype.toString.call(w).slice(8,-1);return $==="Object"&&w.constructor&&($=w.constructor.name),$==="Map"||$==="Set"?Array.from(w):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?v(w,S):void 0}}function v(w,S){(S==null||S>w.length)&&(S=w.length);for(var $=0,V=new Array(S);$<S;$++)V[$]=w[$];return V}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=Object.hasOwnProperty,I=Object.setPrototypeOf,D=Object.isFrozen,H=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,M=Object.freeze,s=Object.seal,c=Object.create,g=typeof Reflect<"u"&&Reflect,C=g.apply,W=g.construct;C||(C=function(w,S,$){return w.apply(S,$)}),M||(M=function(w){return w}),s||(s=function(w){return w}),W||(W=function(w,S){return x(w,N(S))});var Q=te(Array.prototype.forEach),oe=te(Array.prototype.pop),ge=te(Array.prototype.push),ke=te(String.prototype.toLowerCase),Ce=te(String.prototype.match),fe=te(String.prototype.replace),Ie=te(String.prototype.indexOf),f=te(String.prototype.trim),m=te(RegExp.prototype.test),F=xe(TypeError);function te(w){return function(S){for(var $=arguments.length,V=new Array($>1?$-1:0),se=1;se<$;se++)V[se-1]=arguments[se];return C(w,S,V)}}function xe(w){return function(){for(var S=arguments.length,$=new Array(S),V=0;V<S;V++)$[V]=arguments[V];return W(w,$)}}function P(w,S){I&&I(w,null);for(var $=S.length;$--;){var V=S[$];if(typeof V=="string"){var se=ke(V);se!==V&&(D(S)||(S[$]=se),V=se)}w[V]=!0}return w}function G(w){var S,$=c(null);for(S in w)C(R,w,[S])&&($[S]=w[S]);return $}function ce(w,S){for(;w!==null;){var $=E(w,S);if($){if($.get)return te($.get);if(typeof $.value=="function")return te($.value)}w=H(w)}function V(se){return console.warn("fallback value for",se),null}return V}var Ee=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ze=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tt=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),de=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),le=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Se=M(["#text"]),Ae=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Te=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ne=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Re=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mt=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ct=s(/<%[\w\W]*|[\w\W]*%>/gm),Fn=s(/^data-[\-\w.\u00B7-\uFFFF]/),Pn=s(/^aria-[\-\w]+$/),Rn=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dn=s(/^(?:\w+script|data):/i),nt=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cn=s(/^html$/i),Bn=function(){return typeof window>"u"?null:window},Un=function(w,S){if(p(w)!=="object"||typeof w.createPolicy!="function")return null;var $=null,V="data-tt-policy-suffix";S.currentScript&&S.currentScript.hasAttribute(V)&&($=S.currentScript.getAttribute(V));var se="dompurify"+($?"#"+$:"");try{return w.createPolicy(se,{createHTML:function(Fe){return Fe}})}catch{return console.warn("TrustedTypes policy "+se+" could not be created."),null}};function ut(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bn(),S=function(o){return ut(o)};if(S.version="2.3.8",S.removed=[],!w||!w.document||w.document.nodeType!==9)return S.isSupported=!1,S;var $=w.document,V=w.document,se=w.DocumentFragment,Fe=w.HTMLTemplateElement,Ve=w.Node,Pe=w.Element,Ke=w.NodeFilter,ft=w.NamedNodeMap,xt=ft===void 0?w.NamedNodeMap||w.MozNamedAttrMap:ft,Ft=w.HTMLFormElement,ln=w.DOMParser,un=w.trustedTypes,dt=Pe.prototype,fn=ce(dt,"cloneNode"),dn=ce(dt,"nextSibling"),$n=ce(dt,"childNodes"),rt=ce(dt,"parentNode");if(typeof Fe=="function"){var Pt=V.createElement("template");Pt.content&&Pt.content.ownerDocument&&(V=Pt.content.ownerDocument)}var qe=Un(un,$),pn=qe?qe.createHTML(""):"",pt=V,Rt=pt.implementation,hn=pt.createNodeIterator,gn=pt.createDocumentFragment,zn=pt.getElementsByTagName,Dt=$.importNode,mn={};try{mn=G(V).documentMode?V.documentMode:{}}catch{}var ve={};S.isSupported=typeof rt=="function"&&Rt&&Rt.createHTMLDocument!==void 0&&mn!==9;var ot,He,Bt=Mt,Ut=Ct,Ot=Fn,Le=Pn,$t=Dn,ht=nt,zt=Rn,me=null,qt=P({},[].concat(N(Ee),N(Oe),N(ze),N(de),N(Se))),ye=null,Ht=P({},[].concat(N(Ae),N(Te),N(Ne),N(Re))),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gt=null,Wt=null,Gt=!0,Jt=!0,yn=!1,it=!1,X=!1,Zt=!1,Vt=!1,Ye=!1,We=!1,st=!1,Kt=!0,St=!0,Qe=!1,Ge={},at=null,vn=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bn=null,_n=P({},["audio","video","img","source","image","track"]),Yt=null,At=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",Et="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",jt=Je,wn=!1,kn=["application/xhtml+xml","text/html"],qn="text/html",ct=null,Hn=V.createElement("form"),Tt=function(o){return o instanceof RegExp||o instanceof Function},Xt=function(o){ct&&ct===o||(o&&p(o)==="object"||(o={}),o=G(o),me="ALLOWED_TAGS"in o?P({},o.ALLOWED_TAGS):qt,ye="ALLOWED_ATTR"in o?P({},o.ALLOWED_ATTR):Ht,Yt="ADD_URI_SAFE_ATTR"in o?P(G(At),o.ADD_URI_SAFE_ATTR):At,bn="ADD_DATA_URI_TAGS"in o?P(G(_n),o.ADD_DATA_URI_TAGS):_n,at="FORBID_CONTENTS"in o?P({},o.FORBID_CONTENTS):vn,gt="FORBID_TAGS"in o?P({},o.FORBID_TAGS):{},Wt="FORBID_ATTR"in o?P({},o.FORBID_ATTR):{},Ge="USE_PROFILES"in o&&o.USE_PROFILES,Gt=o.ALLOW_ARIA_ATTR!==!1,Jt=o.ALLOW_DATA_ATTR!==!1,yn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,it=o.SAFE_FOR_TEMPLATES||!1,X=o.WHOLE_DOCUMENT||!1,Ye=o.RETURN_DOM||!1,We=o.RETURN_DOM_FRAGMENT||!1,st=o.RETURN_TRUSTED_TYPE||!1,Vt=o.FORCE_BODY||!1,Kt=o.SANITIZE_DOM!==!1,St=o.KEEP_CONTENT!==!1,Qe=o.IN_PLACE||!1,zt=o.ALLOWED_URI_REGEXP||zt,jt=o.NAMESPACE||Je,o.CUSTOM_ELEMENT_HANDLING&&Tt(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Tt(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot=ot=kn.indexOf(o.PARSER_MEDIA_TYPE)===-1?qn:o.PARSER_MEDIA_TYPE,He=ot==="application/xhtml+xml"?function(k){return k}:ke,it&&(Jt=!1),We&&(Ye=!0),Ge&&(me=P({},N(Se)),ye=[],Ge.html===!0&&(P(me,Ee),P(ye,Ae)),Ge.svg===!0&&(P(me,Oe),P(ye,Te),P(ye,Re)),Ge.svgFilters===!0&&(P(me,ze),P(ye,Te),P(ye,Re)),Ge.mathMl===!0&&(P(me,de),P(ye,Ne),P(ye,Re))),o.ADD_TAGS&&(me===qt&&(me=G(me)),P(me,o.ADD_TAGS)),o.ADD_ATTR&&(ye===Ht&&(ye=G(ye)),P(ye,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&P(Yt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(at===vn&&(at=G(at)),P(at,o.FORBID_CONTENTS)),St&&(me["#text"]=!0),X&&P(me,["html","head","body"]),me.table&&(P(me,["tbody"]),delete gt.tbody),M&&M(o),ct=o)},en=P({},["mi","mo","mn","ms","mtext"]),Cn=P({},["foreignobject","desc","title","annotation-xml"]),Wn=P({},["title","style","font","a","script"]),Lt=P({},Oe);P(Lt,ze),P(Lt,tt);var tn=P({},de);P(tn,le);var Gn=function(o){var k=rt(o);k&&k.tagName||(k={namespaceURI:Je,tagName:"template"});var _=ke(o.tagName),ne=ke(k.tagName);return o.namespaceURI===Et?k.namespaceURI===Je?_==="svg":k.namespaceURI===Qt?_==="svg"&&(ne==="annotation-xml"||en[ne]):!!Lt[_]:o.namespaceURI===Qt?k.namespaceURI===Je?_==="math":k.namespaceURI===Et?_==="math"&&Cn[ne]:!!tn[_]:o.namespaceURI===Je&&!(k.namespaceURI===Et&&!Cn[ne])&&!(k.namespaceURI===Qt&&!en[ne])&&!tn[_]&&(Wn[_]||!Lt[_])},De=function(o){ge(S.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=pn}catch{o.remove()}}},xn=function(o,k){try{ge(S.removed,{attribute:k.getAttributeNode(o),from:k})}catch{ge(S.removed,{attribute:null,from:k})}if(k.removeAttribute(o),o==="is"&&!ye[o])if(Ye||We)try{De(k)}catch{}else try{k.setAttribute(o,"")}catch{}},On=function(o){var k,_;if(Vt)o="<remove></remove>"+o;else{var ne=Ce(o,/^[\r\n\t ]+/);_=ne&&ne[0]}ot==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var ue=qe?qe.createHTML(o):o;if(jt===Je)try{k=new ln().parseFromString(ue,ot)}catch{}if(!k||!k.documentElement){k=Rt.createDocument(jt,"template",null);try{k.documentElement.innerHTML=wn?"":ue}catch{}}var be=k.body||k.documentElement;return o&&_&&be.insertBefore(V.createTextNode(_),be.childNodes[0]||null),jt===Je?zn.call(k,X?"html":"body")[0]:X?k.documentElement:be},mt=function(o){return hn.call(o.ownerDocument||o,o,Ke.SHOW_ELEMENT|Ke.SHOW_COMMENT|Ke.SHOW_TEXT,null,!1)},Jn=function(o){return o instanceof Ft&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof xt)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},yt=function(o){return p(Ve)==="object"?o instanceof Ve:o&&p(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},Be=function(o,k,_){ve[o]&&Q(ve[o],function(ne){ne.call(S,k,_,ct)})},nn=function(o){var k;if(Be("beforeSanitizeElements",o,null),Jn(o)||m(/[\u0080-\uFFFF]/,o.nodeName))return De(o),!0;var _=He(o.nodeName);if(Be("uponSanitizeElement",o,{tagName:_,allowedTags:me}),o.hasChildNodes()&&!yt(o.firstElementChild)&&(!yt(o.content)||!yt(o.content.firstElementChild))&&m(/<[/\w]/g,o.innerHTML)&&m(/<[/\w]/g,o.textContent)||_==="select"&&m(/<template/i,o.innerHTML))return De(o),!0;if(!me[_]||gt[_]){if(!gt[_]&&rn(_)&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_)))return!1;if(St&&!at[_]){var ne=rt(o)||o.parentNode,ue=$n(o)||o.childNodes;if(ue&&ne)for(var be=ue.length-1;be>=0;--be)ne.insertBefore(fn(ue[be],!0),dn(o))}return De(o),!0}return o instanceof Pe&&!Gn(o)?(De(o),!0):_!=="noscript"&&_!=="noembed"||!m(/<\/no(script|embed)/i,o.innerHTML)?(it&&o.nodeType===3&&(k=o.textContent,k=fe(k,Bt," "),k=fe(k,Ut," "),o.textContent!==k&&(ge(S.removed,{element:o.cloneNode()}),o.textContent=k)),Be("afterSanitizeElements",o,null),!1):(De(o),!0)},Sn=function(o,k,_){if(Kt&&(k==="id"||k==="name")&&(_ in V||_ in Hn))return!1;if(!(Jt&&!Wt[k]&&m(Ot,k))){if(!(Gt&&m(Le,k))){if(!ye[k]||Wt[k]){if(!(rn(o)&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,o)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(o))&&(ae.attributeNameCheck instanceof RegExp&&m(ae.attributeNameCheck,k)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(k))||k==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_))))return!1}else if(!Yt[k]){if(!m(zt,fe(_,ht,""))){if((k!=="src"&&k!=="xlink:href"&&k!=="href"||o==="script"||Ie(_,"data:")!==0||!bn[o])&&!(yn&&!m($t,fe(_,ht,"")))){if(_)return!1}}}}}return!0},rn=function(o){return o.indexOf("-")>0},vt=function(o){var k,_,ne,ue;Be("beforeSanitizeAttributes",o,null);var be=o.attributes;if(be){var _e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(ue=be.length;ue--;){var bt=k=be[ue],Ue=bt.name,K=bt.namespaceURI;if(_=Ue==="value"?k.value:f(k.value),ne=He(Ue),_e.attrName=ne,_e.attrValue=_,_e.keepAttr=!0,_e.forceKeepAttr=void 0,Be("uponSanitizeAttribute",o,_e),_=_e.attrValue,!_e.forceKeepAttr&&(xn(Ue,o),_e.keepAttr))if(m(/\/>/i,_))xn(Ue,o);else{it&&(_=fe(_,Bt," "),_=fe(_,Ut," "));var Xe=He(o.nodeName);if(Sn(Xe,ne,_))try{K?o.setAttributeNS(K,Ue,_):o.setAttribute(Ue,_),oe(S.removed)}catch{}}}Be("afterSanitizeAttributes",o,null)}},on=function o(k){var _,ne=mt(k);for(Be("beforeSanitizeShadowDOM",k,null);_=ne.nextNode();)Be("uponSanitizeShadowNode",_,null),nn(_)||(_.content instanceof se&&o(_.content),vt(_));Be("afterSanitizeShadowDOM",k,null)};return S.sanitize=function(o,k){var _,ne,ue,be,_e;if((wn=!o)&&(o="<!-->"),typeof o!="string"&&!yt(o)){if(typeof o.toString!="function")throw F("toString is not a function");if(typeof(o=o.toString())!="string")throw F("dirty is not a string, aborting")}if(!S.isSupported){if(p(w.toStaticHTML)==="object"||typeof w.toStaticHTML=="function"){if(typeof o=="string")return w.toStaticHTML(o);if(yt(o))return w.toStaticHTML(o.outerHTML)}return o}if(Zt||Xt(k),S.removed=[],typeof o=="string"&&(Qe=!1),Qe){if(o.nodeName){var bt=He(o.nodeName);if(!me[bt]||gt[bt])throw F("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Ve)(ne=(_=On("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&ne.nodeName==="BODY"||ne.nodeName==="HTML"?_=ne:_.appendChild(ne);else{if(!Ye&&!it&&!X&&o.indexOf("<")===-1)return qe&&st?qe.createHTML(o):o;if(!(_=On(o)))return Ye?null:st?pn:""}_&&Vt&&De(_.firstChild);for(var Ue=mt(Qe?o:_);ue=Ue.nextNode();)ue.nodeType===3&&ue===be||nn(ue)||(ue.content instanceof se&&on(ue.content),vt(ue),be=ue);if(be=null,Qe)return o;if(Ye){if(We)for(_e=gn.call(_.ownerDocument);_.firstChild;)_e.appendChild(_.firstChild);else _e=_;return ye.shadowroot&&(_e=Dt.call($,_e,!0)),_e}var K=X?_.outerHTML:_.innerHTML;return X&&me["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&m(cn,_.ownerDocument.doctype.name)&&(K="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+K),it&&(K=fe(K,Bt," "),K=fe(K,Ut," ")),qe&&st?qe.createHTML(K):K},S.setConfig=function(o){Xt(o),Zt=!0},S.clearConfig=function(){ct=null,Zt=!1},S.isValidAttribute=function(o,k,_){ct||Xt({});var ne=He(o),ue=He(k);return Sn(ne,ue,_)},S.addHook=function(o,k){typeof k=="function"&&(ve[o]=ve[o]||[],ge(ve[o],k))},S.removeHook=function(o){if(ve[o])return oe(ve[o])},S.removeHooks=function(o){ve[o]&&(ve[o]=[])},S.removeAllHooks=function(){ve={}},S}return ut()}()},729:U=>{var p=Object.prototype.hasOwnProperty,O="~";function L(){}function x(d,v,b){this.fn=d,this.context=v,this.once=b||!1}function N(d,v,b,R,I){if(typeof b!="function")throw new TypeError("The listener must be a function");var D=new x(b,R||d,I),H=O?O+v:v;return d._events[H]?d._events[H].fn?d._events[H]=[d._events[H],D]:d._events[H].push(D):(d._events[H]=D,d._eventsCount++),d}function Y(d,v){--d._eventsCount==0?d._events=new L:delete d._events[v]}function y(){this._events=new L,this._eventsCount=0}Object.create&&(L.prototype=Object.create(null),new L().__proto__||(O=!1)),y.prototype.eventNames=function(){var d,v,b=[];if(this._eventsCount===0)return b;for(v in d=this._events)p.call(d,v)&&b.push(O?v.slice(1):v);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(d)):b},y.prototype.listeners=function(d){var v=O?O+d:d,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var R=0,I=b.length,D=new Array(I);R<I;R++)D[R]=b[R].fn;return D},y.prototype.listenerCount=function(d){var v=O?O+d:d,b=this._events[v];return b?b.fn?1:b.length:0},y.prototype.emit=function(d,v,b,R,I,D){var H=O?O+d:d;if(!this._events[H])return!1;var E,M,s=this._events[H],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(d,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,v),!0;case 3:return s.fn.call(s.context,v,b),!0;case 4:return s.fn.call(s.context,v,b,R),!0;case 5:return s.fn.call(s.context,v,b,R,I),!0;case 6:return s.fn.call(s.context,v,b,R,I,D),!0}for(M=1,E=new Array(c-1);M<c;M++)E[M-1]=arguments[M];s.fn.apply(s.context,E)}else{var g,C=s.length;for(M=0;M<C;M++)switch(s[M].once&&this.removeListener(d,s[M].fn,void 0,!0),c){case 1:s[M].fn.call(s[M].context);break;case 2:s[M].fn.call(s[M].context,v);break;case 3:s[M].fn.call(s[M].context,v,b);break;case 4:s[M].fn.call(s[M].context,v,b,R);break;default:if(!E)for(g=1,E=new Array(c-1);g<c;g++)E[g-1]=arguments[g];s[M].fn.apply(s[M].context,E)}}return!0},y.prototype.on=function(d,v,b){return N(this,d,v,b,!1)},y.prototype.once=function(d,v,b){return N(this,d,v,b,!0)},y.prototype.removeListener=function(d,v,b,R){var I=O?O+d:d;if(!this._events[I])return this;if(!v)return Y(this,I),this;var D=this._events[I];if(D.fn)D.fn!==v||R&&!D.once||b&&D.context!==b||Y(this,I);else{for(var H=0,E=[],M=D.length;H<M;H++)(D[H].fn!==v||R&&!D[H].once||b&&D[H].context!==b)&&E.push(D[H]);E.length?this._events[I]=E.length===1?E[0]:E:Y(this,I)}return this},y.prototype.removeAllListeners=function(d){var v;return d?(v=O?O+d:d,this._events[v]&&Y(this,v)):(this._events=new L,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=O,y.EventEmitter=y,U.exports=y},717:U=>{typeof Object.create=="function"?U.exports=function(p,O){p.super_=O,p.prototype=Object.create(O.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:U.exports=function(p,O){p.super_=O;var L=function(){};L.prototype=O.prototype,p.prototype=new L,p.prototype.constructor=p}},824:U=>{var p=1e3,O=60*p,L=60*O,x=24*L,N=7*x,Y=365.25*x;function y(d,v,b,R){var I=v>=1.5*b;return Math.round(d/b)+" "+R+(I?"s":"")}U.exports=function(d,v){v=v||{};var b=typeof d;if(b==="string"&&d.length>0)return function(R){if(!((R=String(R)).length>100)){var I=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(I){var D=parseFloat(I[1]);switch((I[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return D*Y;case"weeks":case"week":case"w":return D*N;case"days":case"day":case"d":return D*x;case"hours":case"hour":case"hrs":case"hr":case"h":return D*L;case"minutes":case"minute":case"mins":case"min":case"m":return D*O;case"seconds":case"second":case"secs":case"sec":case"s":return D*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(d);if(b==="number"&&isFinite(d))return v.long?function(R){var I=Math.abs(R);return I>=x?y(R,I,x,"day"):I>=L?y(R,I,L,"hour"):I>=O?y(R,I,O,"minute"):I>=p?y(R,I,p,"second"):R+" ms"}(d):function(R){var I=Math.abs(R);return I>=x?Math.round(R/x)+"d":I>=L?Math.round(R/L)+"h":I>=O?Math.round(R/O)+"m":I>=p?Math.round(R/p)+"s":R+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},520:(U,p,O)=>{var L=O(155),x=L.platform==="win32",N=O(539);function Y(s,c){for(var g=[],C=0;C<s.length;C++){var W=s[C];W&&W!=="."&&(W===".."?g.length&&g[g.length-1]!==".."?g.pop():c&&g.push(".."):g.push(W))}return g}function y(s){for(var c=s.length-1,g=0;g<=c&&!s[g];g++);for(var C=c;C>=0&&!s[C];C--);return g===0&&C===c?s:g>C?[]:s.slice(g,C+1)}var d=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,v=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,b={};function R(s){var c=d.exec(s),g=(c[1]||"")+(c[2]||""),C=c[3]||"",W=v.exec(C);return[g,W[1],W[2],W[3]]}function I(s){var c=d.exec(s),g=c[1]||"",C=!!g&&g[1]!==":";return{device:g,isUnc:C,isAbsolute:C||!!c[2],tail:c[3]}}function D(s){return"\\\\"+s.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}b.resolve=function(){for(var s="",c="",g=!1,C=arguments.length-1;C>=-1;C--){var W;if(C>=0?W=arguments[C]:s?(W=L.env["="+s])&&W.substr(0,3).toLowerCase()===s.toLowerCase()+"\\"||(W=s+"\\"):W=L.cwd(),!N.isString(W))throw new TypeError("Arguments to path.resolve must be strings");if(W){var Q=I(W),oe=Q.device,ge=Q.isUnc,ke=Q.isAbsolute,Ce=Q.tail;if((!oe||!s||oe.toLowerCase()===s.toLowerCase())&&(s||(s=oe),g||(c=Ce+"\\"+c,g=ke),s&&g))break}}return ge&&(s=D(s)),s+(g?"\\":"")+(c=Y(c.split(/[\\\/]+/),!g).join("\\"))||"."},b.normalize=function(s){var c=I(s),g=c.device,C=c.isUnc,W=c.isAbsolute,Q=c.tail,oe=/[\\\/]$/.test(Q);return(Q=Y(Q.split(/[\\\/]+/),!W).join("\\"))||W||(Q="."),Q&&oe&&(Q+="\\"),C&&(g=D(g)),g+(W?"\\":"")+Q},b.isAbsolute=function(s){return I(s).isAbsolute},b.join=function(){for(var s=[],c=0;c<arguments.length;c++){var g=arguments[c];if(!N.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&s.push(g)}var C=s.join("\\");return/^[\\\/]{2}[^\\\/]/.test(s[0])||(C=C.replace(/^[\\\/]{2,}/,"\\")),b.normalize(C)},b.relative=function(s,c){s=b.resolve(s),c=b.resolve(c);for(var g=s.toLowerCase(),C=c.toLowerCase(),W=y(c.split("\\")),Q=y(g.split("\\")),oe=y(C.split("\\")),ge=Math.min(Q.length,oe.length),ke=ge,Ce=0;Ce<ge;Ce++)if(Q[Ce]!==oe[Ce]){ke=Ce;break}if(ke==0)return c;var fe=[];for(Ce=ke;Ce<Q.length;Ce++)fe.push("..");return(fe=fe.concat(W.slice(ke))).join("\\")},b._makeLong=function(s){if(!N.isString(s))return s;if(!s)return"";var c=b.resolve(s);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):s},b.dirname=function(s){var c=R(s),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},b.basename=function(s,c){var g=R(s)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},b.extname=function(s){return R(s)[3]},b.format=function(s){if(!N.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!N.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);var g=s.dir,C=s.base||"";return g?g[g.length-1]===b.sep?g+C:g+b.sep+C:C},b.parse=function(s){if(!N.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=R(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},b.sep="\\",b.delimiter=";";var H=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,E={};function M(s){return H.exec(s).slice(1)}E.resolve=function(){for(var s="",c=!1,g=arguments.length-1;g>=-1&&!c;g--){var C=g>=0?arguments[g]:L.cwd();if(!N.isString(C))throw new TypeError("Arguments to path.resolve must be strings");C&&(s=C+"/"+s,c=C[0]==="/")}return(c?"/":"")+(s=Y(s.split("/"),!c).join("/"))||"."},E.normalize=function(s){var c=E.isAbsolute(s),g=s&&s[s.length-1]==="/";return(s=Y(s.split("/"),!c).join("/"))||c||(s="."),s&&g&&(s+="/"),(c?"/":"")+s},E.isAbsolute=function(s){return s.charAt(0)==="/"},E.join=function(){for(var s="",c=0;c<arguments.length;c++){var g=arguments[c];if(!N.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&(s+=s?"/"+g:g)}return E.normalize(s)},E.relative=function(s,c){s=E.resolve(s).substr(1),c=E.resolve(c).substr(1);for(var g=y(s.split("/")),C=y(c.split("/")),W=Math.min(g.length,C.length),Q=W,oe=0;oe<W;oe++)if(g[oe]!==C[oe]){Q=oe;break}var ge=[];for(oe=Q;oe<g.length;oe++)ge.push("..");return(ge=ge.concat(C.slice(Q))).join("/")},E._makeLong=function(s){return s},E.dirname=function(s){var c=M(s),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},E.basename=function(s,c){var g=M(s)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},E.extname=function(s){return M(s)[3]},E.format=function(s){if(!N.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!N.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);return(s.dir?s.dir+E.sep:"")+(s.base||"")},E.parse=function(s){if(!N.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=M(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},E.sep="/",E.delimiter=":",U.exports=x?b:E,U.exports.posix=E,U.exports.win32=b},155:U=>{var p,O,L=U.exports={};function x(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}function Y(E){if(p===setTimeout)return setTimeout(E,0);if((p===x||!p)&&setTimeout)return p=setTimeout,setTimeout(E,0);try{return p(E,0)}catch{try{return p.call(null,E,0)}catch{return p.call(this,E,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:x}catch{p=x}try{O=typeof clearTimeout=="function"?clearTimeout:N}catch{O=N}})();var y,d=[],v=!1,b=-1;function R(){v&&y&&(v=!1,y.length?d=y.concat(d):b=-1,d.length&&I())}function I(){if(!v){var E=Y(R);v=!0;for(var M=d.length;M;){for(y=d,d=[];++b<M;)y&&y[b].run();b=-1,M=d.length}y=null,v=!1,function(s){if(O===clearTimeout)return clearTimeout(s);if((O===N||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(s);try{O(s)}catch{try{return O.call(null,s)}catch{return O.call(this,s)}}}(E)}}function D(E,M){this.fun=E,this.array=M}function H(){}L.nextTick=function(E){var M=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)M[s-1]=arguments[s];d.push(new D(E,M)),d.length!==1||v||Y(I)},D.prototype.run=function(){this.fun.apply(null,this.array)},L.title="browser",L.browser=!0,L.env={},L.argv=[],L.version="",L.versions={},L.on=H,L.addListener=H,L.once=H,L.off=H,L.removeListener=H,L.removeAllListeners=H,L.emit=H,L.prependListener=H,L.prependOnceListener=H,L.listeners=function(E){return[]},L.binding=function(E){throw new Error("process.binding is not supported")},L.cwd=function(){return"/"},L.chdir=function(E){throw new Error("process.chdir is not supported")},L.umask=function(){return 0}},384:U=>{U.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(U,p,O)=>{var L=O(155),x=/%[sdj%]/g;p.format=function(f){if(!s(f)){for(var m=[],F=0;F<arguments.length;F++)m.push(y(arguments[F]));return m.join(" ")}F=1;for(var te=arguments,xe=te.length,P=String(f).replace(x,function(ce){if(ce==="%%")return"%";if(F>=xe)return ce;switch(ce){case"%s":return String(te[F++]);case"%d":return Number(te[F++]);case"%j":try{return JSON.stringify(te[F++])}catch{return"[Circular]"}default:return ce}}),G=te[F];F<xe;G=te[++F])E(G)||!C(G)?P+=" "+G:P+=" "+y(G);return P},p.deprecate=function(f,m){if(c(O.g.process))return function(){return p.deprecate(f,m).apply(this,arguments)};if(L.noDeprecation===!0)return f;var F=!1;return function(){if(!F){if(L.throwDeprecation)throw new Error(m);L.traceDeprecation?console.trace(m):console.error(m),F=!0}return f.apply(this,arguments)}};var N,Y={};function y(f,m){var F={seen:[],stylize:v};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),H(m)?F.showHidden=m:m&&p._extend(F,m),c(F.showHidden)&&(F.showHidden=!1),c(F.depth)&&(F.depth=2),c(F.colors)&&(F.colors=!1),c(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=d),b(F,f,F.depth)}function d(f,m){var F=y.styles[m];return F?"\x1B["+y.colors[F][0]+"m"+f+"\x1B["+y.colors[F][1]+"m":f}function v(f,m){return f}function b(f,m,F){if(f.customInspect&&m&&oe(m.inspect)&&m.inspect!==p.inspect&&(!m.constructor||m.constructor.prototype!==m)){var te=m.inspect(F,f);return s(te)||(te=b(f,te,F)),te}var xe=function(de,le){if(c(le))return de.stylize("undefined","undefined");if(s(le)){var Se="'"+JSON.stringify(le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(Se,"string")}if(M(le))return de.stylize(""+le,"number");if(H(le))return de.stylize(""+le,"boolean");if(E(le))return de.stylize("null","null")}(f,m);if(xe)return xe;var P=Object.keys(m),G=function(de){var le={};return de.forEach(function(Se,Ae){le[Se]=!0}),le}(P);if(f.showHidden&&(P=Object.getOwnPropertyNames(m)),Q(m)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return R(m);if(P.length===0){if(oe(m)){var ce=m.name?": "+m.name:"";return f.stylize("[Function"+ce+"]","special")}if(g(m))return f.stylize(RegExp.prototype.toString.call(m),"regexp");if(W(m))return f.stylize(Date.prototype.toString.call(m),"date");if(Q(m))return R(m)}var Ee,Oe="",ze=!1,tt=["{","}"];return D(m)&&(ze=!0,tt=["[","]"]),oe(m)&&(Oe=" [Function"+(m.name?": "+m.name:"")+"]"),g(m)&&(Oe=" "+RegExp.prototype.toString.call(m)),W(m)&&(Oe=" "+Date.prototype.toUTCString.call(m)),Q(m)&&(Oe=" "+R(m)),P.length!==0||ze&&m.length!=0?F<0?g(m)?f.stylize(RegExp.prototype.toString.call(m),"regexp"):f.stylize("[Object]","special"):(f.seen.push(m),Ee=ze?function(de,le,Se,Ae,Te){for(var Ne=[],Re=0,Mt=le.length;Re<Mt;++Re)Ie(le,String(Re))?Ne.push(I(de,le,Se,Ae,String(Re),!0)):Ne.push("");return Te.forEach(function(Ct){Ct.match(/^\d+$/)||Ne.push(I(de,le,Se,Ae,Ct,!0))}),Ne}(f,m,F,G,P):P.map(function(de){return I(f,m,F,G,de,ze)}),f.seen.pop(),function(de,le,Se){return de.reduce(function(Ae,Te){return Te.indexOf(`
`)>=0,Ae+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Se[0]+(le===""?"":le+`
 `)+" "+de.join(`,
  `)+" "+Se[1]:Se[0]+le+" "+de.join(", ")+" "+Se[1]}(Ee,Oe,tt)):tt[0]+Oe+tt[1]}function R(f){return"["+Error.prototype.toString.call(f)+"]"}function I(f,m,F,te,xe,P){var G,ce,Ee;if((Ee=Object.getOwnPropertyDescriptor(m,xe)||{value:m[xe]}).get?ce=Ee.set?f.stylize("[Getter/Setter]","special"):f.stylize("[Getter]","special"):Ee.set&&(ce=f.stylize("[Setter]","special")),Ie(te,xe)||(G="["+xe+"]"),ce||(f.seen.indexOf(Ee.value)<0?(ce=E(F)?b(f,Ee.value,null):b(f,Ee.value,F-1)).indexOf(`
`)>-1&&(ce=P?ce.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).substr(2):`
`+ce.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`)):ce=f.stylize("[Circular]","special")),c(G)){if(P&&xe.match(/^\d+$/))return ce;(G=JSON.stringify(""+xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=f.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=f.stylize(G,"string"))}return G+": "+ce}function D(f){return Array.isArray(f)}function H(f){return typeof f=="boolean"}function E(f){return f===null}function M(f){return typeof f=="number"}function s(f){return typeof f=="string"}function c(f){return f===void 0}function g(f){return C(f)&&ge(f)==="[object RegExp]"}function C(f){return typeof f=="object"&&f!==null}function W(f){return C(f)&&ge(f)==="[object Date]"}function Q(f){return C(f)&&(ge(f)==="[object Error]"||f instanceof Error)}function oe(f){return typeof f=="function"}function ge(f){return Object.prototype.toString.call(f)}function ke(f){return f<10?"0"+f.toString(10):f.toString(10)}p.debuglog=function(f){if(c(N)&&(N=L.env.NODE_DEBUG||""),f=f.toUpperCase(),!Y[f])if(new RegExp("\\b"+f+"\\b","i").test(N)){var m=L.pid;Y[f]=function(){var F=p.format.apply(p,arguments);console.error("%s %d: %s",f,m,F)}}else Y[f]=function(){};return Y[f]},p.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=D,p.isBoolean=H,p.isNull=E,p.isNullOrUndefined=function(f){return f==null},p.isNumber=M,p.isString=s,p.isSymbol=function(f){return typeof f=="symbol"},p.isUndefined=c,p.isRegExp=g,p.isObject=C,p.isDate=W,p.isError=Q,p.isFunction=oe,p.isPrimitive=function(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||f===void 0},p.isBuffer=O(384);var Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var f=new Date,m=[ke(f.getHours()),ke(f.getMinutes()),ke(f.getSeconds())].join(":");return[f.getDate(),Ce[f.getMonth()],m].join(" ")}function Ie(f,m){return Object.prototype.hasOwnProperty.call(f,m)}p.log=function(){console.log("%s - %s",fe(),p.format.apply(p,arguments))},p.inherits=O(717),p._extend=function(f,m){if(!m||!C(m))return f;for(var F=Object.keys(m),te=F.length;te--;)f[F[te]]=m[F[te]];return f}}},Me={};function Z(U){var p=Me[U];if(p!==void 0)return p.exports;var O=Me[U]={exports:{}};return he[U].call(O.exports,O,O.exports,Z),O.exports}Z.n=U=>{var p=U&&U.__esModule?()=>U.default:()=>U;return Z.d(p,{a:p}),p},Z.d=(U,p)=>{for(var O in p)Z.o(p,O)&&!Z.o(U,O)&&Object.defineProperty(U,O,{enumerable:!0,get:p[O]})},Z.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Z.o=(U,p)=>Object.prototype.hasOwnProperty.call(U,p),Z.r=U=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var we={};return(()=>{Z.r(we),Z.d(we,{LSPluginUser:()=>sr,setupPluginUserInstance:()=>Rr});var U=Z(520);Z(856);const p=function(){this.__data__=[],this.size=0},O=function(t,e){return t===e||t!=t&&e!=e},L=function(t,e){for(var n=t.length;n--;)if(O(t[n][0],e))return n;return-1};var x=Array.prototype.splice;const N=function(t){var e=this.__data__,n=L(e,t);return!(n<0)&&(n==e.length-1?e.pop():x.call(e,n,1),--this.size,!0)},Y=function(t){var e=this.__data__,n=L(e,t);return n<0?void 0:e[n][1]},y=function(t){return L(this.__data__,t)>-1},d=function(t,e){var n=this.__data__,r=L(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function v(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}v.prototype.clear=p,v.prototype.delete=N,v.prototype.get=Y,v.prototype.has=y,v.prototype.set=d;const b=v,R=function(){this.__data__=new b,this.size=0},I=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},D=function(t){return this.__data__.get(t)},H=function(t){return this.__data__.has(t)},E=typeof In=="object"&&In&&In.Object===Object&&In;var M=typeof self=="object"&&self&&self.Object===Object&&self;const s=E||M||Function("return this")(),c=s.Symbol;var g=Object.prototype,C=g.hasOwnProperty,W=g.toString,Q=c?c.toStringTag:void 0;const oe=function(t){var e=C.call(t,Q),n=t[Q];try{t[Q]=void 0;var r=!0}catch{}var i=W.call(t);return r&&(e?t[Q]=n:delete t[Q]),i};var ge=Object.prototype.toString;const ke=function(t){return ge.call(t)};var Ce=c?c.toStringTag:void 0;const fe=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Ce&&Ce in Object(t)?oe(t):ke(t)},Ie=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},f=function(t){if(!Ie(t))return!1;var e=fe(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},m=s["__core-js_shared__"];var F,te=(F=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"";const xe=function(t){return!!te&&te in t};var P=Function.prototype.toString;const G=function(t){if(t!=null){try{return P.call(t)}catch{}try{return t+""}catch{}}return""};var ce=/^\[object .+?Constructor\]$/,Ee=Function.prototype,Oe=Object.prototype,ze=Ee.toString,tt=Oe.hasOwnProperty,de=RegExp("^"+ze.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const le=function(t){return!(!Ie(t)||xe(t))&&(f(t)?de:ce).test(G(t))},Se=function(t,e){return t?.[e]},Ae=function(t,e){var n=Se(t,e);return le(n)?n:void 0},Te=Ae(s,"Map"),Ne=Ae(Object,"create"),Re=function(){this.__data__=Ne?Ne(null):{},this.size=0},Mt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Ct=Object.prototype.hasOwnProperty;const Fn=function(t){var e=this.__data__;if(Ne){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Ct.call(e,t)?e[t]:void 0};var Pn=Object.prototype.hasOwnProperty;const Rn=function(t){var e=this.__data__;return Ne?e[t]!==void 0:Pn.call(e,t)},Dn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ne&&e===void 0?"__lodash_hash_undefined__":e,this};function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=Re,nt.prototype.delete=Mt,nt.prototype.get=Fn,nt.prototype.has=Rn,nt.prototype.set=Dn;const cn=nt,Bn=function(){this.size=0,this.__data__={hash:new cn,map:new(Te||b),string:new cn}},Un=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ut=function(t,e){var n=t.__data__;return Un(e)?n[typeof e=="string"?"string":"hash"]:n.map},w=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},S=function(t){return ut(this,t).get(t)},$=function(t){return ut(this,t).has(t)},V=function(t,e){var n=ut(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function se(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}se.prototype.clear=Bn,se.prototype.delete=w,se.prototype.get=S,se.prototype.has=$,se.prototype.set=V;const Fe=se,Ve=function(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Te||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(t,e),this.size=n.size,this};function Pe(t){var e=this.__data__=new b(t);this.size=e.size}Pe.prototype.clear=R,Pe.prototype.delete=I,Pe.prototype.get=D,Pe.prototype.has=H,Pe.prototype.set=Ve;const Ke=Pe,ft=function(){try{var t=Ae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xt=function(t,e,n){e=="__proto__"&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ft=function(t,e,n){(n!==void 0&&!O(t[e],n)||n===void 0&&!(e in t))&&xt(t,e,n)},ln=function(t){return function(e,n,r){for(var i=-1,a=Object(e),l=r(e),u=l.length;u--;){var h=l[t?u:++i];if(n(a[h],h,a)===!1)break}return e}}();var un=ee&&!ee.nodeType&&ee,dt=un&&!0&&q&&!q.nodeType&&q,fn=dt&&dt.exports===un?s.Buffer:void 0,dn=fn?fn.allocUnsafe:void 0;const $n=function(t,e){if(e)return t.slice();var n=t.length,r=dn?dn(n):new t.constructor(n);return t.copy(r),r},rt=s.Uint8Array,Pt=function(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e},qe=function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},pn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var pt=Object.create;const Rt=function(){function t(){}return function(e){if(!Ie(e))return{};if(pt)return pt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hn=function(t,e){return function(n){return t(e(n))}},gn=hn(Object.getPrototypeOf,Object);var zn=Object.prototype;const Dt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||zn)},mn=function(t){return typeof t.constructor!="function"||Dt(t)?{}:Rt(gn(t))},ve=function(t){return t!=null&&typeof t=="object"},ot=function(t){return ve(t)&&fe(t)=="[object Arguments]"};var He=Object.prototype,Bt=He.hasOwnProperty,Ut=He.propertyIsEnumerable;const Ot=ot(function(){return arguments}())?ot:function(t){return ve(t)&&Bt.call(t,"callee")&&!Ut.call(t,"callee")},Le=Array.isArray,$t=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},ht=function(t){return t!=null&&$t(t.length)&&!f(t)},zt=function(t){return ve(t)&&ht(t)},me=function(){return!1};var qt=ee&&!ee.nodeType&&ee,ye=qt&&!0&&q&&!q.nodeType&&q,Ht=ye&&ye.exports===qt?s.Buffer:void 0;const ae=(Ht?Ht.isBuffer:void 0)||me;var gt=Function.prototype,Wt=Object.prototype,Gt=gt.toString,Jt=Wt.hasOwnProperty,yn=Gt.call(Object);const it=function(t){if(!ve(t)||fe(t)!="[object Object]")return!1;var e=gn(t);if(e===null)return!0;var n=Jt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gt.call(n)==yn};var X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object Boolean]"]=X["[object DataView]"]=X["[object Date]"]=X["[object Error]"]=X["[object Function]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object WeakMap]"]=!1;const Zt=function(t){return ve(t)&&$t(t.length)&&!!X[fe(t)]},Vt=function(t){return function(e){return t(e)}};var Ye=ee&&!ee.nodeType&&ee,We=Ye&&!0&&q&&!q.nodeType&&q,st=We&&We.exports===Ye&&E.process,Kt=function(){try{var t=We&&We.require&&We.require("util").types;return t||st&&st.binding&&st.binding("util")}catch{}}(),St=Kt&&Kt.isTypedArray;const Qe=St?Vt(St):Zt,Ge=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var at=Object.prototype.hasOwnProperty;const vn=function(t,e,n){var r=t[e];at.call(t,e)&&O(r,n)&&(n!==void 0||e in t)||xt(t,e,n)},bn=function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var u=e[a],h=r?r(n[u],t[u],u,n,t):void 0;h===void 0&&(h=t[u]),i?xt(n,u,h):vn(n,u,h)}return n},_n=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Yt=/^(?:0|[1-9]\d*)$/;const At=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Yt.test(t))&&t>-1&&t%1==0&&t<e};var Qt=Object.prototype.hasOwnProperty;const Et=function(t,e){var n=Le(t),r=!n&&Ot(t),i=!n&&!r&&ae(t),a=!n&&!r&&!i&&Qe(t),l=n||r||i||a,u=l?_n(t.length,String):[],h=u.length;for(var A in t)!e&&!Qt.call(t,A)||l&&(A=="length"||i&&(A=="offset"||A=="parent")||a&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||At(A,h))||u.push(A);return u},Je=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var jt=Object.prototype.hasOwnProperty;const wn=function(t){if(!Ie(t))return Je(t);var e=Dt(t),n=[];for(var r in t)(r!="constructor"||!e&&jt.call(t,r))&&n.push(r);return n},kn=function(t){return ht(t)?Et(t,!0):wn(t)},qn=function(t){return bn(t,kn(t))},ct=function(t,e,n,r,i,a,l){var u=Ge(t,n),h=Ge(e,n),A=l.get(h);if(A)Ft(t,n,A);else{var j=a?a(u,h,n+"",t,e,l):void 0,T=j===void 0;if(T){var B=Le(h),J=!B&&ae(h),z=!B&&!J&&Qe(h);j=h,B||J||z?Le(u)?j=u:zt(u)?j=pn(u):J?(T=!1,j=$n(h,!0)):z?(T=!1,j=qe(h,!0)):j=[]:it(h)||Ot(h)?(j=u,Ot(u)?j=qn(u):Ie(u)&&!f(u)||(j=mn(h))):T=!1}T&&(l.set(h,j),i(j,h,r,a,l),l.delete(h)),Ft(t,n,j)}},Hn=function t(e,n,r,i,a){e!==n&&ln(n,function(l,u){if(a||(a=new Ke),Ie(l))ct(e,n,u,r,t,i,a);else{var h=i?i(Ge(e,u),l,u+"",e,n,a):void 0;h===void 0&&(h=l),Ft(e,u,h)}},kn)},Tt=function(t){return t},Xt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var en=Math.max;const Cn=function(t,e,n){return e=en(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=en(r.length-e,0),l=Array(a);++i<a;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),Xt(t,this,u)}},Wn=function(t){return function(){return t}},Lt=ft?function(t,e){return ft(t,"toString",{configurable:!0,enumerable:!1,value:Wn(e),writable:!0})}:Tt;var tn=Date.now;const Gn=function(t){var e=0,n=0;return function(){var r=tn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Lt),De=function(t,e){return Gn(Cn(t,e,Tt),t+"")},xn=function(t,e,n){if(!Ie(n))return!1;var r=typeof e;return!!(r=="number"?ht(n)&&At(e,n.length):r=="string"&&e in n)&&O(n[e],t)},On=function(t){return De(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,l&&xn(n[0],n[1],l)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}(function(t,e,n){Hn(t,e,n)});var mt=function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},mt.apply(this,arguments)};function Jn(t){return t.toLowerCase()}var yt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Be=/[^A-Z0-9]+/gi;function nn(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function Sn(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,a=i===void 0?yt:i,l=r.stripRegexp,u=l===void 0?Be:l,h=r.transform,A=h===void 0?Jn:h,j=r.delimiter,T=j===void 0?" ":j,B=nn(nn(n,a,"$1\0$2"),u,"\0"),J=0,z=B.length;B.charAt(J)==="\0";)J++;for(;B.charAt(z-1)==="\0";)z--;return B.slice(J,z).split("\0").map(A).join(T)}(t,mt({delimiter:"."},e))}var rn=Z(729),vt=Z.n(rn);function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?U.win32:U.posix,k=function(t,e){return e===void 0&&(e={}),Sn(t,mt({delimiter:"_"},e))},_=On;class ne extends vt(){constructor(e,n){super(),on(this,"_tag",void 0),on(this,"_opts",void 0),on(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const a=n.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var l;this._logs.push([e,a]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((l=console)===null||l===void 0||l[e==="ERROR"?"error":"debug"](`${e}: ${a}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function ue(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function be(t,e){let n,r,i=!1;const a=u=>h=>{t&&clearTimeout(t),u(h),i=!0},l=new Promise((u,h)=>{n=a(u),r=a(h),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:l,get settled(){return i}}}const _e=new Map;window.__injectedUIEffects=_e;var bt=Z(227),Ue=Z.n(bt);function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Xe="application/x-postmate-v1+json";let ar=0;const Ur={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Zn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Xe&&!!Ur[t.data.postmate];class $r{constructor(e){K(this,"parent",void 0),K(this,"frame",void 0),K(this,"child",void 0),K(this,"events",{}),K(this,"childOrigin",void 0),K(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Zn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(a=>{a.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++ar,a=l=>{l.data.uid===i&&l.data.postmate==="reply"&&(this.parent.removeEventListener("message",a,!1),r(l.data.value))};this.parent.addEventListener("message",a,!1),this.child.postMessage({postmate:"request",type:Xe,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Xe,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class zr{constructor(e){K(this,"model",void 0),K(this,"parent",void 0),K(this,"parentOrigin",void 0),K(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Zn(n,this.parentOrigin))return;const{property:r,uid:i,data:a,args:l}=n.data;n.data.postmate!=="call"?((u,h,A)=>{const j=typeof u[h]=="function"?u[h].apply(null,A):u[h];return Promise.resolve(j)})(this.model,r,l).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:Xe,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](a)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Xe,value:{name:e,data:n}},this.parentOrigin)}}class Vn{constructor(e){K(this,"container",void 0),K(this,"parent",void 0),K(this,"frame",void 0),K(this,"child",void 0),K(this,"childOrigin",void 0),K(this,"url",void 0),K(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(a=>{const l=document.createElement("a");l.href=a;const u=l.protocol.length>4?l.protocol:window.location.protocol,h=l.host.length?l.port==="80"||l.port==="443"?l.hostname:l.host:window.location.host;return l.origin||`${u}//${h}`})(e=e||this.url);let r,i=0;return new Promise((a,l)=>{const u=A=>!!Zn(A,n)&&(A.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=A.origin,a(new $r(this))):l("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:Xe,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{h(),r=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}K(Vn,"debug",!1),K(Vn,"Model",void 0);class qr{constructor(e){K(this,"child",void 0),K(this,"model",void 0),K(this,"parent",void 0),K(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:Xe},i.origin),this.parentOrigin=i.origin;const a=i.data.model;return a&&Object.keys(a).forEach(l=>{this.model[l]=a[l]}),e(new zr(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:Hr,createSandboxContainer:Wr}=window.QSandbox||{};function Gr(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class Jr extends vt(){constructor(e){super(),sn(this,"_pluginLocal",void 0),sn(this,"_frame",void 0),sn(this,"_root",void 0),sn(this,"_loaded",!1),sn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await Hr(n,{fetch:Gr});this._mount(r,document.body);const a=Wr(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;a.__shadow_mode__=!0,a.LSPluginLocal=this._pluginLocal,a.LSPluginShadow=this,a.LSPluginUser=a.logseq=new sr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const l=await i(a,!0);this._unmountFns.push(l.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const lt=Ue()("LSPlugin:caller"),an="#await#response#",Zr="#lspmsg#",cr="#lspmsg#error#",An=t=>`#lspmsg#${t}`;class Vr extends vt(){constructor(e){super(),Ze(this,"_pluginLocal",void 0),Ze(this,"_connected",!1),Ze(this,"_parent",void 0),Ze(this,"_child",void 0),Ze(this,"_shadow",void 0),Ze(this,"_status",void 0),Ze(this,"_userModel",{}),Ze(this,"_call",void 0),Ze(this,"_callUserModel",void 0),Ze(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const a=new Map,l=be(6e4),u=this._extendUserModel({"#lspmsg#ready#":async j=>{u[An(j?.pid)]=({type:T,payload:B})=>{lt(`[host (_call) -> *user] ${this._debugTag}`,T,B),n.emit(T,B)},await l.resolve()},"#lspmsg#beforeunload#":async j=>{const T=be(1e4);n.emit("beforeunload",Object.assign({actor:T},j)),await T.promise},"#lspmsg#settings#":async({type:j,payload:T})=>{n.emit("settings:changed",T)},[Zr]:async({ns:j,type:T,payload:B})=>{lt(`[host (async) -> *user] ${this._debugTag} ns=${j} type=${T}`,B),j&&j.startsWith("hook")?n.emit(`${j}:${T}`,B):n.emit(T,B)},"#lspmsg#reply#":({_sync:j,result:T})=>{if(lt(`[sync host -> *user] #${j}`,T),a.has(j)){const B=a.get(j);B&&(T!=null&&T.hasOwnProperty(cr)?B.reject(T[cr]):B.resolve(T),a.delete(j))}},...e});var h;if(r)return await l.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const A=new qr(u).sendHandshakeReply();return this._status="pending",await A.then(j=>{this._child=j,this._connected=!0,this._call=async(T,B={},J)=>{if(J){const z=++i;a.set(z,J),B._sync=z,J.setTag(`async call #${z}`),lt(`async call #${z}`)}return j.emit(An(u.baseInfo.id),{type:T,payload:B}),J?.promise},this._callUserModel=async(T,B)=>{try{u[T](B)}catch{lt(`[model method] #${T} not existed`)}},setInterval(()=>{if(a.size>100)for(const[T,B]of a)B.settled&&a.delete(T)},18e5)}).finally(()=>{this._status=void 0}),await l.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=be(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${an}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const a=document.querySelector(`#${r}`);a&&a.parentElement.removeChild(a);const l=document.createElement("div");l.classList.add("lsp-iframe-sandbox-container"),l.id=r,l.dataset.pid=n;try{var u;const T=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(T){l.dataset.inited_layout="true";let{width:B,height:J,left:z,top:re,vw:pe,vh:je}=T;z=Math.max(z,0),z=typeof pe=="number"?`${Math.min(100*z/pe,99)}%`:`${z}px`,re=Math.max(re,45),re=typeof je=="number"?`${Math.min(100*re/je,99)}%`:`${re}px`,Object.assign(l.style,{width:B+"px",height:J+"px",left:z,top:re})}}catch(T){console.error("[Restore Layout Error]",T)}document.body.appendChild(l);const h=new Vn({id:n+"_iframe",container:l,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let A,j=h.sendHandshake();return this._status="pending",new Promise((T,B)=>{A=setTimeout(()=>{B(new Error("handshake Timeout")),h.destroy()},4e3),j.then(J=>{this._parent=J,this._connected=!0,this.emit("connected"),J.on(An(e.id),({type:z,payload:re})=>{var pe,je;lt("[user -> *host] ",z,re),(pe=this._pluginLocal)===null||pe===void 0||pe.emit(z,re||{}),(je=this._pluginLocal)===null||je===void 0||je.caller.emit(z,re||{})}),this._call=async(...z)=>{await J.call(An(e.id),{type:z[0],payload:Object.assign(z[1]||{},{$$pid:e.id})})},this._callUserModel=async(z,...re)=>{if(z.startsWith(an))return await J.get(z.replace(an,""),...re);J.call(z,re?.[0])},T(null)}).catch(J=>{B(J)}).finally(()=>{clearTimeout(A)})}).catch(T=>{throw lt("[iframe sandbox] error",T),T}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Jr(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},a)=>{var l;return a&&(i.actor=a),(l=this._pluginLocal)===null||l===void 0||l.emit(r,Object.assign(i,{$$pid:e.id})),a?.promise},this._callUserModel=async(...r)=>{var i;let a=r[0];(i=a)!==null&&i!==void 0&&i.startsWith(an)&&(a=a.replace(an,""));const l=r[1]||{},u=this._userModel[a];typeof u=="function"&&await u.call(null,l)}}catch(r){throw lt("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function lr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class ur{constructor(e,n){lr(this,"ctx",void 0),lr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class Kr{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const a=this.ensureHostScope();return e=(r=k(e))===null||r===void 0?void 0:r.toLowerCase(),(i=a.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(a,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const fr=t=>`task_callback_${t}`;class Yr{constructor(e,n,r={}){It(this,"_client",void 0),It(this,"_requestId",void 0),It(this,"_requestOptions",void 0),It(this,"_promise",void 0),It(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(fr(this._requestId),A=>{A&&A instanceof Error?h(A):u(A)})});const{success:i,fail:a,final:l}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{a?.(u)}).finally(()=>{l?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Kn extends rn.EventEmitter{constructor(e){super(),It(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n?.requestId;r&&this.emit(fr(r),n?.payload)})}static createRequestTask(e,n,r){return new Yr(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:a,...l}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,l),h=Kn.createRequestTask(this.ctx.Request,u,e);return l.abortable?h:h.promise}get ctx(){return this._ctx}}const Qr=hn(Object.keys,Object);var Xr=Object.prototype.hasOwnProperty;const eo=function(t){if(!Dt(t))return Qr(t);var e=[];for(var n in Object(t))Xr.call(t,n)&&n!="constructor"&&e.push(n);return e},Yn=function(t){return ht(t)?Et(t):eo(t)},to=function(t,e){return t&&ln(t,e,Yn)},no=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ro=function(t){return this.__data__.has(t)};function En(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}En.prototype.add=En.prototype.push=no,En.prototype.has=ro;const oo=En,io=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},so=function(t,e){return t.has(e)},dr=function(t,e,n,r,i,a){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var A=a.get(t),j=a.get(e);if(A&&j)return A==e&&j==t;var T=-1,B=!0,J=2&n?new oo:void 0;for(a.set(t,e),a.set(e,t);++T<u;){var z=t[T],re=e[T];if(r)var pe=l?r(re,z,T,e,t,a):r(z,re,T,t,e,a);if(pe!==void 0){if(pe)continue;B=!1;break}if(J){if(!io(e,function(je,et){if(!so(J,et)&&(z===je||i(z,je,n,r,a)))return J.push(et)})){B=!1;break}}else if(z!==re&&!i(z,re,n,r,a)){B=!1;break}}return a.delete(t),a.delete(e),B},ao=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},co=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var pr=c?c.prototype:void 0,Qn=pr?pr.valueOf:void 0;const lo=function(t,e,n,r,i,a,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new rt(t),new rt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=ao;case"[object Set]":var h=1&r;if(u||(u=co),t.size!=e.size&&!h)return!1;var A=l.get(t);if(A)return A==e;r|=2,l.set(t,e);var j=dr(u(t),u(e),r,i,a,l);return l.delete(t),j;case"[object Symbol]":if(Qn)return Qn.call(t)==Qn.call(e)}return!1},uo=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},fo=function(t,e,n){var r=e(t);return Le(t)?r:uo(r,n(t))},po=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var l=t[n];e(l,n,t)&&(a[i++]=l)}return a},ho=function(){return[]};var go=Object.prototype.propertyIsEnumerable,hr=Object.getOwnPropertySymbols;const mo=hr?function(t){return t==null?[]:(t=Object(t),po(hr(t),function(e){return go.call(t,e)}))}:ho,gr=function(t){return fo(t,Yn,mo)};var yo=Object.prototype.hasOwnProperty;const vo=function(t,e,n,r,i,a){var l=1&n,u=gr(t),h=u.length;if(h!=gr(e).length&&!l)return!1;for(var A=h;A--;){var j=u[A];if(!(l?j in e:yo.call(e,j)))return!1}var T=a.get(t),B=a.get(e);if(T&&B)return T==e&&B==t;var J=!0;a.set(t,e),a.set(e,t);for(var z=l;++A<h;){var re=t[j=u[A]],pe=e[j];if(r)var je=l?r(pe,re,j,e,t,a):r(re,pe,j,t,e,a);if(!(je===void 0?re===pe||i(re,pe,n,r,a):je)){J=!1;break}z||(z=j=="constructor")}if(J&&!z){var et=t.constructor,wt=e.constructor;et==wt||!("constructor"in t)||!("constructor"in e)||typeof et=="function"&&et instanceof et&&typeof wt=="function"&&wt instanceof wt||(J=!1)}return a.delete(t),a.delete(e),J},Xn=Ae(s,"DataView"),er=Ae(s,"Promise"),tr=Ae(s,"Set"),nr=Ae(s,"WeakMap");var mr="[object Map]",yr="[object Promise]",vr="[object Set]",br="[object WeakMap]",_r="[object DataView]",bo=G(Xn),_o=G(Te),wo=G(er),ko=G(tr),Co=G(nr),_t=fe;(Xn&&_t(new Xn(new ArrayBuffer(1)))!=_r||Te&&_t(new Te)!=mr||er&&_t(er.resolve())!=yr||tr&&_t(new tr)!=vr||nr&&_t(new nr)!=br)&&(_t=function(t){var e=fe(t),n=e=="[object Object]"?t.constructor:void 0,r=n?G(n):"";if(r)switch(r){case bo:return _r;case _o:return mr;case wo:return yr;case ko:return vr;case Co:return br}return e});const wr=_t;var kr="[object Arguments]",Cr="[object Array]",jn="[object Object]",xr=Object.prototype.hasOwnProperty;const xo=function(t,e,n,r,i,a){var l=Le(t),u=Le(e),h=l?Cr:wr(t),A=u?Cr:wr(e),j=(h=h==kr?jn:h)==jn,T=(A=A==kr?jn:A)==jn,B=h==A;if(B&&ae(t)){if(!ae(e))return!1;l=!0,j=!1}if(B&&!j)return a||(a=new Ke),l||Qe(t)?dr(t,e,n,r,i,a):lo(t,e,h,n,r,i,a);if(!(1&n)){var J=j&&xr.call(t,"__wrapped__"),z=T&&xr.call(e,"__wrapped__");if(J||z){var re=J?t.value():t,pe=z?e.value():e;return a||(a=new Ke),i(re,pe,n,r,a)}}return!!B&&(a||(a=new Ke),vo(t,e,n,r,i,a))},Or=function t(e,n,r,i,a){return e===n||(e==null||n==null||!ve(e)&&!ve(n)?e!=e&&n!=n:xo(e,n,r,i,t,a))},Oo=function(t,e,n,r){var i=n.length,a=i,l=!r;if(t==null)return!a;for(t=Object(t);i--;){var u=n[i];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var h=(u=n[i])[0],A=t[h],j=u[1];if(l&&u[2]){if(A===void 0&&!(h in t))return!1}else{var T=new Ke;if(r)var B=r(A,j,h,t,e,T);if(!(B===void 0?Or(j,A,3,r,T):B))return!1}}return!0},Sr=function(t){return t==t&&!Ie(t)},So=function(t){for(var e=Yn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sr(i)]}return e},Ar=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Ao=function(t){var e=So(t);return e.length==1&&e[0][2]?Ar(e[0][0],e[0][1]):function(n){return n===t||Oo(n,t,e)}},rr=function(t){return typeof t=="symbol"||ve(t)&&fe(t)=="[object Symbol]"};var Eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jo=/^\w*$/;const or=function(t,e){if(Le(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!rr(t))||jo.test(t)||!Eo.test(t)||e!=null&&t in Object(e)};function ir(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=t.apply(this,r);return n.cache=a.set(i,l)||a,l};return n.cache=new(ir.Cache||Fe),n}ir.Cache=Fe;const To=ir;var Lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Io=/\\(\\)?/g;const No=function(t){var e=To(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lo,function(n,r,i,a){e.push(i?a.replace(Io,"$1"):r||n)}),e}),Mo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Er=c?c.prototype:void 0,jr=Er?Er.toString:void 0;const Fo=function t(e){if(typeof e=="string")return e;if(Le(e))return Mo(e,t)+"";if(rr(e))return jr?jr.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Po=function(t){return t==null?"":Fo(t)},Tr=function(t,e){return Le(t)?t:or(t,e)?[t]:No(Po(t))},Tn=function(t){if(typeof t=="string"||rr(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Lr=function(t,e){for(var n=0,r=(e=Tr(e,t)).length;t!=null&&n<r;)t=t[Tn(e[n++])];return n&&n==r?t:void 0},Ro=function(t,e,n){var r=t==null?void 0:Lr(t,e);return r===void 0?n:r},Do=function(t,e){return t!=null&&e in Object(t)},Bo=function(t,e,n){for(var r=-1,i=(e=Tr(e,t)).length,a=!1;++r<i;){var l=Tn(e[r]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++r!=i?a:!!(i=t==null?0:t.length)&&$t(i)&&At(l,i)&&(Le(t)||Ot(t))},Uo=function(t,e){return t!=null&&Bo(t,e,Do)},$o=function(t,e){return or(t)&&Sr(e)?Ar(Tn(t),e):function(n){var r=Ro(n,t);return r===void 0&&r===e?Uo(n,t):Or(e,r,3)}},zo=function(t){return function(e){return e?.[t]}},qo=function(t){return function(e){return Lr(e,t)}},Ho=function(t){return or(t)?zo(Tn(t)):qo(t)},Wo=function(t){return typeof t=="function"?t:t==null?Tt:typeof t=="object"?Le(t)?$o(t[0],t[1]):Ao(t):Ho(t)},Go=function(t,e){var n={};return e=Wo(e),to(t,function(r,i,a){xt(n,e(r,i,a),r)}),n};function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Jo{constructor(e,n){Ir(this,"ctx",void 0),Ir(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Le(r?.blocks)&&(r.blocks=r.blocks.map(i=>i&&Go(i,(a,l)=>`block/${l}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const a=(l=>`service:search:${l}:${n.name}`)(r);e.caller.on(a,async l=>{if(f(n?.[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(h=>{if(l){if(h===!0)return l;if(l.hasOwnProperty(h)){const A=l[h];return delete l[h],A}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${a}:reply`,u)}}})})}}function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Zo=Symbol.for("proxy-continue"),Vo=Ue()("LSPlugin:user"),Nr=new ne("",{console:!0});function Nt(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:a,desc:l,palette:u,keybinding:h,extras:A}=e,j=`SimpleCommandHook${i}${++Pr}`;this.Editor["on"+j](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:a,type:t,desc:l,keybinding:h,extras:A},["editor/hook",j]],u]})}function Mr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Nr.error(`#${t} is not a valid UUID string.`),!1);var e}let Ln=null,Fr=new Map;const Ko={async getInfo(t){return Ln||(Ln=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?Ln[t]:Ln},registerCommand:Nt,registerSearchService(t){if(Fr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Fr.set(t.name,new Jo(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return Nt.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+k(n);return Nt.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;Nt.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:editor:${k(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const a=t.replace(`${r}.${i}.`,"");if(!r||!i||!a)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),a,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Pr=0;const Yo={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Vo("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...a]=r;if(i==="editor/hook"){let l=a[0],u=()=>{var A;(A=this.caller)===null||A===void 0||A.callUserModel(l)};typeof l=="function"&&(u=l);const h=`SlashCommandHook${i}${++Pr}`;r[1]=h,this.Editor["on"+h](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Nt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Nt.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},Qo={onBlockChanged(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:db:${k(`block:${t}`)}`,i=({block:a,txData:l,txMeta:u})=>{a.uuid===t&&e(a,l,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Xo={},ei={},ti={makeSandboxStorage(){return new ur(this,{assets:!0})}};class sr extends vt(){constructor(e,n){super(),$e(this,"_baseInfo",void 0),$e(this,"_caller",void 0),$e(this,"_version","0.0.15"),$e(this,"_debugTag",""),$e(this,"_settingsSchema",void 0),$e(this,"_connected",!1),$e(this,"_ui",new Map),$e(this,"_mFileStorage",void 0),$e(this,"_mRequest",void 0),$e(this,"_mExperiments",void 0),$e(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),a=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...a},i)}),n.on("beforeunload",async r=>{const{actor:i,...a}=r,l=this._beforeunloadCallback;try{l&&await l(a),i?.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=_(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(a,l){const u=(l||[]).reduce((h,A)=>("default"in A&&(h[A.key]=A.default),h),{});return Object.assign(u,a)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(a){console.warn(a)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Nr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),ue(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(a,l,u){const h=a[l];return function(...A){if(h){const T=h.apply(r,A.concat(n));if(T!==Zo)return T}if(n){const T=l.toString().match(/^(once|off|on)/i);if(T!=null){const B=T[0].toLowerCase(),J=T.input.slice(B.length),z=B==="off",re=r.baseInfo.id,pe=`hook:${n}:${k(J)}`,je=A[0],et=A[1];i[B](pe,je);const wt=()=>{i.off(pe,je),i.listenerCount(pe)||r.App._uninstallPluginHook(re,pe)};return z?void wt():(r.App._installPluginHook(re,pe,et),wt)}}let j=l;return["git","ui","assets"].includes(n)&&(j=n+"_"+j),i.callAsync("api:call",{tag:n,method:j,args:A})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Ko,"app")}get Editor(){return this._makeUserProxy(Yo,"editor")}get DB(){return this._makeUserProxy(Qo,"db")}get Git(){return this._makeUserProxy(Xo,"git")}get UI(){return this._makeUserProxy(ei,"ui")}get Assets(){return this._makeUserProxy(ti,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new ur(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Kn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Kr(this)),e}}function Rr(t,e){return new sr(t,e)}if(window.__LSP__HOST__==null){const t=new Vr(null);window.logseq=Rr({},t)}})(),we})())})(Mn,Mn.exports);Mn.exports;const Dr="en";let Nn=Dr,Br={};async function ni({defaultLocale:q=Dr,builtinTranslations:ee}){Nn=(await logseq.App.getUserConfigs()).preferredLanguage,Nn!==q&&ee?.[Nn]!=null&&(Br=ee)}function ie(q,ee){const he=Br[Nn]?.[q]??q;return ee==null?he:Object.entries(ee).reduce((Me,[Z,we])=>Me.replaceAll(`\${${Z}}`,we),he)}const ri=()=>{logseq.Editor.registerBlockContextMenuItem(` ${ie("Clear the block")}`,async({uuid:q})=>logseq.Editor.updateBlock(q,"",{})),logseq.App.registerCommandPalette({key:"clearBlocks",label:` ${ie("Clear blocks (selected)")}`,keybinding:{mode:"non-editing",binding:"mod+delete"}},async()=>{const q=await logseq.Editor.getSelectedBlocks();if(!q)return logseq.UI.showMsg(ie("No blocks selected"));for(const ee of q)await logseq.Editor.updateBlock(ee.uuid,"",{});logseq.UI.showMsg(ie("Cleared the blocks"),"success",{timeout:2e3})})},oi=()=>[{key:"headingClearBlocks",title:ie("Clear block feature > From the bullet menu item or command pallet menu item"),type:"heading",default:"",description:ie("Any block is selected by pressing the Esc key while the cursor is on a block. Select other blocks with the cursor key or mouse while pressing the Shift or Ctrl (Cmd) key. Press the shortcut `Ctrl(Cmd)+Del` to clear the contents of the block.")},{key:"loadClearBlocks",title:ie("Enable"),type:"boolean",default:!0,description:ie("(need to turn off this plugin or restart Logseq to take effect)")},{key:"headingBlankLine",title:ie("Blank line feature"),type:"heading",default:"",description:""},{key:"blankOneLine",title:ie("Add a blank line"),type:"enum",enumChoices:["1"],default:"1",description:ie("Shortcut key")+": `Alt`+ `Enter`"},{key:"previousLineBlank",title:ie("Number of inserting blank lines (previous)"),type:"enum",default:"3",enumChoices:["1","2","3","4","5","6","7","8","9","10","15","20"],description:ie("Shortcut key")+": `Ctrl` or `Mod` + `Pg-Up`"},{key:"nextLineBlank",title:ie("Number of inserting blank lines (next)"),type:"enum",default:"3",enumChoices:["1","2","3","4","5","6","7","8","9","10","15","20"],description:ie("Shortcut key")+": `Ctrl` or `Mod` + `Pg-Down`"},{key:"nextLineBlankFromPageMenu",title:ie("Number of inserting blank lines (from the page menu)"),type:"enum",default:"10",enumChoices:["1","2","3","5","7","10","15","20","30"],description:ie("Page title menu > ` Blank Lines to Top ` / ` Blank Lines to Bottom `")},{key:"bulletContextMenuItem",type:"boolean",title:ie("Blank line > Enable bullet context menu item"),description:`default: \`false\`
    ${ie("(need to turn off this plugin or restart Logseq to take effect)")}`,default:!1}],ii="",si={"(need to turn off this plugin or restart Logseq to take effect)":"Logseq","Add a blank line":"","Any block is selected by pressing the Esc key while the cursor is on a block. Select other blocks with the cursor key or mouse while pressing the Shift or Ctrl (Cmd) key. Press the shortcut `Ctrl(Cmd)+Del` to clear the contents of the block.":"EscShiftCtrl(Cmd)Ctrl(Cmd)+Del","Blank line > Enable bullet context menu item":" > ","Blank line feature":"","Clear block feature > From the bullet menu item or command pallet menu item":" > ","Clear blocks (selected)":"","Clear the block":"","Cleared the blocks":"",Enable:ii,"No blocks selected":"","Number of inserting blank lines (from the page menu)":"","Number of inserting blank lines (next)":"","Number of inserting blank lines (previous)":"","Page title menu > ` Blank Lines to Top ` / ` Blank Lines to Bottom `":" >     ","Shortcut key":"()"," A blank line ":"  "," Blank lines (previous) ":"  "," Blank Lines to Bottom ":"  "," Blank Lines to Top ":"  "," Blank lines ":"  "," Done!":"  !"},ai=()=>{logseq.settings.bulletContextMenuItem===!0&&(logseq.Editor.registerBlockContextMenuItem(ie(" Blank lines "),async({uuid:q})=>{logseq.settings?.nextLineBlank&&kt(q,Number(logseq.settings?.nextLineBlank)||1)}),logseq.Editor.registerBlockContextMenuItem(ie(" A blank line "),async({uuid:q})=>{kt(q,1)})),logseq.App.registerCommandPalette({key:"createBlankLinesPrevious",label:ie(" Blank lines (previous) "),keybinding:{binding:"mod+pg-up"}},async({uuid:q})=>{if(!logseq.settings?.previousLineBlank||!q)return;const ee=await logseq.Editor.insertBlock(q,"",{focus:!0,sibling:!0,before:!0}),he=Number(logseq.settings?.previousLineBlank)-1;ee&&he>=1?kt(ee.uuid,he):logseq.UI.showMsg("Please select a block.","warning")}),logseq.App.registerCommandPalette({key:"createBlankLinesNext",label:ie(" Blank lines "),keybinding:{binding:"mod+pg-down"}},async({uuid:q})=>{logseq.settings?.nextLineBlank&&(q?kt(q,Number(logseq.settings?.nextLineBlank)):logseq.UI.showMsg("Please select a block.","warning"))}),logseq.App.registerCommandPalette({key:"createBlankNext1LineOnly",label:ie(" A blank line "),keybinding:{binding:"alt+enter"}},async({uuid:q})=>{q?kt(q,1):logseq.UI.showMsg("Please select a block.","warning")}),logseq.App.registerPageMenuItem(ie(" Blank Lines to Top "),async({page:q})=>{if(!q||!logseq.settings?.nextLineBlankFromPageMenu)return;const ee=await logseq.Editor.getPage(q)||null;if(ee===null)return;const he=await logseq.Editor.prependBlockInPage(q,"");if(!he)return;if(ee["journal?"]===!0){const Z=await logseq.Editor.getPageBlocksTree(q);await logseq.Editor.moveBlock(he.uuid,Z[0].uuid,{before:!0})}let Me=Number(logseq.settings?.nextLineBlankFromPageMenu)-1;Me>=1&&kt(he.uuid,Me)}),logseq.App.registerPageMenuItem(ie(" Blank Lines to Bottom "),async({page:q})=>{if(!q)return;const ee=await logseq.Editor.appendBlockInPage(q,"");if(!ee)return;let he=Number(logseq.settings?.nextLineBlankFromPageMenu)||1;he-1>=1&&kt(ee.uuid,he-1)})},ci=async()=>{await ni({builtinTranslations:{ja:si}}),logseq.useSettingsSchema(oi()),logseq.settings||setTimeout(()=>logseq.showSettingsUI(),300),ai(),logseq.settings.loadClearBlocks===!0&&ri()},kt=(q,ee)=>{for(let he=0;he<ee;he++)logseq.Editor.insertBlock(q,"",{focus:!0,sibling:!0});logseq.UI.showMsg(ie("  Done!"),"info")};logseq.ready(ci).catch(console.error);

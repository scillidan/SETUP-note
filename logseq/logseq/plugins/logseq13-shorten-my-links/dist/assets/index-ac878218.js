(function(){const J=document.createElement("link").relList;if(J&&J.supports&&J.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))ge($);new MutationObserver($=>{for(const ne of $)if(ne.type==="childList")for(const I of ne.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&ge(I)}).observe(document,{childList:!0,subtree:!0});function fe($){const ne={};return $.integrity&&(ne.integrity=$.integrity),$.referrerPolicy&&(ne.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?ne.credentials="include":$.crossOrigin==="anonymous"?ne.credentials="omit":ne.credentials="same-origin",ne}function ge($){if($.ep)return;$.ep=!0;const ne=fe($);fetch($.href,ne)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Fn.exports;(function(G,J){(function(fe,ge){G.exports=ge()})(self,()=>(()=>{var fe={227:(I,f,C)=>{var A=C(155);f.formatArgs=function(L){if(L[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+L[0]+(this.useColors?"%c ":" ")+"+"+I.exports.humanize(this.diff),!this.useColors)return;const W="color: "+this.color;L.splice(1,0,W,"color: inherit");let v=0,p=0;L[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(v++,y==="%c"&&(p=v))}),L.splice(p,0,W)},f.save=function(L){try{L?f.storage.setItem("debug",L):f.storage.removeItem("debug")}catch{}},f.load=function(){let L;try{L=f.storage.getItem("debug")}catch{}return!L&&A!==void 0&&"env"in A&&(L=A.env.DEBUG),L},f.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},f.storage=function(){try{return localStorage}catch{}}(),f.destroy=(()=>{let L=!1;return()=>{L||(L=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],f.log=console.debug||console.log||(()=>{}),I.exports=C(447)(f);const{formatters:_}=I.exports;_.j=function(L){try{return JSON.stringify(L)}catch(W){return"[UnexpectedJSONParseError]: "+W.message}}},447:(I,f,C)=>{I.exports=function(A){function _(v){let p,y,m,R=null;function F(...U){if(!F.enabled)return;const B=F,E=Number(new Date),M=E-(p||E);B.diff=M,B.prev=p,B.curr=E,p=E,U[0]=_.coerce(U[0]),typeof U[0]!="string"&&U.unshift("%O");let s=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,(c,g)=>{if(c==="%%")return"%";s++;const S=_.formatters[g];if(typeof S=="function"){const Z=U[s];c=S.call(B,Z),U.splice(s,1),s--}return c}),_.formatArgs.call(B,U),(B.log||_.log).apply(B,U)}return F.namespace=v,F.useColors=_.useColors(),F.color=_.selectColor(v),F.extend=L,F.destroy=_.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(y!==_.namespaces&&(y=_.namespaces,m=_.enabled(v)),m),set:U=>{R=U}}),typeof _.init=="function"&&_.init(F),F}function L(v,p){const y=_(this.namespace+(p===void 0?":":p)+v);return y.log=this.log,y}function W(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function(v){return v instanceof Error?v.stack||v.message:v},_.disable=function(){const v=[..._.names.map(W),..._.skips.map(W).map(p=>"-"+p)].join(",");return _.enable(""),v},_.enable=function(v){let p;_.save(v),_.namespaces=v,_.names=[],_.skips=[];const y=(typeof v=="string"?v:"").split(/[\s,]+/),m=y.length;for(p=0;p<m;p++)y[p]&&((v=y[p].replace(/\*/g,".*?"))[0]==="-"?_.skips.push(new RegExp("^"+v.slice(1)+"$")):_.names.push(new RegExp("^"+v+"$")))},_.enabled=function(v){if(v[v.length-1]==="*")return!0;let p,y;for(p=0,y=_.skips.length;p<y;p++)if(_.skips[p].test(v))return!1;for(p=0,y=_.names.length;p<y;p++)if(_.names[p].test(v))return!0;return!1},_.humanize=C(824),_.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(A).forEach(v=>{_[v]=A[v]}),_.names=[],_.skips=[],_.formatters={},_.selectColor=function(v){let p=0;for(let y=0;y<v.length;y++)p=(p<<5)-p+v.charCodeAt(y),p|=0;return _.colors[Math.abs(p)%_.colors.length]},_.enable(_.load()),_}},856:function(I){I.exports=function(){function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(x)}function C(x,j){return C=Object.setPrototypeOf||function(H,Y){return H.__proto__=Y,H},C(x,j)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(x,j,H){return _=A()?Reflect.construct:function(Y,se,Fe){var Ve=[null];Ve.push.apply(Ve,se);var Me=new(Function.bind.apply(Y,Ve));return Fe&&C(Me,Fe.prototype),Me},_.apply(null,arguments)}function L(x){return W(x)||v(x)||p(x)||m()}function W(x){if(Array.isArray(x))return y(x)}function v(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function p(x,j){if(x){if(typeof x=="string")return y(x,j);var H=Object.prototype.toString.call(x).slice(8,-1);return H==="Object"&&x.constructor&&(H=x.constructor.name),H==="Map"||H==="Set"?Array.from(x):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?y(x,j):void 0}}function y(x,j){(j==null||j>x.length)&&(j=x.length);for(var H=0,Y=new Array(j);H<j;H++)Y[H]=x[H];return Y}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=Object.hasOwnProperty,F=Object.setPrototypeOf,U=Object.isFrozen,B=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,M=Object.freeze,s=Object.seal,c=Object.create,g=typeof Reflect<"u"&&Reflect,S=g.apply,Z=g.construct;S||(S=function(x,j,H){return x.apply(j,H)}),M||(M=function(x){return x}),s||(s=function(x){return x}),Z||(Z=function(x,j){return _(x,L(j))});var X=te(Array.prototype.forEach),ie=te(Array.prototype.pop),me=te(Array.prototype.push),xe=te(String.prototype.toLowerCase),Ce=te(String.prototype.match),de=te(String.prototype.replace),Le=te(String.prototype.indexOf),d=te(String.prototype.trim),b=te(RegExp.prototype.test),P=Oe(TypeError);function te(x){return function(j){for(var H=arguments.length,Y=new Array(H>1?H-1:0),se=1;se<H;se++)Y[se-1]=arguments[se];return S(x,j,Y)}}function Oe(x){return function(){for(var j=arguments.length,H=new Array(j),Y=0;Y<j;Y++)H[Y]=arguments[Y];return Z(x,H)}}function D(x,j){F&&F(x,null);for(var H=j.length;H--;){var Y=j[H];if(typeof Y=="string"){var se=xe(Y);se!==Y&&(U(j)||(j[H]=se),Y=se)}x[Y]=!0}return x}function V(x){var j,H=c(null);for(j in x)S(R,x,[j])&&(H[j]=x[j]);return H}function ce(x,j){for(;x!==null;){var H=E(x,j);if(H){if(H.get)return te(H.get);if(typeof H.value=="function")return te(H.value)}x=B(x)}function Y(se){return console.warn("fallback value for",se),null}return Y}var ke=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Se=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$e=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tt=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pe=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),le=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ae=M(["#text"]),je=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Te=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ne=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ft=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ct=s(/<%[\w\W]*|[\w\W]*%>/gm),Pn=s(/^data-[\-\w.\u00B7-\uFFFF]/),Rn=s(/^aria-[\-\w]+$/),Dn=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Un=s(/^(?:\w+script|data):/i),nt=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cn=s(/^html$/i),zn=function(){return typeof window>"u"?null:window},$n=function(x,j){if(f(x)!=="object"||typeof x.createPolicy!="function")return null;var H=null,Y="data-tt-policy-suffix";j.currentScript&&j.currentScript.hasAttribute(Y)&&(H=j.currentScript.getAttribute(Y));var se="dompurify"+(H?"#"+H:"");try{return x.createPolicy(se,{createHTML:function(Fe){return Fe}})}catch{return console.warn("TrustedTypes policy "+se+" could not be created."),null}};function ft(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zn(),j=function(o){return ft(o)};if(j.version="2.3.8",j.removed=[],!x||!x.document||x.document.nodeType!==9)return j.isSupported=!1,j;var H=x.document,Y=x.document,se=x.DocumentFragment,Fe=x.HTMLTemplateElement,Ve=x.Node,Me=x.Element,Ke=x.NodeFilter,dt=x.NamedNodeMap,Ot=dt===void 0?x.NamedNodeMap||x.MozNamedAttrMap:dt,Mt=x.HTMLFormElement,ln=x.DOMParser,un=x.trustedTypes,pt=Me.prototype,fn=ce(pt,"cloneNode"),dn=ce(pt,"nextSibling"),Hn=ce(pt,"childNodes"),rt=ce(pt,"parentNode");if(typeof Fe=="function"){var Pt=Y.createElement("template");Pt.content&&Pt.content.ownerDocument&&(Y=Pt.content.ownerDocument)}var He=$n(un,H),pn=He?He.createHTML(""):"",ht=Y,Rt=ht.implementation,hn=ht.createNodeIterator,gn=ht.createDocumentFragment,qn=ht.getElementsByTagName,Dt=H.importNode,mn={};try{mn=V(Y).documentMode?Y.documentMode:{}}catch{}var be={};j.isSupported=typeof rt=="function"&&Rt&&Rt.createHTMLDocument!==void 0&&mn!==9;var ot,qe,Ut=Ft,zt=Ct,St=Pn,Ie=Rn,$t=Un,gt=nt,Ht=Dn,ve=null,qt=D({},[].concat(L(ke),L(Se),L($e),L(pe),L(Ae))),ye=null,Bt=D({},[].concat(L(je),L(Te),L(Ne),L(Pe))),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mt=null,Wt=null,Gt=!0,Jt=!0,vn=!1,it=!1,ee=!1,Zt=!1,Vt=!1,Ye=!1,Be=!1,st=!1,Kt=!0,At=!0,Qe=!1,We={},at=null,yn=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bn=null,_n=D({},["audio","video","img","source","image","track"]),Yt=null,jt=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",Et=Ge,wn=!1,xn=["application/xhtml+xml","text/html"],Bn="text/html",ct=null,Wn=Y.createElement("form"),Tt=function(o){return o instanceof RegExp||o instanceof Function},Xt=function(o){ct&&ct===o||(o&&f(o)==="object"||(o={}),o=V(o),ve="ALLOWED_TAGS"in o?D({},o.ALLOWED_TAGS):qt,ye="ALLOWED_ATTR"in o?D({},o.ALLOWED_ATTR):Bt,Yt="ADD_URI_SAFE_ATTR"in o?D(V(jt),o.ADD_URI_SAFE_ATTR):jt,bn="ADD_DATA_URI_TAGS"in o?D(V(_n),o.ADD_DATA_URI_TAGS):_n,at="FORBID_CONTENTS"in o?D({},o.FORBID_CONTENTS):yn,mt="FORBID_TAGS"in o?D({},o.FORBID_TAGS):{},Wt="FORBID_ATTR"in o?D({},o.FORBID_ATTR):{},We="USE_PROFILES"in o&&o.USE_PROFILES,Gt=o.ALLOW_ARIA_ATTR!==!1,Jt=o.ALLOW_DATA_ATTR!==!1,vn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,it=o.SAFE_FOR_TEMPLATES||!1,ee=o.WHOLE_DOCUMENT||!1,Ye=o.RETURN_DOM||!1,Be=o.RETURN_DOM_FRAGMENT||!1,st=o.RETURN_TRUSTED_TYPE||!1,Vt=o.FORCE_BODY||!1,Kt=o.SANITIZE_DOM!==!1,At=o.KEEP_CONTENT!==!1,Qe=o.IN_PLACE||!1,Ht=o.ALLOWED_URI_REGEXP||Ht,Et=o.NAMESPACE||Ge,o.CUSTOM_ELEMENT_HANDLING&&Tt(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Tt(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot=ot=xn.indexOf(o.PARSER_MEDIA_TYPE)===-1?Bn:o.PARSER_MEDIA_TYPE,qe=ot==="application/xhtml+xml"?function(O){return O}:xe,it&&(Jt=!1),Be&&(Ye=!0),We&&(ve=D({},L(Ae)),ye=[],We.html===!0&&(D(ve,ke),D(ye,je)),We.svg===!0&&(D(ve,Se),D(ye,Te),D(ye,Pe)),We.svgFilters===!0&&(D(ve,$e),D(ye,Te),D(ye,Pe)),We.mathMl===!0&&(D(ve,pe),D(ye,Ne),D(ye,Pe))),o.ADD_TAGS&&(ve===qt&&(ve=V(ve)),D(ve,o.ADD_TAGS)),o.ADD_ATTR&&(ye===Bt&&(ye=V(ye)),D(ye,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&D(Yt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(at===yn&&(at=V(at)),D(at,o.FORBID_CONTENTS)),At&&(ve["#text"]=!0),ee&&D(ve,["html","head","body"]),ve.table&&(D(ve,["tbody"]),delete mt.tbody),M&&M(o),ct=o)},en=D({},["mi","mo","mn","ms","mtext"]),Cn=D({},["foreignobject","desc","title","annotation-xml"]),Gn=D({},["title","style","font","a","script"]),It=D({},Se);D(It,$e),D(It,tt);var tn=D({},pe);D(tn,le);var Jn=function(o){var O=rt(o);O&&O.tagName||(O={namespaceURI:Ge,tagName:"template"});var w=xe(o.tagName),re=xe(O.tagName);return o.namespaceURI===kt?O.namespaceURI===Ge?w==="svg":O.namespaceURI===Qt?w==="svg"&&(re==="annotation-xml"||en[re]):!!It[w]:o.namespaceURI===Qt?O.namespaceURI===Ge?w==="math":O.namespaceURI===kt?w==="math"&&Cn[re]:!!tn[w]:o.namespaceURI===Ge&&!(O.namespaceURI===kt&&!Cn[re])&&!(O.namespaceURI===Qt&&!en[re])&&!tn[w]&&(Gn[w]||!It[w])},Re=function(o){me(j.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=pn}catch{o.remove()}}},On=function(o,O){try{me(j.removed,{attribute:O.getAttributeNode(o),from:O})}catch{me(j.removed,{attribute:null,from:O})}if(O.removeAttribute(o),o==="is"&&!ye[o])if(Ye||Be)try{Re(O)}catch{}else try{O.setAttribute(o,"")}catch{}},Sn=function(o){var O,w;if(Vt)o="<remove></remove>"+o;else{var re=Ce(o,/^[\r\n\t ]+/);w=re&&re[0]}ot==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var ue=He?He.createHTML(o):o;if(Et===Ge)try{O=new ln().parseFromString(ue,ot)}catch{}if(!O||!O.documentElement){O=Rt.createDocument(Et,"template",null);try{O.documentElement.innerHTML=wn?"":ue}catch{}}var _e=O.body||O.documentElement;return o&&w&&_e.insertBefore(Y.createTextNode(w),_e.childNodes[0]||null),Et===Ge?qn.call(O,ee?"html":"body")[0]:ee?O.documentElement:_e},vt=function(o){return hn.call(o.ownerDocument||o,o,Ke.SHOW_ELEMENT|Ke.SHOW_COMMENT|Ke.SHOW_TEXT,null,!1)},Zn=function(o){return o instanceof Mt&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Ot)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},yt=function(o){return f(Ve)==="object"?o instanceof Ve:o&&f(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},De=function(o,O,w){be[o]&&X(be[o],function(re){re.call(j,O,w,ct)})},nn=function(o){var O;if(De("beforeSanitizeElements",o,null),Zn(o)||b(/[\u0080-\uFFFF]/,o.nodeName))return Re(o),!0;var w=qe(o.nodeName);if(De("uponSanitizeElement",o,{tagName:w,allowedTags:ve}),o.hasChildNodes()&&!yt(o.firstElementChild)&&(!yt(o.content)||!yt(o.content.firstElementChild))&&b(/<[/\w]/g,o.innerHTML)&&b(/<[/\w]/g,o.textContent)||w==="select"&&b(/<template/i,o.innerHTML))return Re(o),!0;if(!ve[w]||mt[w]){if(!mt[w]&&rn(w)&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,w)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(w)))return!1;if(At&&!at[w]){var re=rt(o)||o.parentNode,ue=Hn(o)||o.childNodes;if(ue&&re)for(var _e=ue.length-1;_e>=0;--_e)re.insertBefore(fn(ue[_e],!0),dn(o))}return Re(o),!0}return o instanceof Me&&!Jn(o)?(Re(o),!0):w!=="noscript"&&w!=="noembed"||!b(/<\/no(script|embed)/i,o.innerHTML)?(it&&o.nodeType===3&&(O=o.textContent,O=de(O,Ut," "),O=de(O,zt," "),o.textContent!==O&&(me(j.removed,{element:o.cloneNode()}),o.textContent=O)),De("afterSanitizeElements",o,null),!1):(Re(o),!0)},An=function(o,O,w){if(Kt&&(O==="id"||O==="name")&&(w in Y||w in Wn))return!1;if(!(Jt&&!Wt[O]&&b(St,O))){if(!(Gt&&b(Ie,O))){if(!ye[O]||Wt[O]){if(!(rn(o)&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,o)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(o))&&(ae.attributeNameCheck instanceof RegExp&&b(ae.attributeNameCheck,O)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(O))||O==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,w)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(w))))return!1}else if(!Yt[O]){if(!b(Ht,de(w,gt,""))){if((O!=="src"&&O!=="xlink:href"&&O!=="href"||o==="script"||Le(w,"data:")!==0||!bn[o])&&!(vn&&!b($t,de(w,gt,"")))){if(w)return!1}}}}}return!0},rn=function(o){return o.indexOf("-")>0},bt=function(o){var O,w,re,ue;De("beforeSanitizeAttributes",o,null);var _e=o.attributes;if(_e){var we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(ue=_e.length;ue--;){var _t=O=_e[ue],Ue=_t.name,Q=_t.namespaceURI;if(w=Ue==="value"?O.value:d(O.value),re=qe(Ue),we.attrName=re,we.attrValue=w,we.keepAttr=!0,we.forceKeepAttr=void 0,De("uponSanitizeAttribute",o,we),w=we.attrValue,!we.forceKeepAttr&&(On(Ue,o),we.keepAttr))if(b(/\/>/i,w))On(Ue,o);else{it&&(w=de(w,Ut," "),w=de(w,zt," "));var Xe=qe(o.nodeName);if(An(Xe,re,w))try{Q?o.setAttributeNS(Q,Ue,w):o.setAttribute(Ue,w),ie(j.removed)}catch{}}}De("afterSanitizeAttributes",o,null)}},on=function o(O){var w,re=vt(O);for(De("beforeSanitizeShadowDOM",O,null);w=re.nextNode();)De("uponSanitizeShadowNode",w,null),nn(w)||(w.content instanceof se&&o(w.content),bt(w));De("afterSanitizeShadowDOM",O,null)};return j.sanitize=function(o,O){var w,re,ue,_e,we;if((wn=!o)&&(o="<!-->"),typeof o!="string"&&!yt(o)){if(typeof o.toString!="function")throw P("toString is not a function");if(typeof(o=o.toString())!="string")throw P("dirty is not a string, aborting")}if(!j.isSupported){if(f(x.toStaticHTML)==="object"||typeof x.toStaticHTML=="function"){if(typeof o=="string")return x.toStaticHTML(o);if(yt(o))return x.toStaticHTML(o.outerHTML)}return o}if(Zt||Xt(O),j.removed=[],typeof o=="string"&&(Qe=!1),Qe){if(o.nodeName){var _t=qe(o.nodeName);if(!ve[_t]||mt[_t])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Ve)(re=(w=Sn("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&re.nodeName==="BODY"||re.nodeName==="HTML"?w=re:w.appendChild(re);else{if(!Ye&&!it&&!ee&&o.indexOf("<")===-1)return He&&st?He.createHTML(o):o;if(!(w=Sn(o)))return Ye?null:st?pn:""}w&&Vt&&Re(w.firstChild);for(var Ue=vt(Qe?o:w);ue=Ue.nextNode();)ue.nodeType===3&&ue===_e||nn(ue)||(ue.content instanceof se&&on(ue.content),bt(ue),_e=ue);if(_e=null,Qe)return o;if(Ye){if(Be)for(we=gn.call(w.ownerDocument);w.firstChild;)we.appendChild(w.firstChild);else we=w;return ye.shadowroot&&(we=Dt.call(H,we,!0)),we}var Q=ee?w.outerHTML:w.innerHTML;return ee&&ve["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&b(cn,w.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+Q),it&&(Q=de(Q,Ut," "),Q=de(Q,zt," ")),He&&st?He.createHTML(Q):Q},j.setConfig=function(o){Xt(o),Zt=!0},j.clearConfig=function(){ct=null,Zt=!1},j.isValidAttribute=function(o,O,w){ct||Xt({});var re=qe(o),ue=qe(O);return An(re,ue,w)},j.addHook=function(o,O){typeof O=="function"&&(be[o]=be[o]||[],me(be[o],O))},j.removeHook=function(o){if(be[o])return ie(be[o])},j.removeHooks=function(o){be[o]&&(be[o]=[])},j.removeAllHooks=function(){be={}},j}return ft()}()},729:I=>{var f=Object.prototype.hasOwnProperty,C="~";function A(){}function _(p,y,m){this.fn=p,this.context=y,this.once=m||!1}function L(p,y,m,R,F){if(typeof m!="function")throw new TypeError("The listener must be a function");var U=new _(m,R||p,F),B=C?C+y:y;return p._events[B]?p._events[B].fn?p._events[B]=[p._events[B],U]:p._events[B].push(U):(p._events[B]=U,p._eventsCount++),p}function W(p,y){--p._eventsCount==0?p._events=new A:delete p._events[y]}function v(){this._events=new A,this._eventsCount=0}Object.create&&(A.prototype=Object.create(null),new A().__proto__||(C=!1)),v.prototype.eventNames=function(){var p,y,m=[];if(this._eventsCount===0)return m;for(y in p=this._events)f.call(p,y)&&m.push(C?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},v.prototype.listeners=function(p){var y=C?C+p:p,m=this._events[y];if(!m)return[];if(m.fn)return[m.fn];for(var R=0,F=m.length,U=new Array(F);R<F;R++)U[R]=m[R].fn;return U},v.prototype.listenerCount=function(p){var y=C?C+p:p,m=this._events[y];return m?m.fn?1:m.length:0},v.prototype.emit=function(p,y,m,R,F,U){var B=C?C+p:p;if(!this._events[B])return!1;var E,M,s=this._events[B],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(p,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,y),!0;case 3:return s.fn.call(s.context,y,m),!0;case 4:return s.fn.call(s.context,y,m,R),!0;case 5:return s.fn.call(s.context,y,m,R,F),!0;case 6:return s.fn.call(s.context,y,m,R,F,U),!0}for(M=1,E=new Array(c-1);M<c;M++)E[M-1]=arguments[M];s.fn.apply(s.context,E)}else{var g,S=s.length;for(M=0;M<S;M++)switch(s[M].once&&this.removeListener(p,s[M].fn,void 0,!0),c){case 1:s[M].fn.call(s[M].context);break;case 2:s[M].fn.call(s[M].context,y);break;case 3:s[M].fn.call(s[M].context,y,m);break;case 4:s[M].fn.call(s[M].context,y,m,R);break;default:if(!E)for(g=1,E=new Array(c-1);g<c;g++)E[g-1]=arguments[g];s[M].fn.apply(s[M].context,E)}}return!0},v.prototype.on=function(p,y,m){return L(this,p,y,m,!1)},v.prototype.once=function(p,y,m){return L(this,p,y,m,!0)},v.prototype.removeListener=function(p,y,m,R){var F=C?C+p:p;if(!this._events[F])return this;if(!y)return W(this,F),this;var U=this._events[F];if(U.fn)U.fn!==y||R&&!U.once||m&&U.context!==m||W(this,F);else{for(var B=0,E=[],M=U.length;B<M;B++)(U[B].fn!==y||R&&!U[B].once||m&&U[B].context!==m)&&E.push(U[B]);E.length?this._events[F]=E.length===1?E[0]:E:W(this,F)}return this},v.prototype.removeAllListeners=function(p){var y;return p?(y=C?C+p:p,this._events[y]&&W(this,y)):(this._events=new A,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=C,v.EventEmitter=v,I.exports=v},717:I=>{typeof Object.create=="function"?I.exports=function(f,C){f.super_=C,f.prototype=Object.create(C.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:I.exports=function(f,C){f.super_=C;var A=function(){};A.prototype=C.prototype,f.prototype=new A,f.prototype.constructor=f}},824:I=>{var f=1e3,C=60*f,A=60*C,_=24*A,L=7*_,W=365.25*_;function v(p,y,m,R){var F=y>=1.5*m;return Math.round(p/m)+" "+R+(F?"s":"")}I.exports=function(p,y){y=y||{};var m=typeof p;if(m==="string"&&p.length>0)return function(R){if(!((R=String(R)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(F){var U=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return U*W;case"weeks":case"week":case"w":return U*L;case"days":case"day":case"d":return U*_;case"hours":case"hour":case"hrs":case"hr":case"h":return U*A;case"minutes":case"minute":case"mins":case"min":case"m":return U*C;case"seconds":case"second":case"secs":case"sec":case"s":return U*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return U;default:return}}}}(p);if(m==="number"&&isFinite(p))return y.long?function(R){var F=Math.abs(R);return F>=_?v(R,F,_,"day"):F>=A?v(R,F,A,"hour"):F>=C?v(R,F,C,"minute"):F>=f?v(R,F,f,"second"):R+" ms"}(p):function(R){var F=Math.abs(R);return F>=_?Math.round(R/_)+"d":F>=A?Math.round(R/A)+"h":F>=C?Math.round(R/C)+"m":F>=f?Math.round(R/f)+"s":R+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},520:(I,f,C)=>{var A=C(155),_=A.platform==="win32",L=C(539);function W(s,c){for(var g=[],S=0;S<s.length;S++){var Z=s[S];Z&&Z!=="."&&(Z===".."?g.length&&g[g.length-1]!==".."?g.pop():c&&g.push(".."):g.push(Z))}return g}function v(s){for(var c=s.length-1,g=0;g<=c&&!s[g];g++);for(var S=c;S>=0&&!s[S];S--);return g===0&&S===c?s:g>S?[]:s.slice(g,S+1)}var p=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,y=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,m={};function R(s){var c=p.exec(s),g=(c[1]||"")+(c[2]||""),S=c[3]||"",Z=y.exec(S);return[g,Z[1],Z[2],Z[3]]}function F(s){var c=p.exec(s),g=c[1]||"",S=!!g&&g[1]!==":";return{device:g,isUnc:S,isAbsolute:S||!!c[2],tail:c[3]}}function U(s){return"\\\\"+s.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}m.resolve=function(){for(var s="",c="",g=!1,S=arguments.length-1;S>=-1;S--){var Z;if(S>=0?Z=arguments[S]:s?(Z=A.env["="+s])&&Z.substr(0,3).toLowerCase()===s.toLowerCase()+"\\"||(Z=s+"\\"):Z=A.cwd(),!L.isString(Z))throw new TypeError("Arguments to path.resolve must be strings");if(Z){var X=F(Z),ie=X.device,me=X.isUnc,xe=X.isAbsolute,Ce=X.tail;if((!ie||!s||ie.toLowerCase()===s.toLowerCase())&&(s||(s=ie),g||(c=Ce+"\\"+c,g=xe),s&&g))break}}return me&&(s=U(s)),s+(g?"\\":"")+(c=W(c.split(/[\\\/]+/),!g).join("\\"))||"."},m.normalize=function(s){var c=F(s),g=c.device,S=c.isUnc,Z=c.isAbsolute,X=c.tail,ie=/[\\\/]$/.test(X);return(X=W(X.split(/[\\\/]+/),!Z).join("\\"))||Z||(X="."),X&&ie&&(X+="\\"),S&&(g=U(g)),g+(Z?"\\":"")+X},m.isAbsolute=function(s){return F(s).isAbsolute},m.join=function(){for(var s=[],c=0;c<arguments.length;c++){var g=arguments[c];if(!L.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&s.push(g)}var S=s.join("\\");return/^[\\\/]{2}[^\\\/]/.test(s[0])||(S=S.replace(/^[\\\/]{2,}/,"\\")),m.normalize(S)},m.relative=function(s,c){s=m.resolve(s),c=m.resolve(c);for(var g=s.toLowerCase(),S=c.toLowerCase(),Z=v(c.split("\\")),X=v(g.split("\\")),ie=v(S.split("\\")),me=Math.min(X.length,ie.length),xe=me,Ce=0;Ce<me;Ce++)if(X[Ce]!==ie[Ce]){xe=Ce;break}if(xe==0)return c;var de=[];for(Ce=xe;Ce<X.length;Ce++)de.push("..");return(de=de.concat(Z.slice(xe))).join("\\")},m._makeLong=function(s){if(!L.isString(s))return s;if(!s)return"";var c=m.resolve(s);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):s},m.dirname=function(s){var c=R(s),g=c[0],S=c[1];return g||S?(S&&(S=S.substr(0,S.length-1)),g+S):"."},m.basename=function(s,c){var g=R(s)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},m.extname=function(s){return R(s)[3]},m.format=function(s){if(!L.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!L.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);var g=s.dir,S=s.base||"";return g?g[g.length-1]===m.sep?g+S:g+m.sep+S:S},m.parse=function(s){if(!L.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=R(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},m.sep="\\",m.delimiter=";";var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,E={};function M(s){return B.exec(s).slice(1)}E.resolve=function(){for(var s="",c=!1,g=arguments.length-1;g>=-1&&!c;g--){var S=g>=0?arguments[g]:A.cwd();if(!L.isString(S))throw new TypeError("Arguments to path.resolve must be strings");S&&(s=S+"/"+s,c=S[0]==="/")}return(c?"/":"")+(s=W(s.split("/"),!c).join("/"))||"."},E.normalize=function(s){var c=E.isAbsolute(s),g=s&&s[s.length-1]==="/";return(s=W(s.split("/"),!c).join("/"))||c||(s="."),s&&g&&(s+="/"),(c?"/":"")+s},E.isAbsolute=function(s){return s.charAt(0)==="/"},E.join=function(){for(var s="",c=0;c<arguments.length;c++){var g=arguments[c];if(!L.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&(s+=s?"/"+g:g)}return E.normalize(s)},E.relative=function(s,c){s=E.resolve(s).substr(1),c=E.resolve(c).substr(1);for(var g=v(s.split("/")),S=v(c.split("/")),Z=Math.min(g.length,S.length),X=Z,ie=0;ie<Z;ie++)if(g[ie]!==S[ie]){X=ie;break}var me=[];for(ie=X;ie<g.length;ie++)me.push("..");return(me=me.concat(S.slice(X))).join("/")},E._makeLong=function(s){return s},E.dirname=function(s){var c=M(s),g=c[0],S=c[1];return g||S?(S&&(S=S.substr(0,S.length-1)),g+S):"."},E.basename=function(s,c){var g=M(s)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},E.extname=function(s){return M(s)[3]},E.format=function(s){if(!L.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!L.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);return(s.dir?s.dir+E.sep:"")+(s.base||"")},E.parse=function(s){if(!L.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=M(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},E.sep="/",E.delimiter=":",I.exports=_?m:E,I.exports.posix=E,I.exports.win32=m},155:I=>{var f,C,A=I.exports={};function _(){throw new Error("setTimeout has not been defined")}function L(){throw new Error("clearTimeout has not been defined")}function W(E){if(f===setTimeout)return setTimeout(E,0);if((f===_||!f)&&setTimeout)return f=setTimeout,setTimeout(E,0);try{return f(E,0)}catch{try{return f.call(null,E,0)}catch{return f.call(this,E,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:_}catch{f=_}try{C=typeof clearTimeout=="function"?clearTimeout:L}catch{C=L}})();var v,p=[],y=!1,m=-1;function R(){y&&v&&(y=!1,v.length?p=v.concat(p):m=-1,p.length&&F())}function F(){if(!y){var E=W(R);y=!0;for(var M=p.length;M;){for(v=p,p=[];++m<M;)v&&v[m].run();m=-1,M=p.length}v=null,y=!1,function(s){if(C===clearTimeout)return clearTimeout(s);if((C===L||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(s);try{C(s)}catch{try{return C.call(null,s)}catch{return C.call(this,s)}}}(E)}}function U(E,M){this.fun=E,this.array=M}function B(){}A.nextTick=function(E){var M=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)M[s-1]=arguments[s];p.push(new U(E,M)),p.length!==1||y||W(F)},U.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=B,A.addListener=B,A.once=B,A.off=B,A.removeListener=B,A.removeAllListeners=B,A.emit=B,A.prependListener=B,A.prependOnceListener=B,A.listeners=function(E){return[]},A.binding=function(E){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(E){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},384:I=>{I.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},539:(I,f,C)=>{var A=C(155),_=/%[sdj%]/g;f.format=function(d){if(!s(d)){for(var b=[],P=0;P<arguments.length;P++)b.push(v(arguments[P]));return b.join(" ")}P=1;for(var te=arguments,Oe=te.length,D=String(d).replace(_,function(ce){if(ce==="%%")return"%";if(P>=Oe)return ce;switch(ce){case"%s":return String(te[P++]);case"%d":return Number(te[P++]);case"%j":try{return JSON.stringify(te[P++])}catch{return"[Circular]"}default:return ce}}),V=te[P];P<Oe;V=te[++P])E(V)||!S(V)?D+=" "+V:D+=" "+v(V);return D},f.deprecate=function(d,b){if(c(C.g.process))return function(){return f.deprecate(d,b).apply(this,arguments)};if(A.noDeprecation===!0)return d;var P=!1;return function(){if(!P){if(A.throwDeprecation)throw new Error(b);A.traceDeprecation?console.trace(b):console.error(b),P=!0}return d.apply(this,arguments)}};var L,W={};function v(d,b){var P={seen:[],stylize:y};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),B(b)?P.showHidden=b:b&&f._extend(P,b),c(P.showHidden)&&(P.showHidden=!1),c(P.depth)&&(P.depth=2),c(P.colors)&&(P.colors=!1),c(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=p),m(P,d,P.depth)}function p(d,b){var P=v.styles[b];return P?"\x1B["+v.colors[P][0]+"m"+d+"\x1B["+v.colors[P][1]+"m":d}function y(d,b){return d}function m(d,b,P){if(d.customInspect&&b&&ie(b.inspect)&&b.inspect!==f.inspect&&(!b.constructor||b.constructor.prototype!==b)){var te=b.inspect(P,d);return s(te)||(te=m(d,te,P)),te}var Oe=function(pe,le){if(c(le))return pe.stylize("undefined","undefined");if(s(le)){var Ae="'"+JSON.stringify(le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pe.stylize(Ae,"string")}if(M(le))return pe.stylize(""+le,"number");if(B(le))return pe.stylize(""+le,"boolean");if(E(le))return pe.stylize("null","null")}(d,b);if(Oe)return Oe;var D=Object.keys(b),V=function(pe){var le={};return pe.forEach(function(Ae,je){le[Ae]=!0}),le}(D);if(d.showHidden&&(D=Object.getOwnPropertyNames(b)),X(b)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return R(b);if(D.length===0){if(ie(b)){var ce=b.name?": "+b.name:"";return d.stylize("[Function"+ce+"]","special")}if(g(b))return d.stylize(RegExp.prototype.toString.call(b),"regexp");if(Z(b))return d.stylize(Date.prototype.toString.call(b),"date");if(X(b))return R(b)}var ke,Se="",$e=!1,tt=["{","}"];return U(b)&&($e=!0,tt=["[","]"]),ie(b)&&(Se=" [Function"+(b.name?": "+b.name:"")+"]"),g(b)&&(Se=" "+RegExp.prototype.toString.call(b)),Z(b)&&(Se=" "+Date.prototype.toUTCString.call(b)),X(b)&&(Se=" "+R(b)),D.length!==0||$e&&b.length!=0?P<0?g(b)?d.stylize(RegExp.prototype.toString.call(b),"regexp"):d.stylize("[Object]","special"):(d.seen.push(b),ke=$e?function(pe,le,Ae,je,Te){for(var Ne=[],Pe=0,Ft=le.length;Pe<Ft;++Pe)Le(le,String(Pe))?Ne.push(F(pe,le,Ae,je,String(Pe),!0)):Ne.push("");return Te.forEach(function(Ct){Ct.match(/^\d+$/)||Ne.push(F(pe,le,Ae,je,Ct,!0))}),Ne}(d,b,P,V,D):D.map(function(pe){return F(d,b,P,V,pe,$e)}),d.seen.pop(),function(pe,le,Ae){return pe.reduce(function(je,Te){return Te.indexOf(`
`)>=0,je+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ae[0]+(le===""?"":le+`
 `)+" "+pe.join(`,
  `)+" "+Ae[1]:Ae[0]+le+" "+pe.join(", ")+" "+Ae[1]}(ke,Se,tt)):tt[0]+Se+tt[1]}function R(d){return"["+Error.prototype.toString.call(d)+"]"}function F(d,b,P,te,Oe,D){var V,ce,ke;if((ke=Object.getOwnPropertyDescriptor(b,Oe)||{value:b[Oe]}).get?ce=ke.set?d.stylize("[Getter/Setter]","special"):d.stylize("[Getter]","special"):ke.set&&(ce=d.stylize("[Setter]","special")),Le(te,Oe)||(V="["+Oe+"]"),ce||(d.seen.indexOf(ke.value)<0?(ce=E(P)?m(d,ke.value,null):m(d,ke.value,P-1)).indexOf(`
`)>-1&&(ce=D?ce.split(`
`).map(function(Se){return"  "+Se}).join(`
`).substr(2):`
`+ce.split(`
`).map(function(Se){return"   "+Se}).join(`
`)):ce=d.stylize("[Circular]","special")),c(V)){if(D&&Oe.match(/^\d+$/))return ce;(V=JSON.stringify(""+Oe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=d.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=d.stylize(V,"string"))}return V+": "+ce}function U(d){return Array.isArray(d)}function B(d){return typeof d=="boolean"}function E(d){return d===null}function M(d){return typeof d=="number"}function s(d){return typeof d=="string"}function c(d){return d===void 0}function g(d){return S(d)&&me(d)==="[object RegExp]"}function S(d){return typeof d=="object"&&d!==null}function Z(d){return S(d)&&me(d)==="[object Date]"}function X(d){return S(d)&&(me(d)==="[object Error]"||d instanceof Error)}function ie(d){return typeof d=="function"}function me(d){return Object.prototype.toString.call(d)}function xe(d){return d<10?"0"+d.toString(10):d.toString(10)}f.debuglog=function(d){if(c(L)&&(L=A.env.NODE_DEBUG||""),d=d.toUpperCase(),!W[d])if(new RegExp("\\b"+d+"\\b","i").test(L)){var b=A.pid;W[d]=function(){var P=f.format.apply(f,arguments);console.error("%s %d: %s",d,b,P)}}else W[d]=function(){};return W[d]},f.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=U,f.isBoolean=B,f.isNull=E,f.isNullOrUndefined=function(d){return d==null},f.isNumber=M,f.isString=s,f.isSymbol=function(d){return typeof d=="symbol"},f.isUndefined=c,f.isRegExp=g,f.isObject=S,f.isDate=Z,f.isError=X,f.isFunction=ie,f.isPrimitive=function(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||d===void 0},f.isBuffer=C(384);var Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var d=new Date,b=[xe(d.getHours()),xe(d.getMinutes()),xe(d.getSeconds())].join(":");return[d.getDate(),Ce[d.getMonth()],b].join(" ")}function Le(d,b){return Object.prototype.hasOwnProperty.call(d,b)}f.log=function(){console.log("%s - %s",de(),f.format.apply(f,arguments))},f.inherits=C(717),f._extend=function(d,b){if(!b||!S(b))return d;for(var P=Object.keys(b),te=P.length;te--;)d[P[te]]=b[P[te]];return d}}},ge={};function $(I){var f=ge[I];if(f!==void 0)return f.exports;var C=ge[I]={exports:{}};return fe[I].call(C.exports,C,C.exports,$),C.exports}$.n=I=>{var f=I&&I.__esModule?()=>I.default:()=>I;return $.d(f,{a:f}),f},$.d=(I,f)=>{for(var C in f)$.o(f,C)&&!$.o(I,C)&&Object.defineProperty(I,C,{enumerable:!0,get:f[C]})},$.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),$.o=(I,f)=>Object.prototype.hasOwnProperty.call(I,f),$.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var ne={};return(()=>{$.r(ne),$.d(ne,{LSPluginUser:()=>ar,setupPluginUserInstance:()=>Ur});var I=$(520);$(856);const f=function(){this.__data__=[],this.size=0},C=function(t,e){return t===e||t!=t&&e!=e},A=function(t,e){for(var n=t.length;n--;)if(C(t[n][0],e))return n;return-1};var _=Array.prototype.splice;const L=function(t){var e=this.__data__,n=A(e,t);return!(n<0)&&(n==e.length-1?e.pop():_.call(e,n,1),--this.size,!0)},W=function(t){var e=this.__data__,n=A(e,t);return n<0?void 0:e[n][1]},v=function(t){return A(this.__data__,t)>-1},p=function(t,e){var n=this.__data__,r=A(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=f,y.prototype.delete=L,y.prototype.get=W,y.prototype.has=v,y.prototype.set=p;const m=y,R=function(){this.__data__=new m,this.size=0},F=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},U=function(t){return this.__data__.get(t)},B=function(t){return this.__data__.has(t)},E=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln;var M=typeof self=="object"&&self&&self.Object===Object&&self;const s=E||M||Function("return this")(),c=s.Symbol;var g=Object.prototype,S=g.hasOwnProperty,Z=g.toString,X=c?c.toStringTag:void 0;const ie=function(t){var e=S.call(t,X),n=t[X];try{t[X]=void 0;var r=!0}catch{}var i=Z.call(t);return r&&(e?t[X]=n:delete t[X]),i};var me=Object.prototype.toString;const xe=function(t){return me.call(t)};var Ce=c?c.toStringTag:void 0;const de=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Ce&&Ce in Object(t)?ie(t):xe(t)},Le=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},d=function(t){if(!Le(t))return!1;var e=de(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},b=s["__core-js_shared__"];var P,te=(P=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const Oe=function(t){return!!te&&te in t};var D=Function.prototype.toString;const V=function(t){if(t!=null){try{return D.call(t)}catch{}try{return t+""}catch{}}return""};var ce=/^\[object .+?Constructor\]$/,ke=Function.prototype,Se=Object.prototype,$e=ke.toString,tt=Se.hasOwnProperty,pe=RegExp("^"+$e.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const le=function(t){return!(!Le(t)||Oe(t))&&(d(t)?pe:ce).test(V(t))},Ae=function(t,e){return t?.[e]},je=function(t,e){var n=Ae(t,e);return le(n)?n:void 0},Te=je(s,"Map"),Ne=je(Object,"create"),Pe=function(){this.__data__=Ne?Ne(null):{},this.size=0},Ft=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Ct=Object.prototype.hasOwnProperty;const Pn=function(t){var e=this.__data__;if(Ne){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Ct.call(e,t)?e[t]:void 0};var Rn=Object.prototype.hasOwnProperty;const Dn=function(t){var e=this.__data__;return Ne?e[t]!==void 0:Rn.call(e,t)},Un=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ne&&e===void 0?"__lodash_hash_undefined__":e,this};function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=Pe,nt.prototype.delete=Ft,nt.prototype.get=Pn,nt.prototype.has=Dn,nt.prototype.set=Un;const cn=nt,zn=function(){this.size=0,this.__data__={hash:new cn,map:new(Te||m),string:new cn}},$n=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ft=function(t,e){var n=t.__data__;return $n(e)?n[typeof e=="string"?"string":"hash"]:n.map},x=function(t){var e=ft(this,t).delete(t);return this.size-=e?1:0,e},j=function(t){return ft(this,t).get(t)},H=function(t){return ft(this,t).has(t)},Y=function(t,e){var n=ft(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function se(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}se.prototype.clear=zn,se.prototype.delete=x,se.prototype.get=j,se.prototype.has=H,se.prototype.set=Y;const Fe=se,Ve=function(t,e){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!Te||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(t,e),this.size=n.size,this};function Me(t){var e=this.__data__=new m(t);this.size=e.size}Me.prototype.clear=R,Me.prototype.delete=F,Me.prototype.get=U,Me.prototype.has=B,Me.prototype.set=Ve;const Ke=Me,dt=function(){try{var t=je(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ot=function(t,e,n){e=="__proto__"&&dt?dt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Mt=function(t,e,n){(n!==void 0&&!C(t[e],n)||n===void 0&&!(e in t))&&Ot(t,e,n)},ln=function(t){return function(e,n,r){for(var i=-1,a=Object(e),l=r(e),u=l.length;u--;){var h=l[t?u:++i];if(n(a[h],h,a)===!1)break}return e}}();var un=J&&!J.nodeType&&J,pt=un&&!0&&G&&!G.nodeType&&G,fn=pt&&pt.exports===un?s.Buffer:void 0,dn=fn?fn.allocUnsafe:void 0;const Hn=function(t,e){if(e)return t.slice();var n=t.length,r=dn?dn(n):new t.constructor(n);return t.copy(r),r},rt=s.Uint8Array,Pt=function(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e},He=function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},pn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var ht=Object.create;const Rt=function(){function t(){}return function(e){if(!Le(e))return{};if(ht)return ht(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hn=function(t,e){return function(n){return t(e(n))}},gn=hn(Object.getPrototypeOf,Object);var qn=Object.prototype;const Dt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||qn)},mn=function(t){return typeof t.constructor!="function"||Dt(t)?{}:Rt(gn(t))},be=function(t){return t!=null&&typeof t=="object"},ot=function(t){return be(t)&&de(t)=="[object Arguments]"};var qe=Object.prototype,Ut=qe.hasOwnProperty,zt=qe.propertyIsEnumerable;const St=ot(function(){return arguments}())?ot:function(t){return be(t)&&Ut.call(t,"callee")&&!zt.call(t,"callee")},Ie=Array.isArray,$t=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},gt=function(t){return t!=null&&$t(t.length)&&!d(t)},Ht=function(t){return be(t)&&gt(t)},ve=function(){return!1};var qt=J&&!J.nodeType&&J,ye=qt&&!0&&G&&!G.nodeType&&G,Bt=ye&&ye.exports===qt?s.Buffer:void 0;const ae=(Bt?Bt.isBuffer:void 0)||ve;var mt=Function.prototype,Wt=Object.prototype,Gt=mt.toString,Jt=Wt.hasOwnProperty,vn=Gt.call(Object);const it=function(t){if(!be(t)||de(t)!="[object Object]")return!1;var e=gn(t);if(e===null)return!0;var n=Jt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gt.call(n)==vn};var ee={};ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Arguments]"]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object Boolean]"]=ee["[object DataView]"]=ee["[object Date]"]=ee["[object Error]"]=ee["[object Function]"]=ee["[object Map]"]=ee["[object Number]"]=ee["[object Object]"]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object WeakMap]"]=!1;const Zt=function(t){return be(t)&&$t(t.length)&&!!ee[de(t)]},Vt=function(t){return function(e){return t(e)}};var Ye=J&&!J.nodeType&&J,Be=Ye&&!0&&G&&!G.nodeType&&G,st=Be&&Be.exports===Ye&&E.process,Kt=function(){try{var t=Be&&Be.require&&Be.require("util").types;return t||st&&st.binding&&st.binding("util")}catch{}}(),At=Kt&&Kt.isTypedArray;const Qe=At?Vt(At):Zt,We=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var at=Object.prototype.hasOwnProperty;const yn=function(t,e,n){var r=t[e];at.call(t,e)&&C(r,n)&&(n!==void 0||e in t)||Ot(t,e,n)},bn=function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var u=e[a],h=r?r(n[u],t[u],u,n,t):void 0;h===void 0&&(h=t[u]),i?Ot(n,u,h):yn(n,u,h)}return n},_n=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Yt=/^(?:0|[1-9]\d*)$/;const jt=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Yt.test(t))&&t>-1&&t%1==0&&t<e};var Qt=Object.prototype.hasOwnProperty;const kt=function(t,e){var n=Ie(t),r=!n&&St(t),i=!n&&!r&&ae(t),a=!n&&!r&&!i&&Qe(t),l=n||r||i||a,u=l?_n(t.length,String):[],h=u.length;for(var k in t)!e&&!Qt.call(t,k)||l&&(k=="length"||i&&(k=="offset"||k=="parent")||a&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||jt(k,h))||u.push(k);return u},Ge=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var Et=Object.prototype.hasOwnProperty;const wn=function(t){if(!Le(t))return Ge(t);var e=Dt(t),n=[];for(var r in t)(r!="constructor"||!e&&Et.call(t,r))&&n.push(r);return n},xn=function(t){return gt(t)?kt(t,!0):wn(t)},Bn=function(t){return bn(t,xn(t))},ct=function(t,e,n,r,i,a,l){var u=We(t,n),h=We(e,n),k=l.get(h);if(k)Mt(t,n,k);else{var T=a?a(u,h,n+"",t,e,l):void 0,N=T===void 0;if(N){var z=Ie(h),K=!z&&ae(h),q=!z&&!K&&Qe(h);T=h,z||K||q?Ie(u)?T=u:Ht(u)?T=pn(u):K?(N=!1,T=Hn(h,!0)):q?(N=!1,T=He(h,!0)):T=[]:it(h)||St(h)?(T=u,St(u)?T=Bn(u):Le(u)&&!d(u)||(T=mn(h))):N=!1}N&&(l.set(h,T),i(T,h,r,a,l),l.delete(h)),Mt(t,n,T)}},Wn=function t(e,n,r,i,a){e!==n&&ln(n,function(l,u){if(a||(a=new Ke),Le(l))ct(e,n,u,r,t,i,a);else{var h=i?i(We(e,u),l,u+"",e,n,a):void 0;h===void 0&&(h=l),Mt(e,u,h)}},xn)},Tt=function(t){return t},Xt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var en=Math.max;const Cn=function(t,e,n){return e=en(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=en(r.length-e,0),l=Array(a);++i<a;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),Xt(t,this,u)}},Gn=function(t){return function(){return t}},It=dt?function(t,e){return dt(t,"toString",{configurable:!0,enumerable:!1,value:Gn(e),writable:!0})}:Tt;var tn=Date.now;const Jn=function(t){var e=0,n=0;return function(){var r=tn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(It),Re=function(t,e){return Jn(Cn(t,e,Tt),t+"")},On=function(t,e,n){if(!Le(n))return!1;var r=typeof e;return!!(r=="number"?gt(n)&&jt(e,n.length):r=="string"&&e in n)&&C(n[e],t)},Sn=function(t){return Re(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,l&&On(n[0],n[1],l)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}(function(t,e,n){Wn(t,e,n)});var vt=function(){return vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vt.apply(this,arguments)};function Zn(t){return t.toLowerCase()}var yt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],De=/[^A-Z0-9]+/gi;function nn(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function An(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,a=i===void 0?yt:i,l=r.stripRegexp,u=l===void 0?De:l,h=r.transform,k=h===void 0?Zn:h,T=r.delimiter,N=T===void 0?" ":T,z=nn(nn(n,a,"$1\0$2"),u,"\0"),K=0,q=z.length;z.charAt(K)==="\0";)K++;for(;z.charAt(q-1)==="\0";)q--;return z.slice(K,q).split("\0").map(k).join(N)}(t,vt({delimiter:"."},e))}var rn=$(729),bt=$.n(rn);function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?I.win32:I.posix,O=function(t,e){return e===void 0&&(e={}),An(t,vt({delimiter:"_"},e))},w=Sn;class re extends bt(){constructor(e,n){super(),on(this,"_tag",void 0),on(this,"_opts",void 0),on(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const a=n.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var l;this._logs.push([e,a]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((l=console)===null||l===void 0||l[e==="ERROR"?"error":"debug"](`${e}: ${a}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function ue(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function _e(t,e){let n,r,i=!1;const a=u=>h=>{t&&clearTimeout(t),u(h),i=!0},l=new Promise((u,h)=>{n=a(u),r=a(h),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:l,get settled(){return i}}}const we=new Map;window.__injectedUIEffects=we;var _t=$(227),Ue=$.n(_t);function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Xe="application/x-postmate-v1+json";let lr=0;const $r={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Vn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Xe&&!!$r[t.data.postmate];class Hr{constructor(e){Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"events",{}),Q(this,"childOrigin",void 0),Q(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Vn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(a=>{a.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++lr,a=l=>{l.data.uid===i&&l.data.postmate==="reply"&&(this.parent.removeEventListener("message",a,!1),r(l.data.value))};this.parent.addEventListener("message",a,!1),this.child.postMessage({postmate:"request",type:Xe,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Xe,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class qr{constructor(e){Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),Q(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Vn(n,this.parentOrigin))return;const{property:r,uid:i,data:a,args:l}=n.data;n.data.postmate!=="call"?((u,h,k)=>{const T=typeof u[h]=="function"?u[h].apply(null,k):u[h];return Promise.resolve(T)})(this.model,r,l).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:Xe,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](a)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Xe,value:{name:e,data:n}},this.parentOrigin)}}class Kn{constructor(e){Q(this,"container",void 0),Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"childOrigin",void 0),Q(this,"url",void 0),Q(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(a=>{const l=document.createElement("a");l.href=a;const u=l.protocol.length>4?l.protocol:window.location.protocol,h=l.host.length?l.port==="80"||l.port==="443"?l.hostname:l.host:window.location.host;return l.origin||`${u}//${h}`})(e=e||this.url);let r,i=0;return new Promise((a,l)=>{const u=k=>!!Vn(k,n)&&(k.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=k.origin,a(new Hr(this))):l("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:Xe,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{h(),r=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Q(Kn,"debug",!1),Q(Kn,"Model",void 0);class Br{constructor(e){Q(this,"child",void 0),Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:Xe},i.origin),this.parentOrigin=i.origin;const a=i.data.model;return a&&Object.keys(a).forEach(l=>{this.model[l]=a[l]}),e(new qr(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:Wr,createSandboxContainer:Gr}=window.QSandbox||{};function Jr(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class Zr extends bt(){constructor(e){super(),sn(this,"_pluginLocal",void 0),sn(this,"_frame",void 0),sn(this,"_root",void 0),sn(this,"_loaded",!1),sn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await Wr(n,{fetch:Jr});this._mount(r,document.body);const a=Gr(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;a.__shadow_mode__=!0,a.LSPluginLocal=this._pluginLocal,a.LSPluginShadow=this,a.LSPluginUser=a.logseq=new ar(this._pluginLocal.toJSON(),this._pluginLocal.caller);const l=await i(a,!0);this._unmountFns.push(l.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const lt=Ue()("LSPlugin:caller"),an="#await#response#",Vr="#lspmsg#",ur="#lspmsg#error#",jn=t=>`#lspmsg#${t}`;class Kr extends bt(){constructor(e){super(),Je(this,"_pluginLocal",void 0),Je(this,"_connected",!1),Je(this,"_parent",void 0),Je(this,"_child",void 0),Je(this,"_shadow",void 0),Je(this,"_status",void 0),Je(this,"_userModel",{}),Je(this,"_call",void 0),Je(this,"_callUserModel",void 0),Je(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const a=new Map,l=_e(6e4),u=this._extendUserModel({"#lspmsg#ready#":async T=>{u[jn(T?.pid)]=({type:N,payload:z})=>{lt(`[host (_call) -> *user] ${this._debugTag}`,N,z),n.emit(N,z)},await l.resolve()},"#lspmsg#beforeunload#":async T=>{const N=_e(1e4);n.emit("beforeunload",Object.assign({actor:N},T)),await N.promise},"#lspmsg#settings#":async({type:T,payload:N})=>{n.emit("settings:changed",N)},[Vr]:async({ns:T,type:N,payload:z})=>{lt(`[host (async) -> *user] ${this._debugTag} ns=${T} type=${N}`,z),T&&T.startsWith("hook")?n.emit(`${T}:${N}`,z):n.emit(N,z)},"#lspmsg#reply#":({_sync:T,result:N})=>{if(lt(`[sync host -> *user] #${T}`,N),a.has(T)){const z=a.get(T);z&&(N!=null&&N.hasOwnProperty(ur)?z.reject(N[ur]):z.resolve(N),a.delete(T))}},...e});var h;if(r)return await l.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const k=new Br(u).sendHandshakeReply();return this._status="pending",await k.then(T=>{this._child=T,this._connected=!0,this._call=async(N,z={},K)=>{if(K){const q=++i;a.set(q,K),z._sync=q,K.setTag(`async call #${q}`),lt(`async call #${q}`)}return T.emit(jn(u.baseInfo.id),{type:N,payload:z}),K?.promise},this._callUserModel=async(N,z)=>{try{u[N](z)}catch{lt(`[model method] #${N} not existed`)}},setInterval(()=>{if(a.size>100)for(const[N,z]of a)z.settled&&a.delete(N)},18e5)}).finally(()=>{this._status=void 0}),await l.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=_e(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${an}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const a=document.querySelector(`#${r}`);a&&a.parentElement.removeChild(a);const l=document.createElement("div");l.classList.add("lsp-iframe-sandbox-container"),l.id=r,l.dataset.pid=n;try{var u;const N=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(N){l.dataset.inited_layout="true";let{width:z,height:K,left:q,top:oe,vw:he,vh:Ee}=N;q=Math.max(q,0),q=typeof he=="number"?`${Math.min(100*q/he,99)}%`:`${q}px`,oe=Math.max(oe,45),oe=typeof Ee=="number"?`${Math.min(100*oe/Ee,99)}%`:`${oe}px`,Object.assign(l.style,{width:z+"px",height:K+"px",left:q,top:oe})}}catch(N){console.error("[Restore Layout Error]",N)}document.body.appendChild(l);const h=new Kn({id:n+"_iframe",container:l,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let k,T=h.sendHandshake();return this._status="pending",new Promise((N,z)=>{k=setTimeout(()=>{z(new Error("handshake Timeout")),h.destroy()},4e3),T.then(K=>{this._parent=K,this._connected=!0,this.emit("connected"),K.on(jn(e.id),({type:q,payload:oe})=>{var he,Ee;lt("[user -> *host] ",q,oe),(he=this._pluginLocal)===null||he===void 0||he.emit(q,oe||{}),(Ee=this._pluginLocal)===null||Ee===void 0||Ee.caller.emit(q,oe||{})}),this._call=async(...q)=>{await K.call(jn(e.id),{type:q[0],payload:Object.assign(q[1]||{},{$$pid:e.id})})},this._callUserModel=async(q,...oe)=>{if(q.startsWith(an))return await K.get(q.replace(an,""),...oe);K.call(q,oe?.[0])},N(null)}).catch(K=>{z(K)}).finally(()=>{clearTimeout(k)})}).catch(N=>{throw lt("[iframe sandbox] error",N),N}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Zr(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},a)=>{var l;return a&&(i.actor=a),(l=this._pluginLocal)===null||l===void 0||l.emit(r,Object.assign(i,{$$pid:e.id})),a?.promise},this._callUserModel=async(...r)=>{var i;let a=r[0];(i=a)!==null&&i!==void 0&&i.startsWith(an)&&(a=a.replace(an,""));const l=r[1]||{},u=this._userModel[a];typeof u=="function"&&await u.call(null,l)}}catch(r){throw lt("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function fr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class dr{constructor(e,n){fr(this,"ctx",void 0),fr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class Yr{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const a=this.ensureHostScope();return e=(r=O(e))===null||r===void 0?void 0:r.toLowerCase(),(i=a.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(a,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const pr=t=>`task_callback_${t}`;class Qr{constructor(e,n,r={}){Lt(this,"_client",void 0),Lt(this,"_requestId",void 0),Lt(this,"_requestOptions",void 0),Lt(this,"_promise",void 0),Lt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(pr(this._requestId),k=>{k&&k instanceof Error?h(k):u(k)})});const{success:i,fail:a,final:l}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{a?.(u)}).finally(()=>{l?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Yn extends rn.EventEmitter{constructor(e){super(),Lt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n?.requestId;r&&this.emit(pr(r),n?.payload)})}static createRequestTask(e,n,r){return new Qr(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:a,...l}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,l),h=Yn.createRequestTask(this.ctx.Request,u,e);return l.abortable?h:h.promise}get ctx(){return this._ctx}}const Xr=hn(Object.keys,Object);var eo=Object.prototype.hasOwnProperty;const to=function(t){if(!Dt(t))return Xr(t);var e=[];for(var n in Object(t))eo.call(t,n)&&n!="constructor"&&e.push(n);return e},Qn=function(t){return gt(t)?kt(t):to(t)},no=function(t,e){return t&&ln(t,e,Qn)},ro=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},oo=function(t){return this.__data__.has(t)};function kn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}kn.prototype.add=kn.prototype.push=ro,kn.prototype.has=oo;const io=kn,so=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},ao=function(t,e){return t.has(e)},hr=function(t,e,n,r,i,a){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var k=a.get(t),T=a.get(e);if(k&&T)return k==e&&T==t;var N=-1,z=!0,K=2&n?new io:void 0;for(a.set(t,e),a.set(e,t);++N<u;){var q=t[N],oe=e[N];if(r)var he=l?r(oe,q,N,e,t,a):r(q,oe,N,t,e,a);if(he!==void 0){if(he)continue;z=!1;break}if(K){if(!so(e,function(Ee,et){if(!ao(K,et)&&(q===Ee||i(q,Ee,n,r,a)))return K.push(et)})){z=!1;break}}else if(q!==oe&&!i(q,oe,n,r,a)){z=!1;break}}return a.delete(t),a.delete(e),z},co=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},lo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var gr=c?c.prototype:void 0,Xn=gr?gr.valueOf:void 0;const uo=function(t,e,n,r,i,a,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new rt(t),new rt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return C(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=co;case"[object Set]":var h=1&r;if(u||(u=lo),t.size!=e.size&&!h)return!1;var k=l.get(t);if(k)return k==e;r|=2,l.set(t,e);var T=hr(u(t),u(e),r,i,a,l);return l.delete(t),T;case"[object Symbol]":if(Xn)return Xn.call(t)==Xn.call(e)}return!1},fo=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},po=function(t,e,n){var r=e(t);return Ie(t)?r:fo(r,n(t))},ho=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var l=t[n];e(l,n,t)&&(a[i++]=l)}return a},go=function(){return[]};var mo=Object.prototype.propertyIsEnumerable,mr=Object.getOwnPropertySymbols;const vo=mr?function(t){return t==null?[]:(t=Object(t),ho(mr(t),function(e){return mo.call(t,e)}))}:go,vr=function(t){return po(t,Qn,vo)};var yo=Object.prototype.hasOwnProperty;const bo=function(t,e,n,r,i,a){var l=1&n,u=vr(t),h=u.length;if(h!=vr(e).length&&!l)return!1;for(var k=h;k--;){var T=u[k];if(!(l?T in e:yo.call(e,T)))return!1}var N=a.get(t),z=a.get(e);if(N&&z)return N==e&&z==t;var K=!0;a.set(t,e),a.set(e,t);for(var q=l;++k<h;){var oe=t[T=u[k]],he=e[T];if(r)var Ee=l?r(he,oe,T,e,t,a):r(oe,he,T,t,e,a);if(!(Ee===void 0?oe===he||i(oe,he,n,r,a):Ee)){K=!1;break}q||(q=T=="constructor")}if(K&&!q){var et=t.constructor,xt=e.constructor;et==xt||!("constructor"in t)||!("constructor"in e)||typeof et=="function"&&et instanceof et&&typeof xt=="function"&&xt instanceof xt||(K=!1)}return a.delete(t),a.delete(e),K},er=je(s,"DataView"),tr=je(s,"Promise"),nr=je(s,"Set"),rr=je(s,"WeakMap");var yr="[object Map]",br="[object Promise]",_r="[object Set]",wr="[object WeakMap]",xr="[object DataView]",_o=V(er),wo=V(Te),xo=V(tr),Co=V(nr),Oo=V(rr),wt=de;(er&&wt(new er(new ArrayBuffer(1)))!=xr||Te&&wt(new Te)!=yr||tr&&wt(tr.resolve())!=br||nr&&wt(new nr)!=_r||rr&&wt(new rr)!=wr)&&(wt=function(t){var e=de(t),n=e=="[object Object]"?t.constructor:void 0,r=n?V(n):"";if(r)switch(r){case _o:return xr;case wo:return yr;case xo:return br;case Co:return _r;case Oo:return wr}return e});const Cr=wt;var Or="[object Arguments]",Sr="[object Array]",En="[object Object]",Ar=Object.prototype.hasOwnProperty;const So=function(t,e,n,r,i,a){var l=Ie(t),u=Ie(e),h=l?Sr:Cr(t),k=u?Sr:Cr(e),T=(h=h==Or?En:h)==En,N=(k=k==Or?En:k)==En,z=h==k;if(z&&ae(t)){if(!ae(e))return!1;l=!0,T=!1}if(z&&!T)return a||(a=new Ke),l||Qe(t)?hr(t,e,n,r,i,a):uo(t,e,h,n,r,i,a);if(!(1&n)){var K=T&&Ar.call(t,"__wrapped__"),q=N&&Ar.call(e,"__wrapped__");if(K||q){var oe=K?t.value():t,he=q?e.value():e;return a||(a=new Ke),i(oe,he,n,r,a)}}return!!z&&(a||(a=new Ke),bo(t,e,n,r,i,a))},jr=function t(e,n,r,i,a){return e===n||(e==null||n==null||!be(e)&&!be(n)?e!=e&&n!=n:So(e,n,r,i,t,a))},Ao=function(t,e,n,r){var i=n.length,a=i,l=!r;if(t==null)return!a;for(t=Object(t);i--;){var u=n[i];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var h=(u=n[i])[0],k=t[h],T=u[1];if(l&&u[2]){if(k===void 0&&!(h in t))return!1}else{var N=new Ke;if(r)var z=r(k,T,h,t,e,N);if(!(z===void 0?jr(T,k,3,r,N):z))return!1}}return!0},kr=function(t){return t==t&&!Le(t)},jo=function(t){for(var e=Qn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kr(i)]}return e},Er=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},ko=function(t){var e=jo(t);return e.length==1&&e[0][2]?Er(e[0][0],e[0][1]):function(n){return n===t||Ao(n,t,e)}},or=function(t){return typeof t=="symbol"||be(t)&&de(t)=="[object Symbol]"};var Eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,To=/^\w*$/;const ir=function(t,e){if(Ie(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!or(t))||To.test(t)||!Eo.test(t)||e!=null&&t in Object(e)};function sr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=t.apply(this,r);return n.cache=a.set(i,l)||a,l};return n.cache=new(sr.Cache||Fe),n}sr.Cache=Fe;const Io=sr;var Lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,No=/\\(\\)?/g;const Fo=function(t){var e=Io(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lo,function(n,r,i,a){e.push(i?a.replace(No,"$1"):r||n)}),e}),Mo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Tr=c?c.prototype:void 0,Ir=Tr?Tr.toString:void 0;const Po=function t(e){if(typeof e=="string")return e;if(Ie(e))return Mo(e,t)+"";if(or(e))return Ir?Ir.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ro=function(t){return t==null?"":Po(t)},Lr=function(t,e){return Ie(t)?t:ir(t,e)?[t]:Fo(Ro(t))},Tn=function(t){if(typeof t=="string"||or(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Nr=function(t,e){for(var n=0,r=(e=Lr(e,t)).length;t!=null&&n<r;)t=t[Tn(e[n++])];return n&&n==r?t:void 0},Do=function(t,e,n){var r=t==null?void 0:Nr(t,e);return r===void 0?n:r},Uo=function(t,e){return t!=null&&e in Object(t)},zo=function(t,e,n){for(var r=-1,i=(e=Lr(e,t)).length,a=!1;++r<i;){var l=Tn(e[r]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++r!=i?a:!!(i=t==null?0:t.length)&&$t(i)&&jt(l,i)&&(Ie(t)||St(t))},$o=function(t,e){return t!=null&&zo(t,e,Uo)},Ho=function(t,e){return ir(t)&&kr(e)?Er(Tn(t),e):function(n){var r=Do(n,t);return r===void 0&&r===e?$o(n,t):jr(e,r,3)}},qo=function(t){return function(e){return e?.[t]}},Bo=function(t){return function(e){return Nr(e,t)}},Wo=function(t){return ir(t)?qo(Tn(t)):Bo(t)},Go=function(t){return typeof t=="function"?t:t==null?Tt:typeof t=="object"?Ie(t)?Ho(t[0],t[1]):ko(t):Wo(t)},Jo=function(t,e){var n={};return e=Go(e),no(t,function(r,i,a){Ot(n,e(r,i,a),r)}),n};function Fr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Zo{constructor(e,n){Fr(this,"ctx",void 0),Fr(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Ie(r?.blocks)&&(r.blocks=r.blocks.map(i=>i&&Jo(i,(a,l)=>`block/${l}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const a=(l=>`service:search:${l}:${n.name}`)(r);e.caller.on(a,async l=>{if(d(n?.[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(h=>{if(l){if(h===!0)return l;if(l.hasOwnProperty(h)){const k=l[h];return delete l[h],k}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${a}:reply`,u)}}})})}}function ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Vo=Symbol.for("proxy-continue"),Ko=Ue()("LSPlugin:user"),Mr=new re("",{console:!0});function Nt(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:a,desc:l,palette:u,keybinding:h,extras:k}=e,T=`SimpleCommandHook${i}${++Dr}`;this.Editor["on"+T](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:a,type:t,desc:l,keybinding:h,extras:k},["editor/hook",T]],u]})}function Pr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Mr.error(`#${t} is not a valid UUID string.`),!1);var e}let In=null,Rr=new Map;const Yo={async getInfo(t){return In||(In=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?In[t]:In},registerCommand:Nt,registerSearchService(t){if(Rr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Rr.set(t.name,new Zo(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return Nt.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+O(n);return Nt.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;Nt.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Pr(t))return;const n=this.baseInfo.id,r=`hook:editor:${O(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const a=t.replace(`${r}.${i}.`,"");if(!r||!i||!a)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),a,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Dr=0;const Qo={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Ko("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...a]=r;if(i==="editor/hook"){let l=a[0],u=()=>{var k;(k=this.caller)===null||k===void 0||k.callUserModel(l)};typeof l=="function"&&(u=l);const h=`SlashCommandHook${i}${++Dr}`;r[1]=h,this.Editor["on"+h](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Nt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Nt.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},Xo={onBlockChanged(t,e){if(!Pr(t))return;const n=this.baseInfo.id,r=`hook:db:${O(`block:${t}`)}`,i=({block:a,txData:l,txMeta:u})=>{a.uuid===t&&e(a,l,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},ei={},ti={},ni={makeSandboxStorage(){return new dr(this,{assets:!0})}};class ar extends bt(){constructor(e,n){super(),ze(this,"_baseInfo",void 0),ze(this,"_caller",void 0),ze(this,"_version","0.0.15"),ze(this,"_debugTag",""),ze(this,"_settingsSchema",void 0),ze(this,"_connected",!1),ze(this,"_ui",new Map),ze(this,"_mFileStorage",void 0),ze(this,"_mRequest",void 0),ze(this,"_mExperiments",void 0),ze(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),a=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...a},i)}),n.on("beforeunload",async r=>{const{actor:i,...a}=r,l=this._beforeunloadCallback;try{l&&await l(a),i?.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=w(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(a,l){const u=(l||[]).reduce((h,k)=>("default"in k&&(h[k.key]=k.default),h),{});return Object.assign(u,a)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(a){console.warn(a)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Mr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),ue(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(a,l,u){const h=a[l];return function(...k){if(h){const N=h.apply(r,k.concat(n));if(N!==Vo)return N}if(n){const N=l.toString().match(/^(once|off|on)/i);if(N!=null){const z=N[0].toLowerCase(),K=N.input.slice(z.length),q=z==="off",oe=r.baseInfo.id,he=`hook:${n}:${O(K)}`,Ee=k[0],et=k[1];i[z](he,Ee);const xt=()=>{i.off(he,Ee),i.listenerCount(he)||r.App._uninstallPluginHook(oe,he)};return q?void xt():(r.App._installPluginHook(oe,he,et),xt)}}let T=l;return["git","ui","assets"].includes(n)&&(T=n+"_"+T),i.callAsync("api:call",{tag:n,method:T,args:k})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Yo,"app")}get Editor(){return this._makeUserProxy(Qo,"editor")}get DB(){return this._makeUserProxy(Xo,"db")}get Git(){return this._makeUserProxy(ei,"git")}get UI(){return this._makeUserProxy(ti,"ui")}get Assets(){return this._makeUserProxy(ni,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new dr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Yn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Yr(this)),e}}function Ur(t,e){return new ar(t,e)}if(window.__LSP__HOST__==null){const t=new Kr(null);window.logseq=Ur({},t)}})(),ne})())})(Fn,Fn.exports);Fn.exports;const ri={id:"logseq13-shorten-my-links",title:"Shorten My Links",icon:"./icon.png",main:"./dist/index.html"};function oi(...G){console.info(`#${ri.id}: `,...G)}function cr(G,J){const{toOrig:fe}=J;let ge="";if(fe?ge=G.dataset.origText??"":ge=G.dataset.abbreviatedText??"",!ge)return;const $=G.classList.contains("tag"),ne=Mn(G);ne&&(ne.textContent=($?"#":"")+ge)}function Mn(G){let J;return G.childNodes.forEach(fe=>{fe.nodeType===document.TEXT_NODE&&(J=fe)}),J}function ii(G,J){J=J.toLowerCase();const fe=G.split("/");for(let ge=1;ge<fe.length;ge++){const $=fe.slice(0,-ge).join("/");if($.toLowerCase()===J)return[$,fe.slice(-ge).join("/")]}return[void 0,void 0]}function si(G,J){for(const[fe,ge,$]of J){const ne=G.closest(fe);if(!ne)continue;const I=ne?.querySelector(ge);if(!I||I===G)continue;if(I.dataset.origText)return I.dataset.origText;const f=Mn(I)?.textContent;if(!f)return;let C="";return $&&top.document.querySelectorAll($).forEach(A=>{const _=Mn(A)?.textContent??"";_&&(C+=_+"/")}),C+f}}function ai(G){function J($){const ne=$.target.parentElement;ne&&($.type==="mouseenter"?cr(ne,{toOrig:!0}):$.type==="mouseleave"&&cr(ne,{toOrig:!1}))}function fe($,ne){for(const[f,C]of ne)for(const A of $.querySelectorAll(f)){const _=A;if(_.dataset.abbreviatedText)continue;const L=Mn(_);let W=L?.textContent??"";if(W.indexOf("/")<0)continue;const v=_.classList.contains("tag");if(W=v?W.substring(1):W,_.dataset.ref&&_.dataset.ref.toLowerCase()!==W.toLowerCase())continue;const p=si(_,C);if(!p)continue;const[y,m]=ii(W,p);if(!m)continue;_.dataset.origText=W,_.dataset.abbreviatedText=m,L.textContent=v?"#"+m:m;var I=top.document.createElement("span");I.innerText="↳ ",I.classList.add(zr),I.onmouseenter=J,I.onmouseleave=J;const R=_.childNodes[0];(R.className??"").split(" ").includes("bracket")?R.insertAdjacentElement("afterend",I):_.insertAdjacentElement("afterbegin",I)}}const ge=$=>{for(const ne of $)for(const I of ne.addedNodes){const f=I;if(!f.querySelectorAll||f.classList.contains("awLi-icon")||f.classList.contains("awLi-favicon"))continue;let C=null;for(const A of Object.keys(G))if(f.closest(A)){C=G[A];break}C&&fe(f,C)}};return new MutationObserver(ge)}const zr="shml-anchor",ut=['a.page-ref[data-ref*="/"]','a.tag[data-ref*="/"]'],Nn=[".breadcrumb span.inline-wrap > span.page-reference"],Ze=(G,J)=>J.map(fe=>G+" "+fe).join(", "),ci={".cp__sidebar-main-content":[[Ze("div.references.page-tags",ut),[["div.page","div.ls-page-title span.title[data-ref]","#hierarchyLinks > a.page-ref"]]],[Ze("div.references.page-linked div.foldable-title",ut),[["div.page","div.ls-page-title span.title[data-ref]","#hierarchyLinks > a.page-ref"]]],[Ze("div.references.page-linked div.blocks-container",ut.concat(Nn)),[["div.content > div > div.lazy-visibility","div.content a.page-ref"]]],[Ze("div.page > div:first-child",ut),[["div.embed-page","section a.page-ref"],["div.content > div > div.lazy-visibility","a.page-ref"],["div.page > div:first-child","div.ls-page-title span.title[data-ref]","#hierarchyLinks > a.page-ref"],["div.page > div:first-child","div.breadcrumb a.page-ref"]]],[Ze("div.page > div:first-child",Nn),[["div.content > div > div.lazy-visibility","a.page-ref"],["div.breadcrumb","a.page-ref"]]]],"#right-sidebar":[[Ze("div.references.page-tags",ut),[["div.sidebar-item","div.page-title > span.text-ellipsis"]]],[Ze("div.references.page-linked div.foldable-title",ut),[["div.sidebar-item","div.page-title > span.text-ellipsis"]]],[Ze("div.references.page-linked div.blocks-container",ut.concat(Nn)),[["div.content > div > div.lazy-visibility","div.content a.page-ref"]]],[Ze("div.page > div:first-child",ut),[["div.embed-page","section a.page-ref"],["div.sidebar-item","div.page-title > span.text-ellipsis"],["div.sidebar-item","div.breadcrumb a.page-ref"]]],[Ze("",Nn),[["div.sidebar-item","div.page-title > span.text-ellipsis"],["div.sidebar-item","div.breadcrumb a.page-ref"]]]]};function li(){top.document.querySelectorAll("."+zr).forEach(G=>{const J=G.parentElement;J.removeChild(G),J.dataset.origText&&(cr(J,{toOrig:!0}),delete J.dataset.origText),J.dataset.abbreviatedText&&delete J.dataset.abbreviatedText})}function ui(){const G=ai(ci),J={start:()=>{const fe=top.document.querySelector("#app-container");if(!fe){setTimeout(()=>J.start(),500);return}G.observe(fe,{subtree:!0,childList:!0})},stop:()=>{G.disconnect(),li()}};return J}const fi=()=>{oi("loaded");const G=ui();setTimeout(()=>G.start(),1e3),logseq.beforeunload(async()=>{G.stop()})};logseq.ready(fi).catch(console.error);

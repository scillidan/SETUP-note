(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const q of document.querySelectorAll('link[rel="modulepreload"]'))me(q);new MutationObserver(q=>{for(const pe of q)if(pe.type==="childList")for(const P of pe.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&me(P)}).observe(document,{childList:!0,subtree:!0});function ie(q){const pe={};return q.integrity&&(pe.integrity=q.integrity),q.referrerPolicy&&(pe.referrerPolicy=q.referrerPolicy),q.crossOrigin==="use-credentials"?pe.credentials="include":q.crossOrigin==="anonymous"?pe.credentials="omit":pe.credentials="same-origin",pe}function me(q){if(q.ep)return;q.ep=!0;const pe=ie(q);fetch(q.href,pe)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Mn.exports;(function(te,G){(function(ie,me){te.exports=me()})(self,()=>(()=>{var ie={227:(P,d,T)=>{var j=T(155);d.formatArgs=function(M){if(M[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+M[0]+(this.useColors?"%c ":" ")+"+"+P.exports.humanize(this.diff),!this.useColors)return;const K="color: "+this.color;M.splice(1,0,K,"color: inherit");let v=0,h=0;M[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(v++,b==="%c"&&(h=v))}),M.splice(h,0,K)},d.save=function(M){try{M?d.storage.setItem("debug",M):d.storage.removeItem("debug")}catch{}},d.load=function(){let M;try{M=d.storage.getItem("debug")}catch{}return!M&&j!==void 0&&"env"in j&&(M=j.env.DEBUG),M},d.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},d.storage=function(){try{return localStorage}catch{}}(),d.destroy=(()=>{let M=!1;return()=>{M||(M=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],d.log=console.debug||console.log||(()=>{}),P.exports=T(447)(d);const{formatters:C}=P.exports;C.j=function(M){try{return JSON.stringify(M)}catch(K){return"[UnexpectedJSONParseError]: "+K.message}}},447:(P,d,T)=>{P.exports=function(j){function C(v){let h,b,y,$=null;function z(...D){if(!z.enabled)return;const B=z,S=Number(new Date),I=S-(h||S);B.diff=I,B.prev=h,B.curr=S,h=S,D[0]=C.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let a=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(l,m)=>{if(l==="%%")return"%";a++;const x=C.formatters[m];if(typeof x=="function"){const H=D[a];l=x.call(B,H),D.splice(a,1),a--}return l}),C.formatArgs.call(B,D),(B.log||C.log).apply(B,D)}return z.namespace=v,z.useColors=C.useColors(),z.color=C.selectColor(v),z.extend=M,z.destroy=C.destroy,Object.defineProperty(z,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(b!==C.namespaces&&(b=C.namespaces,y=C.enabled(v)),y),set:D=>{$=D}}),typeof C.init=="function"&&C.init(z),z}function M(v,h){const b=C(this.namespace+(h===void 0?":":h)+v);return b.log=this.log,b}function K(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return C.debug=C,C.default=C,C.coerce=function(v){return v instanceof Error?v.stack||v.message:v},C.disable=function(){const v=[...C.names.map(K),...C.skips.map(K).map(h=>"-"+h)].join(",");return C.enable(""),v},C.enable=function(v){let h;C.save(v),C.namespaces=v,C.names=[],C.skips=[];const b=(typeof v=="string"?v:"").split(/[\s,]+/),y=b.length;for(h=0;h<y;h++)b[h]&&((v=b[h].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+v.slice(1)+"$")):C.names.push(new RegExp("^"+v+"$")))},C.enabled=function(v){if(v[v.length-1]==="*")return!0;let h,b;for(h=0,b=C.skips.length;h<b;h++)if(C.skips[h].test(v))return!1;for(h=0,b=C.names.length;h<b;h++)if(C.names[h].test(v))return!0;return!1},C.humanize=T(824),C.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(j).forEach(v=>{C[v]=j[v]}),C.names=[],C.skips=[],C.formatters={},C.selectColor=function(v){let h=0;for(let b=0;b<v.length;b++)h=(h<<5)-h+v.charCodeAt(b),h|=0;return C.colors[Math.abs(h)%C.colors.length]},C.enable(C.load()),C}},856:function(P){P.exports=function(){function d(_){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},d(_)}function T(_,F){return T=Object.setPrototypeOf||function(U,J){return U.__proto__=J,U},T(_,F)}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(_,F,U){return C=j()?Reflect.construct:function(J,ae,Le){var Je=[null];Je.push.apply(Je,ae);var Ne=new(Function.bind.apply(J,Je));return Le&&T(Ne,Le.prototype),Ne},C.apply(null,arguments)}function M(_){return K(_)||v(_)||h(_)||y()}function K(_){if(Array.isArray(_))return b(_)}function v(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function h(_,F){if(_){if(typeof _=="string")return b(_,F);var U=Object.prototype.toString.call(_).slice(8,-1);return U==="Object"&&_.constructor&&(U=_.constructor.name),U==="Map"||U==="Set"?Array.from(_):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?b(_,F):void 0}}function b(_,F){(F==null||F>_.length)&&(F=_.length);for(var U=0,J=new Array(F);U<F;U++)J[U]=_[U];return J}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=Object.hasOwnProperty,z=Object.setPrototypeOf,D=Object.isFrozen,B=Object.getPrototypeOf,S=Object.getOwnPropertyDescriptor,I=Object.freeze,a=Object.seal,l=Object.create,m=typeof Reflect<"u"&&Reflect,x=m.apply,H=m.construct;x||(x=function(_,F,U){return _.apply(F,U)}),I||(I=function(_){return _}),a||(a=function(_){return _}),H||(H=function(_,F){return C(_,M(F))});var Q=ee(Array.prototype.forEach),re=ee(Array.prototype.pop),ge=ee(Array.prototype.push),ke=ee(String.prototype.toLowerCase),xe=ee(String.prototype.match),de=ee(String.prototype.replace),Me=ee(String.prototype.indexOf),p=ee(String.prototype.trim),g=ee(RegExp.prototype.test),L=Te(TypeError);function ee(_){return function(F){for(var U=arguments.length,J=new Array(U>1?U-1:0),ae=1;ae<U;ae++)J[ae-1]=arguments[ae];return x(_,F,J)}}function Te(_){return function(){for(var F=arguments.length,U=new Array(F),J=0;J<F;J++)U[J]=arguments[J];return H(_,U)}}function N(_,F){z&&z(_,null);for(var U=F.length;U--;){var J=F[U];if(typeof J=="string"){var ae=ke(J);ae!==J&&(D(F)||(F[U]=ae),J=ae)}_[J]=!0}return _}function W(_){var F,U=l(null);for(F in _)x($,_,[F])&&(U[F]=_[F]);return U}function le(_,F){for(;_!==null;){var U=S(_,F);if(U){if(U.get)return ee(U.get);if(typeof U.value=="function")return ee(U.value)}_=B(_)}function J(ae){return console.warn("fallback value for",ae),null}return J}var Ee=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fe=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qe=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tt=I(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),he=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ce=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ae=I(["#text"]),Se=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),je=I(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ie=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mt=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kt=a(/<%[\w\W]*|[\w\W]*%>/gm),In=a(/^data-[\-\w.\u00B7-\uFFFF]/),Ln=a(/^aria-[\-\w]+$/),Nn=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pn=a(/^(?:\w+script|data):/i),nt=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sn=a(/^html$/i),$n=function(){return typeof window>"u"?null:window},Dn=function(_,F){if(d(_)!=="object"||typeof _.createPolicy!="function")return null;var U=null,J="data-tt-policy-suffix";F.currentScript&&F.currentScript.hasAttribute(J)&&(U=F.currentScript.getAttribute(J));var ae="dompurify"+(U?"#"+U:"");try{return _.createPolicy(ae,{createHTML:function(Le){return Le}})}catch{return console.warn("TrustedTypes policy "+ae+" could not be created."),null}};function ut(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$n(),F=function(r){return ut(r)};if(F.version="2.3.8",F.removed=[],!_||!_.document||_.document.nodeType!==9)return F.isSupported=!1,F;var U=_.document,J=_.document,ae=_.DocumentFragment,Le=_.HTMLTemplateElement,Je=_.Node,Ne=_.Element,Ze=_.NodeFilter,pt=_.NamedNodeMap,xt=pt===void 0?_.NamedNodeMap||_.MozNamedAttrMap:pt,It=_.HTMLFormElement,ln=_.DOMParser,cn=_.trustedTypes,dt=Ne.prototype,un=le(dt,"cloneNode"),pn=le(dt,"nextSibling"),Rn=le(dt,"childNodes"),ot=le(dt,"parentNode");if(typeof Le=="function"){var Lt=J.createElement("template");Lt.content&&Lt.content.ownerDocument&&(J=Lt.content.ownerDocument)}var Ye=Dn(cn,U),dn=Ye?Ye.createHTML(""):"",ht=J,Nt=ht.implementation,hn=ht.createNodeIterator,fn=ht.createDocumentFragment,Un=ht.getElementsByTagName,Pt=U.importNode,mn={};try{mn=W(J).documentMode?J.documentMode:{}}catch{}var ye={};F.isSupported=typeof ot=="function"&&Nt&&Nt.createHTMLDocument!==void 0&&mn!==9;var rt,Be,$t=Mt,Dt=kt,Ct=In,ze=Ln,Rt=Pn,ft=nt,Ut=Nn,ve=null,qt=N({},[].concat(M(Ee),M(Fe),M(qe),M(he),M(Ae))),be=null,Yt=N({},[].concat(M(Se),M(je),M(Ie),M(Pe))),se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mt=null,Bt=null,Ht=!0,Wt=!0,gn=!1,it=!1,X=!1,Vt=!1,Gt=!1,Ke=!1,He=!1,at=!1,Jt=!0,Tt=!0,Qe=!1,We={},st=null,vn=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bn=null,yn=N({},["audio","video","img","source","image","track"]),Zt=null,Ft=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",At="http://www.w3.org/2000/svg",Ve="http://www.w3.org/1999/xhtml",St=Ve,wn=!1,_n=["application/xhtml+xml","text/html"],qn="text/html",lt=null,Yn=J.createElement("form"),Et=function(r){return r instanceof RegExp||r instanceof Function},Qt=function(r){lt&&lt===r||(r&&d(r)==="object"||(r={}),r=W(r),ve="ALLOWED_TAGS"in r?N({},r.ALLOWED_TAGS):qt,be="ALLOWED_ATTR"in r?N({},r.ALLOWED_ATTR):Yt,Zt="ADD_URI_SAFE_ATTR"in r?N(W(Ft),r.ADD_URI_SAFE_ATTR):Ft,bn="ADD_DATA_URI_TAGS"in r?N(W(yn),r.ADD_DATA_URI_TAGS):yn,st="FORBID_CONTENTS"in r?N({},r.FORBID_CONTENTS):vn,mt="FORBID_TAGS"in r?N({},r.FORBID_TAGS):{},Bt="FORBID_ATTR"in r?N({},r.FORBID_ATTR):{},We="USE_PROFILES"in r&&r.USE_PROFILES,Ht=r.ALLOW_ARIA_ATTR!==!1,Wt=r.ALLOW_DATA_ATTR!==!1,gn=r.ALLOW_UNKNOWN_PROTOCOLS||!1,it=r.SAFE_FOR_TEMPLATES||!1,X=r.WHOLE_DOCUMENT||!1,Ke=r.RETURN_DOM||!1,He=r.RETURN_DOM_FRAGMENT||!1,at=r.RETURN_TRUSTED_TYPE||!1,Gt=r.FORCE_BODY||!1,Jt=r.SANITIZE_DOM!==!1,Tt=r.KEEP_CONTENT!==!1,Qe=r.IN_PLACE||!1,Ut=r.ALLOWED_URI_REGEXP||Ut,St=r.NAMESPACE||Ve,r.CUSTOM_ELEMENT_HANDLING&&Et(r.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=r.CUSTOM_ELEMENT_HANDLING.tagNameCheck),r.CUSTOM_ELEMENT_HANDLING&&Et(r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),r.CUSTOM_ELEMENT_HANDLING&&typeof r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rt=rt=_n.indexOf(r.PARSER_MEDIA_TYPE)===-1?qn:r.PARSER_MEDIA_TYPE,Be=rt==="application/xhtml+xml"?function(k){return k}:ke,it&&(Wt=!1),He&&(Ke=!0),We&&(ve=N({},M(Ae)),be=[],We.html===!0&&(N(ve,Ee),N(be,Se)),We.svg===!0&&(N(ve,Fe),N(be,je),N(be,Pe)),We.svgFilters===!0&&(N(ve,qe),N(be,je),N(be,Pe)),We.mathMl===!0&&(N(ve,he),N(be,Ie),N(be,Pe))),r.ADD_TAGS&&(ve===qt&&(ve=W(ve)),N(ve,r.ADD_TAGS)),r.ADD_ATTR&&(be===Yt&&(be=W(be)),N(be,r.ADD_ATTR)),r.ADD_URI_SAFE_ATTR&&N(Zt,r.ADD_URI_SAFE_ATTR),r.FORBID_CONTENTS&&(st===vn&&(st=W(st)),N(st,r.FORBID_CONTENTS)),Tt&&(ve["#text"]=!0),X&&N(ve,["html","head","body"]),ve.table&&(N(ve,["tbody"]),delete mt.tbody),I&&I(r),lt=r)},Xt=N({},["mi","mo","mn","ms","mtext"]),kn=N({},["foreignobject","desc","title","annotation-xml"]),Bn=N({},["title","style","font","a","script"]),Ot=N({},Fe);N(Ot,qe),N(Ot,tt);var en=N({},he);N(en,ce);var Hn=function(r){var k=ot(r);k&&k.tagName||(k={namespaceURI:Ve,tagName:"template"});var w=ke(r.tagName),ne=ke(k.tagName);return r.namespaceURI===At?k.namespaceURI===Ve?w==="svg":k.namespaceURI===Kt?w==="svg"&&(ne==="annotation-xml"||Xt[ne]):!!Ot[w]:r.namespaceURI===Kt?k.namespaceURI===Ve?w==="math":k.namespaceURI===At?w==="math"&&kn[ne]:!!en[w]:r.namespaceURI===Ve&&!(k.namespaceURI===At&&!kn[ne])&&!(k.namespaceURI===Kt&&!Xt[ne])&&!en[w]&&(Bn[w]||!Ot[w])},$e=function(r){ge(F.removed,{element:r});try{r.parentNode.removeChild(r)}catch{try{r.outerHTML=dn}catch{r.remove()}}},xn=function(r,k){try{ge(F.removed,{attribute:k.getAttributeNode(r),from:k})}catch{ge(F.removed,{attribute:null,from:k})}if(k.removeAttribute(r),r==="is"&&!be[r])if(Ke||He)try{$e(k)}catch{}else try{k.setAttribute(r,"")}catch{}},Cn=function(r){var k,w;if(Gt)r="<remove></remove>"+r;else{var ne=xe(r,/^[\r\n\t ]+/);w=ne&&ne[0]}rt==="application/xhtml+xml"&&(r='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+r+"</body></html>");var ue=Ye?Ye.createHTML(r):r;if(St===Ve)try{k=new ln().parseFromString(ue,rt)}catch{}if(!k||!k.documentElement){k=Nt.createDocument(St,"template",null);try{k.documentElement.innerHTML=wn?"":ue}catch{}}var we=k.body||k.documentElement;return r&&w&&we.insertBefore(J.createTextNode(w),we.childNodes[0]||null),St===Ve?Un.call(k,X?"html":"body")[0]:X?k.documentElement:we},gt=function(r){return hn.call(r.ownerDocument||r,r,Ze.SHOW_ELEMENT|Ze.SHOW_COMMENT|Ze.SHOW_TEXT,null,!1)},Wn=function(r){return r instanceof It&&(typeof r.nodeName!="string"||typeof r.textContent!="string"||typeof r.removeChild!="function"||!(r.attributes instanceof xt)||typeof r.removeAttribute!="function"||typeof r.setAttribute!="function"||typeof r.namespaceURI!="string"||typeof r.insertBefore!="function")},vt=function(r){return d(Je)==="object"?r instanceof Je:r&&d(r)==="object"&&typeof r.nodeType=="number"&&typeof r.nodeName=="string"},De=function(r,k,w){ye[r]&&Q(ye[r],function(ne){ne.call(F,k,w,lt)})},tn=function(r){var k;if(De("beforeSanitizeElements",r,null),Wn(r)||g(/[\u0080-\uFFFF]/,r.nodeName))return $e(r),!0;var w=Be(r.nodeName);if(De("uponSanitizeElement",r,{tagName:w,allowedTags:ve}),r.hasChildNodes()&&!vt(r.firstElementChild)&&(!vt(r.content)||!vt(r.content.firstElementChild))&&g(/<[/\w]/g,r.innerHTML)&&g(/<[/\w]/g,r.textContent)||w==="select"&&g(/<template/i,r.innerHTML))return $e(r),!0;if(!ve[w]||mt[w]){if(!mt[w]&&nn(w)&&(se.tagNameCheck instanceof RegExp&&g(se.tagNameCheck,w)||se.tagNameCheck instanceof Function&&se.tagNameCheck(w)))return!1;if(Tt&&!st[w]){var ne=ot(r)||r.parentNode,ue=Rn(r)||r.childNodes;if(ue&&ne)for(var we=ue.length-1;we>=0;--we)ne.insertBefore(un(ue[we],!0),pn(r))}return $e(r),!0}return r instanceof Ne&&!Hn(r)?($e(r),!0):w!=="noscript"&&w!=="noembed"||!g(/<\/no(script|embed)/i,r.innerHTML)?(it&&r.nodeType===3&&(k=r.textContent,k=de(k,$t," "),k=de(k,Dt," "),r.textContent!==k&&(ge(F.removed,{element:r.cloneNode()}),r.textContent=k)),De("afterSanitizeElements",r,null),!1):($e(r),!0)},Tn=function(r,k,w){if(Jt&&(k==="id"||k==="name")&&(w in J||w in Yn))return!1;if(!(Wt&&!Bt[k]&&g(Ct,k))){if(!(Ht&&g(ze,k))){if(!be[k]||Bt[k]){if(!(nn(r)&&(se.tagNameCheck instanceof RegExp&&g(se.tagNameCheck,r)||se.tagNameCheck instanceof Function&&se.tagNameCheck(r))&&(se.attributeNameCheck instanceof RegExp&&g(se.attributeNameCheck,k)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(k))||k==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&g(se.tagNameCheck,w)||se.tagNameCheck instanceof Function&&se.tagNameCheck(w))))return!1}else if(!Zt[k]){if(!g(Ut,de(w,ft,""))){if((k!=="src"&&k!=="xlink:href"&&k!=="href"||r==="script"||Me(w,"data:")!==0||!bn[r])&&!(gn&&!g(Rt,de(w,ft,"")))){if(w)return!1}}}}}return!0},nn=function(r){return r.indexOf("-")>0},bt=function(r){var k,w,ne,ue;De("beforeSanitizeAttributes",r,null);var we=r.attributes;if(we){var _e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(ue=we.length;ue--;){var yt=k=we[ue],Re=yt.name,Z=yt.namespaceURI;if(w=Re==="value"?k.value:p(k.value),ne=Be(Re),_e.attrName=ne,_e.attrValue=w,_e.keepAttr=!0,_e.forceKeepAttr=void 0,De("uponSanitizeAttribute",r,_e),w=_e.attrValue,!_e.forceKeepAttr&&(xn(Re,r),_e.keepAttr))if(g(/\/>/i,w))xn(Re,r);else{it&&(w=de(w,$t," "),w=de(w,Dt," "));var Xe=Be(r.nodeName);if(Tn(Xe,ne,w))try{Z?r.setAttributeNS(Z,Re,w):r.setAttribute(Re,w),re(F.removed)}catch{}}}De("afterSanitizeAttributes",r,null)}},on=function r(k){var w,ne=gt(k);for(De("beforeSanitizeShadowDOM",k,null);w=ne.nextNode();)De("uponSanitizeShadowNode",w,null),tn(w)||(w.content instanceof ae&&r(w.content),bt(w));De("afterSanitizeShadowDOM",k,null)};return F.sanitize=function(r,k){var w,ne,ue,we,_e;if((wn=!r)&&(r="<!-->"),typeof r!="string"&&!vt(r)){if(typeof r.toString!="function")throw L("toString is not a function");if(typeof(r=r.toString())!="string")throw L("dirty is not a string, aborting")}if(!F.isSupported){if(d(_.toStaticHTML)==="object"||typeof _.toStaticHTML=="function"){if(typeof r=="string")return _.toStaticHTML(r);if(vt(r))return _.toStaticHTML(r.outerHTML)}return r}if(Vt||Qt(k),F.removed=[],typeof r=="string"&&(Qe=!1),Qe){if(r.nodeName){var yt=Be(r.nodeName);if(!ve[yt]||mt[yt])throw L("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof Je)(ne=(w=Cn("<!---->")).ownerDocument.importNode(r,!0)).nodeType===1&&ne.nodeName==="BODY"||ne.nodeName==="HTML"?w=ne:w.appendChild(ne);else{if(!Ke&&!it&&!X&&r.indexOf("<")===-1)return Ye&&at?Ye.createHTML(r):r;if(!(w=Cn(r)))return Ke?null:at?dn:""}w&&Gt&&$e(w.firstChild);for(var Re=gt(Qe?r:w);ue=Re.nextNode();)ue.nodeType===3&&ue===we||tn(ue)||(ue.content instanceof ae&&on(ue.content),bt(ue),we=ue);if(we=null,Qe)return r;if(Ke){if(He)for(_e=fn.call(w.ownerDocument);w.firstChild;)_e.appendChild(w.firstChild);else _e=w;return be.shadowroot&&(_e=Pt.call(U,_e,!0)),_e}var Z=X?w.outerHTML:w.innerHTML;return X&&ve["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&g(sn,w.ownerDocument.doctype.name)&&(Z="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+Z),it&&(Z=de(Z,$t," "),Z=de(Z,Dt," ")),Ye&&at?Ye.createHTML(Z):Z},F.setConfig=function(r){Qt(r),Vt=!0},F.clearConfig=function(){lt=null,Vt=!1},F.isValidAttribute=function(r,k,w){lt||Qt({});var ne=Be(r),ue=Be(k);return Tn(ne,ue,w)},F.addHook=function(r,k){typeof k=="function"&&(ye[r]=ye[r]||[],ge(ye[r],k))},F.removeHook=function(r){if(ye[r])return re(ye[r])},F.removeHooks=function(r){ye[r]&&(ye[r]=[])},F.removeAllHooks=function(){ye={}},F}return ut()}()},729:P=>{var d=Object.prototype.hasOwnProperty,T="~";function j(){}function C(h,b,y){this.fn=h,this.context=b,this.once=y||!1}function M(h,b,y,$,z){if(typeof y!="function")throw new TypeError("The listener must be a function");var D=new C(y,$||h,z),B=T?T+b:b;return h._events[B]?h._events[B].fn?h._events[B]=[h._events[B],D]:h._events[B].push(D):(h._events[B]=D,h._eventsCount++),h}function K(h,b){--h._eventsCount==0?h._events=new j:delete h._events[b]}function v(){this._events=new j,this._eventsCount=0}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(T=!1)),v.prototype.eventNames=function(){var h,b,y=[];if(this._eventsCount===0)return y;for(b in h=this._events)d.call(h,b)&&y.push(T?b.slice(1):b);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(h)):y},v.prototype.listeners=function(h){var b=T?T+h:h,y=this._events[b];if(!y)return[];if(y.fn)return[y.fn];for(var $=0,z=y.length,D=new Array(z);$<z;$++)D[$]=y[$].fn;return D},v.prototype.listenerCount=function(h){var b=T?T+h:h,y=this._events[b];return y?y.fn?1:y.length:0},v.prototype.emit=function(h,b,y,$,z,D){var B=T?T+h:h;if(!this._events[B])return!1;var S,I,a=this._events[B],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(h,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,b),!0;case 3:return a.fn.call(a.context,b,y),!0;case 4:return a.fn.call(a.context,b,y,$),!0;case 5:return a.fn.call(a.context,b,y,$,z),!0;case 6:return a.fn.call(a.context,b,y,$,z,D),!0}for(I=1,S=new Array(l-1);I<l;I++)S[I-1]=arguments[I];a.fn.apply(a.context,S)}else{var m,x=a.length;for(I=0;I<x;I++)switch(a[I].once&&this.removeListener(h,a[I].fn,void 0,!0),l){case 1:a[I].fn.call(a[I].context);break;case 2:a[I].fn.call(a[I].context,b);break;case 3:a[I].fn.call(a[I].context,b,y);break;case 4:a[I].fn.call(a[I].context,b,y,$);break;default:if(!S)for(m=1,S=new Array(l-1);m<l;m++)S[m-1]=arguments[m];a[I].fn.apply(a[I].context,S)}}return!0},v.prototype.on=function(h,b,y){return M(this,h,b,y,!1)},v.prototype.once=function(h,b,y){return M(this,h,b,y,!0)},v.prototype.removeListener=function(h,b,y,$){var z=T?T+h:h;if(!this._events[z])return this;if(!b)return K(this,z),this;var D=this._events[z];if(D.fn)D.fn!==b||$&&!D.once||y&&D.context!==y||K(this,z);else{for(var B=0,S=[],I=D.length;B<I;B++)(D[B].fn!==b||$&&!D[B].once||y&&D[B].context!==y)&&S.push(D[B]);S.length?this._events[z]=S.length===1?S[0]:S:K(this,z)}return this},v.prototype.removeAllListeners=function(h){var b;return h?(b=T?T+h:h,this._events[b]&&K(this,b)):(this._events=new j,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=T,v.EventEmitter=v,P.exports=v},717:P=>{typeof Object.create=="function"?P.exports=function(d,T){d.super_=T,d.prototype=Object.create(T.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:P.exports=function(d,T){d.super_=T;var j=function(){};j.prototype=T.prototype,d.prototype=new j,d.prototype.constructor=d}},824:P=>{var d=1e3,T=60*d,j=60*T,C=24*j,M=7*C,K=365.25*C;function v(h,b,y,$){var z=b>=1.5*y;return Math.round(h/y)+" "+$+(z?"s":"")}P.exports=function(h,b){b=b||{};var y=typeof h;if(y==="string"&&h.length>0)return function($){if(!(($=String($)).length>100)){var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(z){var D=parseFloat(z[1]);switch((z[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return D*K;case"weeks":case"week":case"w":return D*M;case"days":case"day":case"d":return D*C;case"hours":case"hour":case"hrs":case"hr":case"h":return D*j;case"minutes":case"minute":case"mins":case"min":case"m":return D*T;case"seconds":case"second":case"secs":case"sec":case"s":return D*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(h);if(y==="number"&&isFinite(h))return b.long?function($){var z=Math.abs($);return z>=C?v($,z,C,"day"):z>=j?v($,z,j,"hour"):z>=T?v($,z,T,"minute"):z>=d?v($,z,d,"second"):$+" ms"}(h):function($){var z=Math.abs($);return z>=C?Math.round($/C)+"d":z>=j?Math.round($/j)+"h":z>=T?Math.round($/T)+"m":z>=d?Math.round($/d)+"s":$+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},520:(P,d,T)=>{var j=T(155),C=j.platform==="win32",M=T(539);function K(a,l){for(var m=[],x=0;x<a.length;x++){var H=a[x];H&&H!=="."&&(H===".."?m.length&&m[m.length-1]!==".."?m.pop():l&&m.push(".."):m.push(H))}return m}function v(a){for(var l=a.length-1,m=0;m<=l&&!a[m];m++);for(var x=l;x>=0&&!a[x];x--);return m===0&&x===l?a:m>x?[]:a.slice(m,x+1)}var h=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,b=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function $(a){var l=h.exec(a),m=(l[1]||"")+(l[2]||""),x=l[3]||"",H=b.exec(x);return[m,H[1],H[2],H[3]]}function z(a){var l=h.exec(a),m=l[1]||"",x=!!m&&m[1]!==":";return{device:m,isUnc:x,isAbsolute:x||!!l[2],tail:l[3]}}function D(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var a="",l="",m=!1,x=arguments.length-1;x>=-1;x--){var H;if(x>=0?H=arguments[x]:a?(H=j.env["="+a])&&H.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(H=a+"\\"):H=j.cwd(),!M.isString(H))throw new TypeError("Arguments to path.resolve must be strings");if(H){var Q=z(H),re=Q.device,ge=Q.isUnc,ke=Q.isAbsolute,xe=Q.tail;if((!re||!a||re.toLowerCase()===a.toLowerCase())&&(a||(a=re),m||(l=xe+"\\"+l,m=ke),a&&m))break}}return ge&&(a=D(a)),a+(m?"\\":"")+(l=K(l.split(/[\\\/]+/),!m).join("\\"))||"."},y.normalize=function(a){var l=z(a),m=l.device,x=l.isUnc,H=l.isAbsolute,Q=l.tail,re=/[\\\/]$/.test(Q);return(Q=K(Q.split(/[\\\/]+/),!H).join("\\"))||H||(Q="."),Q&&re&&(Q+="\\"),x&&(m=D(m)),m+(H?"\\":"")+Q},y.isAbsolute=function(a){return z(a).isAbsolute},y.join=function(){for(var a=[],l=0;l<arguments.length;l++){var m=arguments[l];if(!M.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&a.push(m)}var x=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(x=x.replace(/^[\\\/]{2,}/,"\\")),y.normalize(x)},y.relative=function(a,l){a=y.resolve(a),l=y.resolve(l);for(var m=a.toLowerCase(),x=l.toLowerCase(),H=v(l.split("\\")),Q=v(m.split("\\")),re=v(x.split("\\")),ge=Math.min(Q.length,re.length),ke=ge,xe=0;xe<ge;xe++)if(Q[xe]!==re[xe]){ke=xe;break}if(ke==0)return l;var de=[];for(xe=ke;xe<Q.length;xe++)de.push("..");return(de=de.concat(H.slice(ke))).join("\\")},y._makeLong=function(a){if(!M.isString(a))return a;if(!a)return"";var l=y.resolve(a);return/^[a-zA-Z]\:\\/.test(l)?"\\\\?\\"+l:/^\\\\[^?.]/.test(l)?"\\\\?\\UNC\\"+l.substring(2):a},y.dirname=function(a){var l=$(a),m=l[0],x=l[1];return m||x?(x&&(x=x.substr(0,x.length-1)),m+x):"."},y.basename=function(a,l){var m=$(a)[2];return l&&m.substr(-1*l.length)===l&&(m=m.substr(0,m.length-l.length)),m},y.extname=function(a){return $(a)[3]},y.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!M.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var m=a.dir,x=a.base||"";return m?m[m.length-1]===y.sep?m+x:m+y.sep+x:x},y.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=$(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},y.sep="\\",y.delimiter=";";var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,S={};function I(a){return B.exec(a).slice(1)}S.resolve=function(){for(var a="",l=!1,m=arguments.length-1;m>=-1&&!l;m--){var x=m>=0?arguments[m]:j.cwd();if(!M.isString(x))throw new TypeError("Arguments to path.resolve must be strings");x&&(a=x+"/"+a,l=x[0]==="/")}return(l?"/":"")+(a=K(a.split("/"),!l).join("/"))||"."},S.normalize=function(a){var l=S.isAbsolute(a),m=a&&a[a.length-1]==="/";return(a=K(a.split("/"),!l).join("/"))||l||(a="."),a&&m&&(a+="/"),(l?"/":"")+a},S.isAbsolute=function(a){return a.charAt(0)==="/"},S.join=function(){for(var a="",l=0;l<arguments.length;l++){var m=arguments[l];if(!M.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&(a+=a?"/"+m:m)}return S.normalize(a)},S.relative=function(a,l){a=S.resolve(a).substr(1),l=S.resolve(l).substr(1);for(var m=v(a.split("/")),x=v(l.split("/")),H=Math.min(m.length,x.length),Q=H,re=0;re<H;re++)if(m[re]!==x[re]){Q=re;break}var ge=[];for(re=Q;re<m.length;re++)ge.push("..");return(ge=ge.concat(x.slice(Q))).join("/")},S._makeLong=function(a){return a},S.dirname=function(a){var l=I(a),m=l[0],x=l[1];return m||x?(x&&(x=x.substr(0,x.length-1)),m+x):"."},S.basename=function(a,l){var m=I(a)[2];return l&&m.substr(-1*l.length)===l&&(m=m.substr(0,m.length-l.length)),m},S.extname=function(a){return I(a)[3]},S.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!M.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+S.sep:"")+(a.base||"")},S.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=I(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return l[1]=l[1]||"",l[2]=l[2]||"",l[3]=l[3]||"",{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},S.sep="/",S.delimiter=":",P.exports=C?y:S,P.exports.posix=S,P.exports.win32=y},155:P=>{var d,T,j=P.exports={};function C(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}function K(S){if(d===setTimeout)return setTimeout(S,0);if((d===C||!d)&&setTimeout)return d=setTimeout,setTimeout(S,0);try{return d(S,0)}catch{try{return d.call(null,S,0)}catch{return d.call(this,S,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:C}catch{d=C}try{T=typeof clearTimeout=="function"?clearTimeout:M}catch{T=M}})();var v,h=[],b=!1,y=-1;function $(){b&&v&&(b=!1,v.length?h=v.concat(h):y=-1,h.length&&z())}function z(){if(!b){var S=K($);b=!0;for(var I=h.length;I;){for(v=h,h=[];++y<I;)v&&v[y].run();y=-1,I=h.length}v=null,b=!1,function(a){if(T===clearTimeout)return clearTimeout(a);if((T===M||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(a);try{T(a)}catch{try{return T.call(null,a)}catch{return T.call(this,a)}}}(S)}}function D(S,I){this.fun=S,this.array=I}function B(){}j.nextTick=function(S){var I=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)I[a-1]=arguments[a];h.push(new D(S,I)),h.length!==1||b||K(z)},D.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=B,j.addListener=B,j.once=B,j.off=B,j.removeListener=B,j.removeAllListeners=B,j.emit=B,j.prependListener=B,j.prependOnceListener=B,j.listeners=function(S){return[]},j.binding=function(S){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(S){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},384:P=>{P.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},539:(P,d,T)=>{var j=T(155),C=/%[sdj%]/g;d.format=function(p){if(!a(p)){for(var g=[],L=0;L<arguments.length;L++)g.push(v(arguments[L]));return g.join(" ")}L=1;for(var ee=arguments,Te=ee.length,N=String(p).replace(C,function(le){if(le==="%%")return"%";if(L>=Te)return le;switch(le){case"%s":return String(ee[L++]);case"%d":return Number(ee[L++]);case"%j":try{return JSON.stringify(ee[L++])}catch{return"[Circular]"}default:return le}}),W=ee[L];L<Te;W=ee[++L])S(W)||!x(W)?N+=" "+W:N+=" "+v(W);return N},d.deprecate=function(p,g){if(l(T.g.process))return function(){return d.deprecate(p,g).apply(this,arguments)};if(j.noDeprecation===!0)return p;var L=!1;return function(){if(!L){if(j.throwDeprecation)throw new Error(g);j.traceDeprecation?console.trace(g):console.error(g),L=!0}return p.apply(this,arguments)}};var M,K={};function v(p,g){var L={seen:[],stylize:b};return arguments.length>=3&&(L.depth=arguments[2]),arguments.length>=4&&(L.colors=arguments[3]),B(g)?L.showHidden=g:g&&d._extend(L,g),l(L.showHidden)&&(L.showHidden=!1),l(L.depth)&&(L.depth=2),l(L.colors)&&(L.colors=!1),l(L.customInspect)&&(L.customInspect=!0),L.colors&&(L.stylize=h),y(L,p,L.depth)}function h(p,g){var L=v.styles[g];return L?"\x1B["+v.colors[L][0]+"m"+p+"\x1B["+v.colors[L][1]+"m":p}function b(p,g){return p}function y(p,g,L){if(p.customInspect&&g&&re(g.inspect)&&g.inspect!==d.inspect&&(!g.constructor||g.constructor.prototype!==g)){var ee=g.inspect(L,p);return a(ee)||(ee=y(p,ee,L)),ee}var Te=function(he,ce){if(l(ce))return he.stylize("undefined","undefined");if(a(ce)){var Ae="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return he.stylize(Ae,"string")}if(I(ce))return he.stylize(""+ce,"number");if(B(ce))return he.stylize(""+ce,"boolean");if(S(ce))return he.stylize("null","null")}(p,g);if(Te)return Te;var N=Object.keys(g),W=function(he){var ce={};return he.forEach(function(Ae,Se){ce[Ae]=!0}),ce}(N);if(p.showHidden&&(N=Object.getOwnPropertyNames(g)),Q(g)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return $(g);if(N.length===0){if(re(g)){var le=g.name?": "+g.name:"";return p.stylize("[Function"+le+"]","special")}if(m(g))return p.stylize(RegExp.prototype.toString.call(g),"regexp");if(H(g))return p.stylize(Date.prototype.toString.call(g),"date");if(Q(g))return $(g)}var Ee,Fe="",qe=!1,tt=["{","}"];return D(g)&&(qe=!0,tt=["[","]"]),re(g)&&(Fe=" [Function"+(g.name?": "+g.name:"")+"]"),m(g)&&(Fe=" "+RegExp.prototype.toString.call(g)),H(g)&&(Fe=" "+Date.prototype.toUTCString.call(g)),Q(g)&&(Fe=" "+$(g)),N.length!==0||qe&&g.length!=0?L<0?m(g)?p.stylize(RegExp.prototype.toString.call(g),"regexp"):p.stylize("[Object]","special"):(p.seen.push(g),Ee=qe?function(he,ce,Ae,Se,je){for(var Ie=[],Pe=0,Mt=ce.length;Pe<Mt;++Pe)Me(ce,String(Pe))?Ie.push(z(he,ce,Ae,Se,String(Pe),!0)):Ie.push("");return je.forEach(function(kt){kt.match(/^\d+$/)||Ie.push(z(he,ce,Ae,Se,kt,!0))}),Ie}(p,g,L,W,N):N.map(function(he){return z(p,g,L,W,he,qe)}),p.seen.pop(),function(he,ce,Ae){return he.reduce(function(Se,je){return je.indexOf(`
`)>=0,Se+je.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ae[0]+(ce===""?"":ce+`
 `)+" "+he.join(`,
  `)+" "+Ae[1]:Ae[0]+ce+" "+he.join(", ")+" "+Ae[1]}(Ee,Fe,tt)):tt[0]+Fe+tt[1]}function $(p){return"["+Error.prototype.toString.call(p)+"]"}function z(p,g,L,ee,Te,N){var W,le,Ee;if((Ee=Object.getOwnPropertyDescriptor(g,Te)||{value:g[Te]}).get?le=Ee.set?p.stylize("[Getter/Setter]","special"):p.stylize("[Getter]","special"):Ee.set&&(le=p.stylize("[Setter]","special")),Me(ee,Te)||(W="["+Te+"]"),le||(p.seen.indexOf(Ee.value)<0?(le=S(L)?y(p,Ee.value,null):y(p,Ee.value,L-1)).indexOf(`
`)>-1&&(le=N?le.split(`
`).map(function(Fe){return"  "+Fe}).join(`
`).substr(2):`
`+le.split(`
`).map(function(Fe){return"   "+Fe}).join(`
`)):le=p.stylize("[Circular]","special")),l(W)){if(N&&Te.match(/^\d+$/))return le;(W=JSON.stringify(""+Te)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.substr(1,W.length-2),W=p.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=p.stylize(W,"string"))}return W+": "+le}function D(p){return Array.isArray(p)}function B(p){return typeof p=="boolean"}function S(p){return p===null}function I(p){return typeof p=="number"}function a(p){return typeof p=="string"}function l(p){return p===void 0}function m(p){return x(p)&&ge(p)==="[object RegExp]"}function x(p){return typeof p=="object"&&p!==null}function H(p){return x(p)&&ge(p)==="[object Date]"}function Q(p){return x(p)&&(ge(p)==="[object Error]"||p instanceof Error)}function re(p){return typeof p=="function"}function ge(p){return Object.prototype.toString.call(p)}function ke(p){return p<10?"0"+p.toString(10):p.toString(10)}d.debuglog=function(p){if(l(M)&&(M=j.env.NODE_DEBUG||""),p=p.toUpperCase(),!K[p])if(new RegExp("\\b"+p+"\\b","i").test(M)){var g=j.pid;K[p]=function(){var L=d.format.apply(d,arguments);console.error("%s %d: %s",p,g,L)}}else K[p]=function(){};return K[p]},d.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=D,d.isBoolean=B,d.isNull=S,d.isNullOrUndefined=function(p){return p==null},d.isNumber=I,d.isString=a,d.isSymbol=function(p){return typeof p=="symbol"},d.isUndefined=l,d.isRegExp=m,d.isObject=x,d.isDate=H,d.isError=Q,d.isFunction=re,d.isPrimitive=function(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||p===void 0},d.isBuffer=T(384);var xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var p=new Date,g=[ke(p.getHours()),ke(p.getMinutes()),ke(p.getSeconds())].join(":");return[p.getDate(),xe[p.getMonth()],g].join(" ")}function Me(p,g){return Object.prototype.hasOwnProperty.call(p,g)}d.log=function(){console.log("%s - %s",de(),d.format.apply(d,arguments))},d.inherits=T(717),d._extend=function(p,g){if(!g||!x(g))return p;for(var L=Object.keys(g),ee=L.length;ee--;)p[L[ee]]=g[L[ee]];return p}}},me={};function q(P){var d=me[P];if(d!==void 0)return d.exports;var T=me[P]={exports:{}};return ie[P].call(T.exports,T,T.exports,q),T.exports}q.n=P=>{var d=P&&P.__esModule?()=>P.default:()=>P;return q.d(d,{a:d}),d},q.d=(P,d)=>{for(var T in d)q.o(d,T)&&!q.o(P,T)&&Object.defineProperty(P,T,{enumerable:!0,get:d[T]})},q.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),q.o=(P,d)=>Object.prototype.hasOwnProperty.call(P,d),q.r=P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})};var pe={};return(()=>{q.r(pe),q.d(pe,{LSPluginUser:()=>io,setupPluginUserInstance:()=>Do});var P=q(520);q(856);const d=function(){this.__data__=[],this.size=0},T=function(t,e){return t===e||t!=t&&e!=e},j=function(t,e){for(var n=t.length;n--;)if(T(t[n][0],e))return n;return-1};var C=Array.prototype.splice;const M=function(t){var e=this.__data__,n=j(e,t);return!(n<0)&&(n==e.length-1?e.pop():C.call(e,n,1),--this.size,!0)},K=function(t){var e=this.__data__,n=j(e,t);return n<0?void 0:e[n][1]},v=function(t){return j(this.__data__,t)>-1},h=function(t,e){var n=this.__data__,o=j(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function b(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}b.prototype.clear=d,b.prototype.delete=M,b.prototype.get=K,b.prototype.has=v,b.prototype.set=h;const y=b,$=function(){this.__data__=new y,this.size=0},z=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},D=function(t){return this.__data__.get(t)},B=function(t){return this.__data__.has(t)},S=typeof jn=="object"&&jn&&jn.Object===Object&&jn;var I=typeof self=="object"&&self&&self.Object===Object&&self;const a=S||I||Function("return this")(),l=a.Symbol;var m=Object.prototype,x=m.hasOwnProperty,H=m.toString,Q=l?l.toStringTag:void 0;const re=function(t){var e=x.call(t,Q),n=t[Q];try{t[Q]=void 0;var o=!0}catch{}var i=H.call(t);return o&&(e?t[Q]=n:delete t[Q]),i};var ge=Object.prototype.toString;const ke=function(t){return ge.call(t)};var xe=l?l.toStringTag:void 0;const de=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":xe&&xe in Object(t)?re(t):ke(t)},Me=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},p=function(t){if(!Me(t))return!1;var e=de(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},g=a["__core-js_shared__"];var L,ee=(L=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"";const Te=function(t){return!!ee&&ee in t};var N=Function.prototype.toString;const W=function(t){if(t!=null){try{return N.call(t)}catch{}try{return t+""}catch{}}return""};var le=/^\[object .+?Constructor\]$/,Ee=Function.prototype,Fe=Object.prototype,qe=Ee.toString,tt=Fe.hasOwnProperty,he=RegExp("^"+qe.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ce=function(t){return!(!Me(t)||Te(t))&&(p(t)?he:le).test(W(t))},Ae=function(t,e){return t?.[e]},Se=function(t,e){var n=Ae(t,e);return ce(n)?n:void 0},je=Se(a,"Map"),Ie=Se(Object,"create"),Pe=function(){this.__data__=Ie?Ie(null):{},this.size=0},Mt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var kt=Object.prototype.hasOwnProperty;const In=function(t){var e=this.__data__;if(Ie){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return kt.call(e,t)?e[t]:void 0};var Ln=Object.prototype.hasOwnProperty;const Nn=function(t){var e=this.__data__;return Ie?e[t]!==void 0:Ln.call(e,t)},Pn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ie&&e===void 0?"__lodash_hash_undefined__":e,this};function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}nt.prototype.clear=Pe,nt.prototype.delete=Mt,nt.prototype.get=In,nt.prototype.has=Nn,nt.prototype.set=Pn;const sn=nt,$n=function(){this.size=0,this.__data__={hash:new sn,map:new(je||y),string:new sn}},Dn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ut=function(t,e){var n=t.__data__;return Dn(e)?n[typeof e=="string"?"string":"hash"]:n.map},_=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},F=function(t){return ut(this,t).get(t)},U=function(t){return ut(this,t).has(t)},J=function(t,e){var n=ut(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function ae(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ae.prototype.clear=$n,ae.prototype.delete=_,ae.prototype.get=F,ae.prototype.has=U,ae.prototype.set=J;const Le=ae,Je=function(t,e){var n=this.__data__;if(n instanceof y){var o=n.__data__;if(!je||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Le(o)}return n.set(t,e),this.size=n.size,this};function Ne(t){var e=this.__data__=new y(t);this.size=e.size}Ne.prototype.clear=$,Ne.prototype.delete=z,Ne.prototype.get=D,Ne.prototype.has=B,Ne.prototype.set=Je;const Ze=Ne,pt=function(){try{var t=Se(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xt=function(t,e,n){e=="__proto__"&&pt?pt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},It=function(t,e,n){(n!==void 0&&!T(t[e],n)||n===void 0&&!(e in t))&&xt(t,e,n)},ln=function(t){return function(e,n,o){for(var i=-1,s=Object(e),c=o(e),u=c.length;u--;){var f=c[t?u:++i];if(n(s[f],f,s)===!1)break}return e}}();var cn=G&&!G.nodeType&&G,dt=cn&&!0&&te&&!te.nodeType&&te,un=dt&&dt.exports===cn?a.Buffer:void 0,pn=un?un.allocUnsafe:void 0;const Rn=function(t,e){if(e)return t.slice();var n=t.length,o=pn?pn(n):new t.constructor(n);return t.copy(o),o},ot=a.Uint8Array,Lt=function(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e},Ye=function(t,e){var n=e?Lt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},dn=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e};var ht=Object.create;const Nt=function(){function t(){}return function(e){if(!Me(e))return{};if(ht)return ht(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hn=function(t,e){return function(n){return t(e(n))}},fn=hn(Object.getPrototypeOf,Object);var Un=Object.prototype;const Pt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Un)},mn=function(t){return typeof t.constructor!="function"||Pt(t)?{}:Nt(fn(t))},ye=function(t){return t!=null&&typeof t=="object"},rt=function(t){return ye(t)&&de(t)=="[object Arguments]"};var Be=Object.prototype,$t=Be.hasOwnProperty,Dt=Be.propertyIsEnumerable;const Ct=rt(function(){return arguments}())?rt:function(t){return ye(t)&&$t.call(t,"callee")&&!Dt.call(t,"callee")},ze=Array.isArray,Rt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},ft=function(t){return t!=null&&Rt(t.length)&&!p(t)},Ut=function(t){return ye(t)&&ft(t)},ve=function(){return!1};var qt=G&&!G.nodeType&&G,be=qt&&!0&&te&&!te.nodeType&&te,Yt=be&&be.exports===qt?a.Buffer:void 0;const se=(Yt?Yt.isBuffer:void 0)||ve;var mt=Function.prototype,Bt=Object.prototype,Ht=mt.toString,Wt=Bt.hasOwnProperty,gn=Ht.call(Object);const it=function(t){if(!ye(t)||de(t)!="[object Object]")return!1;var e=fn(t);if(e===null)return!0;var n=Wt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ht.call(n)==gn};var X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object Boolean]"]=X["[object DataView]"]=X["[object Date]"]=X["[object Error]"]=X["[object Function]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object WeakMap]"]=!1;const Vt=function(t){return ye(t)&&Rt(t.length)&&!!X[de(t)]},Gt=function(t){return function(e){return t(e)}};var Ke=G&&!G.nodeType&&G,He=Ke&&!0&&te&&!te.nodeType&&te,at=He&&He.exports===Ke&&S.process,Jt=function(){try{var t=He&&He.require&&He.require("util").types;return t||at&&at.binding&&at.binding("util")}catch{}}(),Tt=Jt&&Jt.isTypedArray;const Qe=Tt?Gt(Tt):Vt,We=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var st=Object.prototype.hasOwnProperty;const vn=function(t,e,n){var o=t[e];st.call(t,e)&&T(o,n)&&(n!==void 0||e in t)||xt(t,e,n)},bn=function(t,e,n,o){var i=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],f=o?o(n[u],t[u],u,n,t):void 0;f===void 0&&(f=t[u]),i?xt(n,u,f):vn(n,u,f)}return n},yn=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o};var Zt=/^(?:0|[1-9]\d*)$/;const Ft=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Zt.test(t))&&t>-1&&t%1==0&&t<e};var Kt=Object.prototype.hasOwnProperty;const At=function(t,e){var n=ze(t),o=!n&&Ct(t),i=!n&&!o&&se(t),s=!n&&!o&&!i&&Qe(t),c=n||o||i||s,u=c?yn(t.length,String):[],f=u.length;for(var A in t)!e&&!Kt.call(t,A)||c&&(A=="length"||i&&(A=="offset"||A=="parent")||s&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Ft(A,f))||u.push(A);return u},Ve=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var St=Object.prototype.hasOwnProperty;const wn=function(t){if(!Me(t))return Ve(t);var e=Pt(t),n=[];for(var o in t)(o!="constructor"||!e&&St.call(t,o))&&n.push(o);return n},_n=function(t){return ft(t)?At(t,!0):wn(t)},qn=function(t){return bn(t,_n(t))},lt=function(t,e,n,o,i,s,c){var u=We(t,n),f=We(e,n),A=c.get(f);if(A)It(t,n,A);else{var E=s?s(u,f,n+"",t,e,c):void 0,O=E===void 0;if(O){var R=ze(f),V=!R&&se(f),Y=!R&&!V&&Qe(f);E=f,R||V||Y?ze(u)?E=u:Ut(u)?E=dn(u):V?(O=!1,E=Rn(f,!0)):Y?(O=!1,E=Ye(f,!0)):E=[]:it(f)||Ct(f)?(E=u,Ct(u)?E=qn(u):Me(u)&&!p(u)||(E=mn(f))):O=!1}O&&(c.set(f,E),i(E,f,o,s,c),c.delete(f)),It(t,n,E)}},Yn=function t(e,n,o,i,s){e!==n&&ln(n,function(c,u){if(s||(s=new Ze),Me(c))lt(e,n,u,o,t,i,s);else{var f=i?i(We(e,u),c,u+"",e,n,s):void 0;f===void 0&&(f=c),It(e,u,f)}},_n)},Et=function(t){return t},Qt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Xt=Math.max;const kn=function(t,e,n){return e=Xt(e===void 0?t.length-1:e,0),function(){for(var o=arguments,i=-1,s=Xt(o.length-e,0),c=Array(s);++i<s;)c[i]=o[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=o[i];return u[e]=n(c),Qt(t,this,u)}},Bn=function(t){return function(){return t}},Ot=pt?function(t,e){return pt(t,"toString",{configurable:!0,enumerable:!1,value:Bn(e),writable:!0})}:Et;var en=Date.now;const Hn=function(t){var e=0,n=0;return function(){var o=en(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ot),$e=function(t,e){return Hn(kn(t,e,Et),t+"")},xn=function(t,e,n){if(!Me(n))return!1;var o=typeof e;return!!(o=="number"?ft(n)&&Ft(e,n.length):o=="string"&&e in n)&&T(n[e],t)},Cn=function(t){return $e(function(e,n){var o=-1,i=n.length,s=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,c&&xn(n[0],n[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++o<i;){var u=n[o];u&&t(e,u,o,s)}return e})}(function(t,e,n){Yn(t,e,n)});var gt=function(){return gt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)};function Wn(t){return t.toLowerCase()}var vt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],De=/[^A-Z0-9]+/gi;function tn(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(o,i){return o.replace(i,n)},t)}function Tn(t,e){return e===void 0&&(e={}),function(n,o){o===void 0&&(o={});for(var i=o.splitRegexp,s=i===void 0?vt:i,c=o.stripRegexp,u=c===void 0?De:c,f=o.transform,A=f===void 0?Wn:f,E=o.delimiter,O=E===void 0?" ":E,R=tn(tn(n,s,"$1\0$2"),u,"\0"),V=0,Y=R.length;R.charAt(V)==="\0";)V++;for(;R.charAt(Y-1)==="\0";)Y--;return R.slice(V,Y).split("\0").map(A).join(O)}(t,gt({delimiter:"."},e))}var nn=q(729),bt=q.n(nn);function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const r=navigator.platform.toLowerCase()==="win32"?P.win32:P.posix,k=function(t,e){return e===void 0&&(e={}),Tn(t,gt({delimiter:"_"},e))},w=Cn;class ne extends bt(){constructor(e,n){super(),on(this,"_tag",void 0),on(this,"_opts",void 0),on(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,o){var i;n!=null&&n.length&&n[n.length-1]===!0&&(o=!0,n.pop());const s=n.reduce((u,f)=>(f&&f instanceof Error?u+=`${f.message} ${f.stack}`:u+=f.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var c;this._logs.push([e,s]),(o||(i=this._opts)!==null&&i!==void 0&&i.console)&&((c=console)===null||c===void 0||c[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function ue(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const o=r.join(t.substr(n.origin.length),...e);return n.origin+o}catch{return r.join(t,...e)}}function we(t,e){let n,o,i=!1;const s=u=>f=>{t&&clearTimeout(t),u(f),i=!0},c=new Promise((u,f)=>{n=s(u),o=s(f),t&&(t=setTimeout(()=>o(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:o,promise:c,get settled(){return i}}}const _e=new Map;window.__injectedUIEffects=_e;var yt=q(227),Re=q.n(yt);function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Xe="application/x-postmate-v1+json";let lo=0;const Yo={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Vn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Xe&&!!Yo[t.data.postmate];class Bo{constructor(e){Z(this,"parent",void 0),Z(this,"frame",void 0),Z(this,"child",void 0),Z(this,"events",{}),Z(this,"childOrigin",void 0),Z(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Vn(n,this.childOrigin))return!1;const{data:o,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,o)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(o=>{const i=++lo,s=c=>{c.data.uid===i&&c.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),o(c.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:Xe,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Xe,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Ho{constructor(e){Z(this,"model",void 0),Z(this,"parent",void 0),Z(this,"parentOrigin",void 0),Z(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Vn(n,this.parentOrigin))return;const{property:o,uid:i,data:s,args:c}=n.data;n.data.postmate!=="call"?((u,f,A)=>{const E=typeof u[f]=="function"?u[f].apply(null,A):u[f];return Promise.resolve(E)})(this.model,o,c).then(u=>{n.source.postMessage({property:o,postmate:"reply",type:Xe,uid:i,value:u},n.origin)}):o in this.model&&typeof this.model[o]=="function"&&this.model[o](s)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Xe,value:{name:e,data:n}},this.parentOrigin)}}class Gn{constructor(e){Z(this,"container",void 0),Z(this,"parent",void 0),Z(this,"frame",void 0),Z(this,"child",void 0),Z(this,"childOrigin",void 0),Z(this,"url",void 0),Z(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(s=>{const c=document.createElement("a");c.href=s;const u=c.protocol.length>4?c.protocol:window.location.protocol,f=c.host.length?c.port==="80"||c.port==="443"?c.hostname:c.host:window.location.host;return c.origin||`${u}//${f}`})(e=e||this.url);let o,i=0;return new Promise((s,c)=>{const u=A=>!!Vn(A,n)&&(A.data.postmate==="handshake-reply"?(clearInterval(o),this.parent.removeEventListener("message",u,!1),this.childOrigin=A.origin,s(new Bo(this))):c("Failed handshake"));this.parent.addEventListener("message",u,!1);const f=()=>{i++,this.child.postMessage({postmate:"handshake",type:Xe,model:this.model},n),i===5&&clearInterval(o)};this.frame.addEventListener("load",()=>{f(),o=setInterval(f,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Z(Gn,"debug",!1),Z(Gn,"Model",void 0);class Wo{constructor(e){Z(this,"child",void 0),Z(this,"model",void 0),Z(this,"parent",void 0),Z(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const o=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",o,!1),i.source.postMessage({postmate:"handshake-reply",type:Xe},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(c=>{this.model[c]=s[c]}),e(new Ho(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",o,!1)})}}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:Vo,createSandboxContainer:Go}=window.QSandbox||{};function Jo(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,o)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),o(i)}}))}class Zo extends bt(){constructor(e){super(),rn(this,"_pluginLocal",void 0),rn(this,"_frame",void 0),rn(this,"_root",void 0),rn(this,"_loaded",!1),rn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:o,execScripts:i}=await Vo(n,{fetch:Jo});this._mount(o,document.body);const s=Go(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new io(this._pluginLocal.toJSON(),this._pluginLocal.caller);const c=await i(s,!0);this._unmountFns.push(c.unmount),this._loaded=!0}_mount(e,n){const o=this._frame=document.createElement("div");o.classList.add("lsp-shadow-sandbox"),o.id=this._pluginLocal.id,this._root=o.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(o),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=Re()("LSPlugin:caller"),an="#await#response#",Ko="#lspmsg#",co="#lspmsg#error#",Fn=t=>`#lspmsg#${t}`;class Qo extends bt(){constructor(e){super(),Ge(this,"_pluginLocal",void 0),Ge(this,"_connected",!1),Ge(this,"_parent",void 0),Ge(this,"_child",void 0),Ge(this,"_shadow",void 0),Ge(this,"_status",void 0),Ge(this,"_userModel",{}),Ge(this,"_call",void 0),Ge(this,"_callUserModel",void 0),Ge(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,o=this._pluginLocal!=null;let i=0;const s=new Map,c=we(6e4),u=this._extendUserModel({"#lspmsg#ready#":async E=>{u[Fn(E?.pid)]=({type:O,payload:R})=>{ct(`[host (_call) -> *user] ${this._debugTag}`,O,R),n.emit(O,R)},await c.resolve()},"#lspmsg#beforeunload#":async E=>{const O=we(1e4);n.emit("beforeunload",Object.assign({actor:O},E)),await O.promise},"#lspmsg#settings#":async({type:E,payload:O})=>{n.emit("settings:changed",O)},[Ko]:async({ns:E,type:O,payload:R})=>{ct(`[host (async) -> *user] ${this._debugTag} ns=${E} type=${O}`,R),E&&E.startsWith("hook")?n.emit(`${E}:${O}`,R):n.emit(O,R)},"#lspmsg#reply#":({_sync:E,result:O})=>{if(ct(`[sync host -> *user] #${E}`,O),s.has(E)){const R=s.get(E);R&&(O!=null&&O.hasOwnProperty(co)?R.reject(O[co]):R.resolve(O),s.delete(E))}},...e});var f;if(o)return await c.promise,JSON.parse(JSON.stringify((f=this._pluginLocal)===null||f===void 0?void 0:f.toJSON()));const A=new Wo(u).sendHandshakeReply();return this._status="pending",await A.then(E=>{this._child=E,this._connected=!0,this._call=async(O,R={},V)=>{if(V){const Y=++i;s.set(Y,V),R._sync=Y,V.setTag(`async call #${Y}`),ct(`async call #${Y}`)}return E.emit(Fn(u.baseInfo.id),{type:O,payload:R}),V?.promise},this._callUserModel=async(O,R)=>{try{u[O](R)}catch{ct(`[model method] #${O} not existed`)}},setInterval(()=>{if(s.size>100)for(const[O,R]of s)R.settled&&s.delete(O)},18e5)}).finally(()=>{this._status=void 0}),await c.promise,u.baseInfo}async call(e,n={}){var o;return(o=this._call)===null||o===void 0?void 0:o.call(this,e,n)}async callAsync(e,n={}){var o;const i=we(1e4);return(o=this._call)===null||o===void 0?void 0:o.call(this,e,n,i)}async callUserModel(e,...n){var o;return(o=this._callUserModel)===null||o===void 0?void 0:o.apply(this,[e,...n])}async callUserModelAsync(e,...n){var o;return e=`${an}${e}`,(o=this._callUserModel)===null||o===void 0?void 0:o.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,o=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${o}`);s&&s.parentElement.removeChild(s);const c=document.createElement("div");c.classList.add("lsp-iframe-sandbox-container"),c.id=o,c.dataset.pid=n;try{var u;const O=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(O){c.dataset.inited_layout="true";let{width:R,height:V,left:Y,top:oe,vw:fe,vh:Oe}=O;Y=Math.max(Y,0),Y=typeof fe=="number"?`${Math.min(100*Y/fe,99)}%`:`${Y}px`,oe=Math.max(oe,45),oe=typeof Oe=="number"?`${Math.min(100*oe/Oe,99)}%`:`${oe}px`,Object.assign(c.style,{width:R+"px",height:V+"px",left:Y,top:oe})}}catch(O){console.error("[Restore Layout Error]",O)}document.body.appendChild(c);const f=new Gn({id:n+"_iframe",container:c,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let A,E=f.sendHandshake();return this._status="pending",new Promise((O,R)=>{A=setTimeout(()=>{R(new Error("handshake Timeout")),f.destroy()},4e3),E.then(V=>{this._parent=V,this._connected=!0,this.emit("connected"),V.on(Fn(e.id),({type:Y,payload:oe})=>{var fe,Oe;ct("[user -> *host] ",Y,oe),(fe=this._pluginLocal)===null||fe===void 0||fe.emit(Y,oe||{}),(Oe=this._pluginLocal)===null||Oe===void 0||Oe.caller.emit(Y,oe||{})}),this._call=async(...Y)=>{await V.call(Fn(e.id),{type:Y[0],payload:Object.assign(Y[1]||{},{$$pid:e.id})})},this._callUserModel=async(Y,...oe)=>{if(Y.startsWith(an))return await V.get(Y.replace(an,""),...oe);V.call(Y,oe?.[0])},O(null)}).catch(V=>{R(V)}).finally(()=>{clearTimeout(A)})}).catch(O=>{throw ct("[iframe sandbox] error",O),O}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Zo(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(o,i={},s)=>{var c;return s&&(i.actor=s),(c=this._pluginLocal)===null||c===void 0||c.emit(o,Object.assign(i,{$$pid:e.id})),s?.promise},this._callUserModel=async(...o)=>{var i;let s=o[0];(i=s)!==null&&i!==void 0&&i.startsWith(an)&&(s=s.replace(an,""));const c=o[1]||{},u=this._userModel[s];typeof u=="function"&&await u.call(null,c)}}catch(o){throw ct("[shadow sandbox] error",o),o}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class po{constructor(e,n){uo(this,"ctx",void 0),uo(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var o;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(o=this.opts)===null||o===void 0?void 0:o.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class Xo{constructor(e){var n,o,i;i=void 0,(o="ctx")in(n=this)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var o,i;const s=this.ensureHostScope();return e=(o=k(e))===null||o===void 0?void 0:o.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const o=this.ensureHostScope();return e==="katex"&&o.katex&&n(o.katex).catch(console.error),o.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ho=t=>`task_callback_${t}`;class er{constructor(e,n,o={}){jt(this,"_client",void 0),jt(this,"_requestId",void 0),jt(this,"_requestOptions",void 0),jt(this,"_promise",void 0),jt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=o,this._promise=new Promise((u,f)=>{if(!this._requestId)return f(null);this._client.once(ho(this._requestId),A=>{A&&A instanceof Error?f(A):u(A)})});const{success:i,fail:s,final:c}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{s?.(u)}).finally(()=>{c?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Jn extends nn.EventEmitter{constructor(e){super(),jt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const o=n?.requestId;o&&this.emit(ho(o),n?.payload)})}static createRequestTask(e,n,o){return new er(e,n,o)}async _request(e){const n=this.ctx.baseInfo.id,{success:o,fail:i,final:s,...c}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,c),f=Jn.createRequestTask(this.ctx.Request,u,e);return c.abortable?f:f.promise}get ctx(){return this._ctx}}const tr=hn(Object.keys,Object);var nr=Object.prototype.hasOwnProperty;const or=function(t){if(!Pt(t))return tr(t);var e=[];for(var n in Object(t))nr.call(t,n)&&n!="constructor"&&e.push(n);return e},Zn=function(t){return ft(t)?At(t):or(t)},rr=function(t,e){return t&&ln(t,e,Zn)},ir=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ar=function(t){return this.__data__.has(t)};function An(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Le;++e<n;)this.add(t[e])}An.prototype.add=An.prototype.push=ir,An.prototype.has=ar;const sr=An,lr=function(t,e){for(var n=-1,o=t==null?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1},cr=function(t,e){return t.has(e)},fo=function(t,e,n,o,i,s){var c=1&n,u=t.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var A=s.get(t),E=s.get(e);if(A&&E)return A==e&&E==t;var O=-1,R=!0,V=2&n?new sr:void 0;for(s.set(t,e),s.set(e,t);++O<u;){var Y=t[O],oe=e[O];if(o)var fe=c?o(oe,Y,O,e,t,s):o(Y,oe,O,t,e,s);if(fe!==void 0){if(fe)continue;R=!1;break}if(V){if(!lr(e,function(Oe,et){if(!cr(V,et)&&(Y===Oe||i(Y,Oe,n,o,s)))return V.push(et)})){R=!1;break}}else if(Y!==oe&&!i(Y,oe,n,o,s)){R=!1;break}}return s.delete(t),s.delete(e),R},ur=function(t){var e=-1,n=Array(t.size);return t.forEach(function(o,i){n[++e]=[i,o]}),n},pr=function(t){var e=-1,n=Array(t.size);return t.forEach(function(o){n[++e]=o}),n};var mo=l?l.prototype:void 0,Kn=mo?mo.valueOf:void 0;const dr=function(t,e,n,o,i,s,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new ot(t),new ot(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return T(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=ur;case"[object Set]":var f=1&o;if(u||(u=pr),t.size!=e.size&&!f)return!1;var A=c.get(t);if(A)return A==e;o|=2,c.set(t,e);var E=fo(u(t),u(e),o,i,s,c);return c.delete(t),E;case"[object Symbol]":if(Kn)return Kn.call(t)==Kn.call(e)}return!1},hr=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t},fr=function(t,e,n){var o=e(t);return ze(t)?o:hr(o,n(t))},mr=function(t,e){for(var n=-1,o=t==null?0:t.length,i=0,s=[];++n<o;){var c=t[n];e(c,n,t)&&(s[i++]=c)}return s},gr=function(){return[]};var vr=Object.prototype.propertyIsEnumerable,go=Object.getOwnPropertySymbols;const br=go?function(t){return t==null?[]:(t=Object(t),mr(go(t),function(e){return vr.call(t,e)}))}:gr,vo=function(t){return fr(t,Zn,br)};var yr=Object.prototype.hasOwnProperty;const wr=function(t,e,n,o,i,s){var c=1&n,u=vo(t),f=u.length;if(f!=vo(e).length&&!c)return!1;for(var A=f;A--;){var E=u[A];if(!(c?E in e:yr.call(e,E)))return!1}var O=s.get(t),R=s.get(e);if(O&&R)return O==e&&R==t;var V=!0;s.set(t,e),s.set(e,t);for(var Y=c;++A<f;){var oe=t[E=u[A]],fe=e[E];if(o)var Oe=c?o(fe,oe,E,e,t,s):o(oe,fe,E,t,e,s);if(!(Oe===void 0?oe===fe||i(oe,fe,n,o,s):Oe)){V=!1;break}Y||(Y=E=="constructor")}if(V&&!Y){var et=t.constructor,_t=e.constructor;et==_t||!("constructor"in t)||!("constructor"in e)||typeof et=="function"&&et instanceof et&&typeof _t=="function"&&_t instanceof _t||(V=!1)}return s.delete(t),s.delete(e),V},Qn=Se(a,"DataView"),Xn=Se(a,"Promise"),eo=Se(a,"Set"),to=Se(a,"WeakMap");var bo="[object Map]",yo="[object Promise]",wo="[object Set]",_o="[object WeakMap]",ko="[object DataView]",_r=W(Qn),kr=W(je),xr=W(Xn),Cr=W(eo),Tr=W(to),wt=de;(Qn&&wt(new Qn(new ArrayBuffer(1)))!=ko||je&&wt(new je)!=bo||Xn&&wt(Xn.resolve())!=yo||eo&&wt(new eo)!=wo||to&&wt(new to)!=_o)&&(wt=function(t){var e=de(t),n=e=="[object Object]"?t.constructor:void 0,o=n?W(n):"";if(o)switch(o){case _r:return ko;case kr:return bo;case xr:return yo;case Cr:return wo;case Tr:return _o}return e});const xo=wt;var Co="[object Arguments]",To="[object Array]",Sn="[object Object]",Fo=Object.prototype.hasOwnProperty;const Fr=function(t,e,n,o,i,s){var c=ze(t),u=ze(e),f=c?To:xo(t),A=u?To:xo(e),E=(f=f==Co?Sn:f)==Sn,O=(A=A==Co?Sn:A)==Sn,R=f==A;if(R&&se(t)){if(!se(e))return!1;c=!0,E=!1}if(R&&!E)return s||(s=new Ze),c||Qe(t)?fo(t,e,n,o,i,s):dr(t,e,f,n,o,i,s);if(!(1&n)){var V=E&&Fo.call(t,"__wrapped__"),Y=O&&Fo.call(e,"__wrapped__");if(V||Y){var oe=V?t.value():t,fe=Y?e.value():e;return s||(s=new Ze),i(oe,fe,n,o,s)}}return!!R&&(s||(s=new Ze),wr(t,e,n,o,i,s))},Ao=function t(e,n,o,i,s){return e===n||(e==null||n==null||!ye(e)&&!ye(n)?e!=e&&n!=n:Fr(e,n,o,i,t,s))},Ar=function(t,e,n,o){var i=n.length,s=i,c=!o;if(t==null)return!s;for(t=Object(t);i--;){var u=n[i];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var f=(u=n[i])[0],A=t[f],E=u[1];if(c&&u[2]){if(A===void 0&&!(f in t))return!1}else{var O=new Ze;if(o)var R=o(A,E,f,t,e,O);if(!(R===void 0?Ao(E,A,3,o,O):R))return!1}}return!0},So=function(t){return t==t&&!Me(t)},Sr=function(t){for(var e=Zn(t),n=e.length;n--;){var o=e[n],i=t[o];e[n]=[o,i,So(i)]}return e},Eo=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Er=function(t){var e=Sr(t);return e.length==1&&e[0][2]?Eo(e[0][0],e[0][1]):function(n){return n===t||Ar(n,t,e)}},no=function(t){return typeof t=="symbol"||ye(t)&&de(t)=="[object Symbol]"};var Or=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/;const oo=function(t,e){if(ze(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!no(t))||jr.test(t)||!Or.test(t)||e!=null&&t in Object(e)};function ro(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],s=n.cache;if(s.has(i))return s.get(i);var c=t.apply(this,o);return n.cache=s.set(i,c)||s,c};return n.cache=new(ro.Cache||Le),n}ro.Cache=Le;const zr=ro;var Mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ir=/\\(\\)?/g;const Lr=function(t){var e=zr(t,function(o){return n.size===500&&n.clear(),o}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mr,function(n,o,i,s){e.push(i?s.replace(Ir,"$1"):o||n)}),e}),Nr=function(t,e){for(var n=-1,o=t==null?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i};var Oo=l?l.prototype:void 0,jo=Oo?Oo.toString:void 0;const Pr=function t(e){if(typeof e=="string")return e;if(ze(e))return Nr(e,t)+"";if(no(e))return jo?jo.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},$r=function(t){return t==null?"":Pr(t)},zo=function(t,e){return ze(t)?t:oo(t,e)?[t]:Lr($r(t))},En=function(t){if(typeof t=="string"||no(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Mo=function(t,e){for(var n=0,o=(e=zo(e,t)).length;t!=null&&n<o;)t=t[En(e[n++])];return n&&n==o?t:void 0},Dr=function(t,e,n){var o=t==null?void 0:Mo(t,e);return o===void 0?n:o},Rr=function(t,e){return t!=null&&e in Object(t)},Ur=function(t,e,n){for(var o=-1,i=(e=zo(e,t)).length,s=!1;++o<i;){var c=En(e[o]);if(!(s=t!=null&&n(t,c)))break;t=t[c]}return s||++o!=i?s:!!(i=t==null?0:t.length)&&Rt(i)&&Ft(c,i)&&(ze(t)||Ct(t))},qr=function(t,e){return t!=null&&Ur(t,e,Rr)},Yr=function(t,e){return oo(t)&&So(e)?Eo(En(t),e):function(n){var o=Dr(n,t);return o===void 0&&o===e?qr(n,t):Ao(e,o,3)}},Br=function(t){return function(e){return e?.[t]}},Hr=function(t){return function(e){return Mo(e,t)}},Wr=function(t){return oo(t)?Br(En(t)):Hr(t)},Vr=function(t){return typeof t=="function"?t:t==null?Et:typeof t=="object"?ze(t)?Yr(t[0],t[1]):Er(t):Wr(t)},Gr=function(t,e){var n={};return e=Vr(e),rr(t,function(o,i,s){xt(n,e(o,i,s),o)}),n};function Io(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Jr{constructor(e,n){Io(this,"ctx",void 0),Io(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:o=>(ze(o?.blocks)&&(o.blocks=o.blocks.map(i=>i&&Gr(i,(s,c)=>`block/${c}`))),o)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([o,i])=>{const s=(c=>`service:search:${c}:${n.name}`)(o);e.caller.on(s,async c=>{if(p(n?.[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(f=>{if(c){if(f===!0)return c;if(c.hasOwnProperty(f)){const A=c[f];return delete c[f],A}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(f){console.error("[SearchService] ",f),u=f}finally{i.reply&&e.caller.call(`${s}:reply`,u)}}})})}}function Ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Zr=Symbol.for("proxy-continue"),Kr=Re()("LSPlugin:user"),Lo=new ne("",{console:!0});function zt(t,e,n){var o;if(typeof n!="function")return!1;const{key:i,label:s,desc:c,palette:u,keybinding:f,extras:A}=e,E=`SimpleCommandHook${i}${++$o}`;this.Editor["on"+E](n),(o=this.caller)===null||o===void 0||o.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:c,keybinding:f,extras:A},["editor/hook",E]],u]})}function No(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Lo.error(`#${t} is not a valid UUID string.`),!1);var e}let On=null,Po=new Map;const Qr={async getInfo(t){return On||(On=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?On[t]:On},registerCommand:zt,registerSearchService(t){if(Po.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Po.set(t.name,new Jr(this,t))},registerCommandPalette(t,e){const{key:n,label:o,keybinding:i}=t;return zt.call(this,"$palette$",{key:n,label:o,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,o="$shortcut$",i=o+k(n);return zt.call(this,o,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const o=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[o,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,o=t;zt.call(this,"page-menu-item",{key:n,label:o},e)},onBlockRendererSlotted(t,e){if(!No(t))return;const n=this.baseInfo.id,o=`hook:editor:${k(`slot:${t}`)}`;return this.caller.on(o,e),this.App._installPluginHook(n,o),()=>{this.caller.off(o,e),this.App._uninstallPluginHook(n,o)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[o,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${o}.${i}.`,"");if(!o||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",o,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let $o=0;const Xr={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Kr("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(o=>{const[i,...s]=o;if(i==="editor/hook"){let c=s[0],u=()=>{var A;(A=this.caller)===null||A===void 0||A.callUserModel(c)};typeof c=="function"&&(u=c);const f=`SlashCommandHook${i}${++$o}`;o[1]=f,this.Editor["on"+f](u)}return o}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;zt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id;zt.call(this,"highlight-context-menu-item",{key:o,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const o="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:o}):this.App.pushState("page",{name:t},{anchor:o})}},ei={onBlockChanged(t,e){if(!No(t))return;const n=this.baseInfo.id,o=`hook:db:${k(`block:${t}`)}`,i=({block:s,txData:c,txMeta:u})=>{s.uuid===t&&e(s,c,u)};return this.caller.on(o,i),this.App._installPluginHook(n,o),()=>{this.caller.off(o,i),this.App._uninstallPluginHook(n,o)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},ti={},ni={},oi={makeSandboxStorage(){return new po(this,{assets:!0})}};class io extends bt(){constructor(e,n){super(),Ue(this,"_baseInfo",void 0),Ue(this,"_caller",void 0),Ue(this,"_version","0.0.15"),Ue(this,"_debugTag",""),Ue(this,"_settingsSchema",void 0),Ue(this,"_connected",!1),Ue(this,"_ui",new Map),Ue(this,"_mFileStorage",void 0),Ue(this,"_mRequest",void 0),Ue(this,"_mExperiments",void 0),Ue(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",o=>{o!=null&&o.toggle&&this.toggleMainUI()}),n.on("settings:changed",o=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,o);this.emit("settings:changed",{...s},i)}),n.on("beforeunload",async o=>{const{actor:i,...s}=o,c=this._beforeunloadCallback;try{c&&await c(s),i?.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,n){if(!this._connected)try{var o;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=w(this._baseInfo,i),(o=i)!==null&&o!==void 0&&o.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,c){const u=(c||[]).reduce((f,A)=>("default"in A&&(f[A.key]=A.default),f),{});return Object.assign(u,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((o=e.baseInfo)!==null&&o!==void 0&&o.iir));var e,n,o}get logger(){return Lo}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),ue(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const o=this,i=this.caller;return new Proxy(e,{get(s,c,u){const f=s[c];return function(...A){if(f){const O=f.apply(o,A.concat(n));if(O!==Zr)return O}if(n){const O=c.toString().match(/^(once|off|on)/i);if(O!=null){const R=O[0].toLowerCase(),V=O.input.slice(R.length),Y=R==="off",oe=o.baseInfo.id,fe=`hook:${n}:${k(V)}`,Oe=A[0],et=A[1];i[R](fe,Oe);const _t=()=>{i.off(fe,Oe),i.listenerCount(fe)||o.App._uninstallPluginHook(oe,fe)};return Y?void _t():(o.App._installPluginHook(oe,fe,et),_t)}}let E=c;return["git","ui","assets"].includes(n)&&(E=n+"_"+E),i.callAsync("api:call",{tag:n,method:E,args:A})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Qr,"app")}get Editor(){return this._makeUserProxy(Xr,"editor")}get DB(){return this._makeUserProxy(ei,"db")}get Git(){return this._makeUserProxy(ti,"git")}get UI(){return this._makeUserProxy(ni,"ui")}get Assets(){return this._makeUserProxy(oi,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new po(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Jn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Xo(this)),e}}function Do(t,e){return new io(t,e)}if(window.__LSP__HOST__==null){const t=new Qo(null);window.logseq=Do({},t)}})(),pe})())})(Mn,Mn.exports);Mn.exports;const Ro="en";let zn=Ro,Uo={};async function ri({defaultLocale:te=Ro,builtinTranslations:G}){zn=(await logseq.App.getUserConfigs()).preferredLanguage,zn!==te&&G?.[zn]!=null&&(Uo=G)}function Ce(te,G){const ie=Uo[zn]?.[te]??te;return G==null?ie:Object.entries(G).reduce((me,[q,pe])=>me.replaceAll(`\${${q}}`,pe),ie)}const ii="AANTEKENING",ai="Inproppe",si={"Checked footnotes":"Aantekeninge nagegaan","Close the preview when mouse leave it":"Maak die voorskou toe as die muis wegbeweeg","Close the preview when open other page":"Maak die voorskou toe as u 'n ander bladsy oopmaak","Delay before closing preview":"Vertraag voordat u die voorskou sluit.","Enable YouTube preview optimization":"Skakel optimalisering aan vir YouTube-voorskoue",'Expand the block that starts with "## Footnotes"':'Brei die blok uit wat begin met "## Voetnote"',"False > The preview will be retained even if you open another page.":"Vals > Die voorskou word bewaar wanneer ander bladsye oopgemaak word.","False > You can display multiple previews.":"Onwaar > Verskeie voorskoue kan vertoon word.",Footnote:ii,"Footnote not defined (or collapse)":"Aantekening nie gedefinieer (of in duie gestort) nie","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"As hierdie instelling gedeaktiveer is, sal die voorskou nie verdwyn nie. U moet dit met die hand toemaak. Hierdie instelling verloor sy effek na 4 sekondes.","Limit the number of previews to one":"Beperk die aantal voorskoue tot een","Maximum width of preview":"Maksimum breedte van die voorskou","Mouse leave ms delay (The shortest time to disappear)":"Vertraag tyd voordat die muis vertrek (kortste tyd om te verdwyn)","To show the preview, the block must be expanded. Automatically expand the block.":"Om die voorskou te sien, moet u die blok uitbrei. Vou blokke outomaties uit.",plugin:ai},li="Anmerkung",ci="Plug-Ins",ui={"Checked footnotes":"Anmerkungen aktiviert","Close the preview when mouse leave it":"Schlieen Sie die Vorschau, wenn sich die Maus entfernt","Close the preview when open other page":"Schlieen Sie die Vorschau, wenn Sie eine andere Seite ffnen","Delay before closing preview":"Verzgerung vor dem Schlieen der Vorschau.","Enable YouTube preview optimization":"Optimierung fr YouTube-Vorschauen aktivieren",'Expand the block that starts with "## Footnotes"':'Erweitern Sie den Block, der mit "## Funoten" beginnt.',"False > The preview will be retained even if you open another page.":"False > Die Vorschau bleibt erhalten, wenn andere Seiten geffnet werden.","False > You can display multiple previews.":"False > Es knnen mehrere Vorschauen angezeigt werden.",Footnote:li,"Footnote not defined (or collapse)":"Anmerkung nicht definiert (oder reduziert)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Wenn diese Einstellung deaktiviert ist, verschwindet die Vorschau nicht. Sie mssen es manuell schlieen. Diese Einstellung verliert ihre Wirkung nach 4 Sekunden.","Limit the number of previews to one":"Beschrnken Sie die Anzahl der Vorschauen auf eine","Maximum width of preview":"Maximale Breite der Vorschau","Mouse leave ms delay (The shortest time to disappear)":"Verzgerungszeit, bevor die Maus verschwindet (krzeste Zeit zum Verschwinden)","To show the preview, the block must be expanded. Automatically expand the block.":"Um die Vorschau zu sehen, mssen Sie den Block erweitern. Blcke automatisch aufklappen.",plugin:ci},pi="anotacin",di="Plug-ins",hi={"Checked footnotes":"Anotaciones comprobadas","Close the preview when mouse leave it":"Cierre la vista previa cuando el ratn se aleje","Close the preview when open other page":"Cierre la vista previa al abrir otra pgina","Delay before closing preview":"Retraso antes de cerrar la vista previa.","Enable YouTube preview optimization":"Activar la optimizacin de las vistas previas de YouTube",'Expand the block that starts with "## Footnotes"':'Expanda el bloque que comienza con "## Notas al pie"',"False > The preview will be retained even if you open another page.":"Falso > La vista previa se conserva cuando se abren otras pginas.","False > You can display multiple previews.":"Falso > Se pueden mostrar varias vistas previas.",Footnote:pi,"Footnote not defined (or collapse)":"Anotacin no definida (o contrada)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Si esta configuracin est deshabilitada, la vista previa no desaparecer. Debe cerrarlo manualmente. Este ajuste pierde su efecto despus de 4 segundos.","Limit the number of previews to one":"Limitar el nmero de vistas previas a una","Maximum width of preview":"Anchura mxima de la vista previa","Mouse leave ms delay (The shortest time to disappear)":"Tiempo de retardo antes de que el ratn se vaya (tiempo ms corto para desaparecer)","To show the preview, the block must be expanded. Automatically expand the block.":"Para ver la vista previa, debe expandir el bloque. Despliega bloques automticamente.",plugin:di},fi="annotation",mi="Plug-ins",gi={"Checked footnotes":"Annotations vrifies","Close the preview when mouse leave it":"Fermer laperu lorsque la souris sloigne","Close the preview when open other page":"Fermer laperu lorsque vous ouvrez une autre page","Delay before closing preview":"Dlai avant la fermeture de laperu.","Enable YouTube preview optimization":"Activer loptimisation pour les aperus YouTube",'Expand the block that starts with "## Footnotes"':"Dveloppez le bloc qui commence par  ## Notes de bas de page ","False > The preview will be retained even if you open another page.":"False > Laperu est conserv lorsque dautres pages sont ouvertes.","False > You can display multiple previews.":"Faux > Plusieurs aperus peuvent tre affichs.",Footnote:fi,"Footnote not defined (or collapse)":"Annotation non dfinie (ou rduite)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Si ce paramtre est dsactiv, laperu ne disparatra pas. Vous devez le fermer manuellement. Ce paramtre perd son effet au bout de 4 secondes.","Limit the number of previews to one":"Limiter le nombre daperus  un seul","Maximum width of preview":"Largeur maximale de laperu","Mouse leave ms delay (The shortest time to disappear)":"Temps de retard avant le dpart de la souris (temps le plus court pour disparatre)","To show the preview, the block must be expanded. Automatically expand the block.":"Pour afficher laperu, vous devez dvelopper le bloc. Dpliez automatiquement les blocs.",plugin:mi},vi="Anotasi",bi="Plug-in",yi={"Checked footnotes":"Anotasi diperiksa","Close the preview when mouse leave it":"Tutup pratinjau saat mouse bergerak menjauh","Close the preview when open other page":"Menutup pratinjau saat Anda membuka halaman lain","Delay before closing preview":"Tunda sebelum menutup pratinjau.","Enable YouTube preview optimization":"Mengaktifkan pengoptimalan untuk pratinjau YouTube",'Expand the block that starts with "## Footnotes"':'Perluas blok yang dimulai dengan "## Catatan kaki"',"False > The preview will be retained even if you open another page.":"Salah > Pratinjau dipertahankan saat halaman lain dibuka.","False > You can display multiple previews.":"Salah > Beberapa pratinjau dapat ditampilkan.",Footnote:vi,"Footnote not defined (or collapse)":"Anotasi tidak didefinisikan (atau diciutkan)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Jika pengaturan ini dinonaktifkan, pratinjau tidak akan hilang. Anda harus menutupnya secara manual. Pengaturan ini kehilangan efeknya setelah 4 detik.","Limit the number of previews to one":"Batasi jumlah pratinjau menjadi satu","Maximum width of preview":"Lebar maksimum pratinjau","Mouse leave ms delay (The shortest time to disappear)":"Tunda waktu sebelum mouse pergi (waktu tersingkat menghilang)","To show the preview, the block must be expanded. Automatically expand the block.":"Untuk melihat pratinjau, Anda perlu memperluas blok. Membuka blok secara otomatis.",plugin:bi},wi="annotazione",_i="Plug-in",ki={"Checked footnotes":"Annotazioni controllate","Close the preview when mouse leave it":"Chiude l'anteprima quando il mouse si allontana","Close the preview when open other page":"Chiudere l'anteprima quando si apre un'altra pagina","Delay before closing preview":"Ritardo prima di chiudere l'anteprima.","Enable YouTube preview optimization":"Attivare l'ottimizzazione per le anteprime di YouTube",'Expand the block that starts with "## Footnotes"':'Espandi il blocco che inizia con "## Note a pi di pagina"',"False > The preview will be retained even if you open another page.":"False > l'anteprima viene mantenuta quando vengono aperte altre pagine.","False > You can display multiple previews.":"False >  possibile visualizzare pi anteprime.",Footnote:wi,"Footnote not defined (or collapse)":"Annotazione non definita (o compressa)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Se questa impostazione  disabilitata, l'anteprima non scomparir.  necessario chiuderlo manualmente. Questa impostazione perde il suo effetto dopo 4 secondi.","Limit the number of previews to one":"Limitare il numero di anteprime a una sola","Maximum width of preview":"Larghezza massima dell'anteprima","Mouse leave ms delay (The shortest time to disappear)":"Tempo di ritardo prima che il mouse se ne vada (tempo pi breve per scomparire)","To show the preview, the block must be expanded. Automatically expand the block.":"Per visualizzare l'anteprima,  necessario espandere il blocco. Aprire automaticamente i blocchi.",plugin:_i},xi=" ()",Ci="",Ti={"Checked footnotes":"","Close the preview when mouse leave it":"","Close the preview when open other page":"","Delay before closing preview":"","Enable YouTube preview optimization":"YouTube ",'Expand the block that starts with "## Footnotes"':"## Footnotes","False > The preview will be retained even if you open another page.":"False > ","False > You can display multiple previews.":"False > ",Footnote:xi,"Footnote not defined (or collapse)":"","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"4","Limit the number of previews to one":"1","Maximum width of preview":"","Mouse leave ms delay (The shortest time to disappear)":"","To show the preview, the block must be expanded. Automatically expand the block.":"",plugin:Ci},Fi="",Ai="",Si={"Checked footnotes":" ","Close the preview when mouse leave it":"    ","Close the preview when open other page":"      ","Delay before closing preview":"   .","Enable YouTube preview optimization":"YouTube    ",'Expand the block that starts with "## Footnotes"':'"## "   .',"False > The preview will be retained even if you open another page.":"False >       .","False > You can display multiple previews.":" >      .",Footnote:Fi,"Footnote not defined (or collapse)":"  ( )","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"      .   .   4   .","Limit the number of previews to one":"   1 ","Maximum width of preview":"   ","Mouse leave ms delay (The shortest time to disappear)":"    (     )","To show the preview, the block must be expanded. Automatically expand the block.":"    .   .",plugin:Ai},Ei="merknad",Oi="Plugin-moduler",ji={"Checked footnotes":"Merknader sjekket","Close the preview when mouse leave it":"Lukk forhndsvisningen nr musen beveger seg bort","Close the preview when open other page":"Lukke forhndsvisningen nr du pner en annen side","Delay before closing preview":"Utsett fr forhndsversjonen lukkes.","Enable YouTube preview optimization":"Sl p optimalisering for forhndsvisninger p YouTube",'Expand the block that starts with "## Footnotes"':'Utvid blokken som begynner med "## Fotnoter"',"False > The preview will be retained even if you open another page.":"Falske > Forhndsvisningen beholdes nr andre sider pnes.","False > You can display multiple previews.":"Falske > Flere forhndsvisninger kan vises.",Footnote:Ei,"Footnote not defined (or collapse)":"Merknad ikke definert (eller skjult)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Hvis denne innstillingen er deaktivert, forsvinner ikke forhndsvisningen. Du m lukke den manuelt. Denne innstillingen mister effekten etter 4 sekunder.","Limit the number of previews to one":"Begrens antall forhndsvisninger til n","Maximum width of preview":"Maksimal bredde p forhndsvisningen","Mouse leave ms delay (The shortest time to disappear)":"Forsinkelsestid fr musen gr (kortest tid til  forsvinne)","To show the preview, the block must be expanded. Automatically expand the block.":"For  se forhndsvisningen, m du utvide blokken. Brett ut blokker automatisk.",plugin:Oi},zi="aantekening",Mi="Plug-ins",Ii={"Checked footnotes":"Annotaties gecontroleerd","Close the preview when mouse leave it":"Sluit de voorvertoning wanneer de muis wegbeweegt","Close the preview when open other page":"Sluit het voorbeeld wanneer u een andere pagina opent","Delay before closing preview":"Wacht met het sluiten van de preview.","Enable YouTube preview optimization":"Optimalisatie inschakelen voor YouTube-voorbeelden",'Expand the block that starts with "## Footnotes"':'Vouw het blok uit dat begint met "## Voetnoten"',"False > The preview will be retained even if you open another page.":"Valse > Het voorbeeld blijft behouden wanneer andere pagina's worden geopend.","False > You can display multiple previews.":"False > Er kunnen meerdere voorbeelden worden weergegeven.",Footnote:zi,"Footnote not defined (or collapse)":"Annotatie niet gedefinieerd (of samengevouwen)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Als deze instelling is uitgeschakeld, verdwijnt het voorbeeld niet. U moet het handmatig sluiten. Deze instelling verliest zijn effect na 4 seconden.","Limit the number of previews to one":"Beperk het aantal voorvertoningen tot n","Maximum width of preview":"Maximale breedte van de voorvertoning","Mouse leave ms delay (The shortest time to disappear)":"Vertragingstijd voordat de muis vertrekt (kortste tijd om te verdwijnen)","To show the preview, the block must be expanded. Automatically expand the block.":"Om het voorbeeld te zien, moet je het blok uitvouwen. Blokken automatisch uitvouwen.",plugin:Mi},Li="adnotacja",Ni="Wtyczki",Pi={"Checked footnotes":"Zaznaczone adnotacje","Close the preview when mouse leave it":"Zamknij podgld, gdy mysz si odsunie","Close the preview when open other page":"Zamykanie podgldu po otwarciu innej strony","Delay before closing preview":"Opnienie przed zamkniciem podgldu.","Enable YouTube preview optimization":"Wczanie optymalizacji podgldw w YouTube",'Expand the block that starts with "## Footnotes"':'Rozwi blok zaczynajcy si od "## Przypisy dolne"',"False > The preview will be retained even if you open another page.":"Fasz > Podgld jest zachowywany po otwarciu innych stron.","False > You can display multiple previews.":"False > Mona wywietli wiele podgldw.",Footnote:Li,"Footnote not defined (or collapse)":"Adnotacja nie jest zdefiniowana (lub zwinita)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Jeli to ustawienie jest wyczone, podgld nie zniknie. Musisz go zamkn rcznie. To ustawienie traci swj efekt po 4 sekundach.","Limit the number of previews to one":"Ogranicz liczb podgldw do jednego","Maximum width of preview":"Maksymalna szeroko podgldu","Mouse leave ms delay (The shortest time to disappear)":"Czas opnienia przed opuszczeniem myszy (najkrtszy czas do zniknicia)","To show the preview, the block must be expanded. Automatically expand the block.":"Aby zobaczy podgld, musisz rozwin blok. Automatycznie rozwijaj bloki.",plugin:Ni},$i="anotao",Di="Plug-ins",Ri={"Checked footnotes":"Anotaes verificadas","Close the preview when mouse leave it":"Feche a visualizao quando o mouse se afastar","Close the preview when open other page":"Feche a visualizao ao abrir outra pgina","Delay before closing preview":"Atrase antes de fechar a visualizao.","Enable YouTube preview optimization":"Ativar a otimizao para visualizaes do YouTube",'Expand the block that starts with "## Footnotes"':'Expanda o bloco que comea com "## Notas de rodap"',"False > The preview will be retained even if you open another page.":"Falso > A visualizao  preservada quando outras pginas so abertas.","False > You can display multiple previews.":"Falso > Vrias visualizaes podem ser exibidas.",Footnote:$i,"Footnote not defined (or collapse)":"Anotao no definida (ou recolhida)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Se essa configurao estiver desabilitada, a visualizao no desaparecer. Voc precisa fech-lo manualmente. Essa configurao perde seu efeito aps 4 segundos.","Limit the number of previews to one":"Limitar o nmero de visualizaes a uma","Maximum width of preview":"Largura mxima da visualizao","Mouse leave ms delay (The shortest time to disappear)":"Tempo de atraso antes de o mouse sair (menor tempo para desaparecer)","To show the preview, the block must be expanded. Automatically expand the block.":"Para ver a visualizao, voc precisa expandir o bloco. Desdobrar blocos automaticamente.",plugin:Di},Ui="anotao",qi="Plug-ins",Yi={"Checked footnotes":"Anotaes verificadas","Close the preview when mouse leave it":"Feche a pr-visualizao quando o rato se afastar","Close the preview when open other page":"Fechar a pr-visualizao quando abrir outra pgina","Delay before closing preview":"Atrase antes de fechar a pr-visualizao.","Enable YouTube preview optimization":"Ativar a otimizao para pr-visualizaes do YouTube",'Expand the block that starts with "## Footnotes"':'Expanda o bloco que comea com "## Notas de rodap"',"False > The preview will be retained even if you open another page.":"Falso > A visualizao  preservada quando outras pginas so abertas.","False > You can display multiple previews.":"Falso > Vrias visualizaes podem ser exibidas.",Footnote:Ui,"Footnote not defined (or collapse)":"Anotao no definida (ou recolhida)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Se essa configurao estiver desativada, a visualizao no desaparecer. Voc precisa fech-lo manualmente. Esta definio perde o efeito aps 4 segundos.","Limit the number of previews to one":"Limitar o nmero de visualizaes a uma","Maximum width of preview":"Largura mxima da pr-visualizao","Mouse leave ms delay (The shortest time to disappear)":"Tempo de atraso antes de o rato sair (menor tempo para desaparecer)","To show the preview, the block must be expanded. Automatically expand the block.":"Para ver a visualizao, voc precisa expandir o bloco. Desdobrar blocos automaticamente.",plugin:qi},Bi="",Hi="",Wi={"Checked footnotes":" ","Close the preview when mouse leave it":"     ","Close the preview when open other page":"       ","Delay before closing preview":"    .","Enable YouTube preview optimization":"       YouTube",'Expand the block that starts with "## Footnotes"':" ,    ## ","False > The preview will be retained even if you open another page.":"False >       .","False > You can display multiple previews.":"False >      .",Footnote:Bi,"Footnote not defined (or collapse)":"   ( )","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"   ,    .    .       4 .","Limit the number of previews to one":"     ","Maximum width of preview":"   ","Mouse leave ms delay (The shortest time to disappear)":"     (  )","To show the preview, the block must be expanded. Automatically expand the block.":"  ,   .   .",plugin:Hi},Vi="anotcia",Gi="Zsuvn moduly",Ji={"Checked footnotes":"Skontrolovan anotcie","Close the preview when mouse leave it":"Zatvorenie ukky, ke sa my vzdiali","Close the preview when open other page":"Zatvorenie ukky pri otvoren inej strany","Delay before closing preview":"Oneskorenie pred zatvorenm ukky.","Enable YouTube preview optimization":"Zapnutie optimalizcie pre ukky na YouTube",'Expand the block that starts with "## Footnotes"':"Rozbalenie bloku zanajceho reazcom ## Poznmky pod iarou","False > The preview will be retained even if you open another page.":"Nepravdiv > Ukka sa zachov aj pri otvoren inch strnok.","False > You can display multiple previews.":"Falon > Je mon zobrazi viacero ukok.",Footnote:Vi,"Footnote not defined (or collapse)":"Anotcia nie je definovan (alebo zbalen)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Ak je toto nastavenie vypnut, ukka nezmizne. Muste ho zavrie manulne. Toto nastavenie strca inok po 4 sekundch.","Limit the number of previews to one":"Obmedzenie potu ukok na jednu","Maximum width of preview":"Maximlna rka ukky","Mouse leave ms delay (The shortest time to disappear)":"as oneskorenia pred odchodom myi (najkrat as na zmiznutie)","To show the preview, the block must be expanded. Automatically expand the block.":"Ak chcete zobrazi ukku, muste rozbali blok. Automaticky rozlote bloky.",plugin:Gi},Zi="ek aklama",Ki="Eklentiler",Qi={"Checked footnotes":"Ek aklamalar kontrol edildi","Close the preview when mouse leave it":"Fare uzaklatnda nizlemeyi kapatn","Close the preview when open other page":"Baka bir sayfa atnzda nizlemeyi kapatn","Delay before closing preview":"nizlemeyi kapatmadan nce geciktirin.","Enable YouTube preview optimization":"YouTube nizlemeleri iin optimizasyonu etkinletirme",'Expand the block that starts with "## Footnotes"':'"## Dipnotlar" ile balayan blou geniletin',"False > The preview will be retained even if you open another page.":"Yanl > Dier sayfalar aldnda nizleme korunur.","False > You can display multiple previews.":"Yanl > Birden fazla nizleme grntlenebilir.",Footnote:Zi,"Footnote not defined (or collapse)":"Ek aklama tanmlanmad (veya daraltld)","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"Bu ayar devre d braklrsa, nizleme kaybolmaz. Manuel olarak kapatmanz gerekir. Bu ayar 4 saniye sonra etkisini kaybeder.","Limit the number of previews to one":"nizleme saysn bir ile snrlayn","Maximum width of preview":"nizlemenin maksimum genilii","Mouse leave ms delay (The shortest time to disappear)":"Fare ayrlmadan nceki gecikme sresi (kaybolmak iin en ksa sre)","To show the preview, the block must be expanded. Automatically expand the block.":"nizlemeyi grmek iin blou geniletmeniz gerekir. Bloklar otomatik olarak an.",plugin:Ki},Xi="",ea="",ta={"Checked footnotes":" ","Close the preview when mouse leave it":"  ,   ","Close the preview when open other page":"  ,     ","Delay before closing preview":"    .","Enable YouTube preview optimization":"       YouTube",'Expand the block that starts with "## Footnotes"':' ,    "## "',"False > The preview will be retained even if you open another page.":"False >   ,    .","False > You can display multiple previews.":"False >     .",Footnote:Xi,"Footnote not defined (or collapse)":"   ( )","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"   ,    .    .       4 .","Limit the number of previews to one":"     ","Maximum width of preview":"   ","Mouse leave ms delay (The shortest time to disappear)":"     (  )","To show the preview, the block must be expanded. Automatically expand the block.":"  ',   .   .",plugin:ea},na="",oa="",ra={"Checked footnotes":"","Close the preview when mouse leave it":"","Close the preview when open other page":"","Delay before closing preview":"","Enable YouTube preview optimization":" YouTube ",'Expand the block that starts with "## Footnotes"':"## ","False > The preview will be retained even if you open another page.":"> ","False > You can display multiple previews.":"False > ",Footnote:na,"Footnote not defined (or collapse)":"","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"   4 ","Limit the number of previews to one":"","Maximum width of preview":"","Mouse leave ms delay (The shortest time to disappear)":"","To show the preview, the block must be expanded. Automatically expand the block.":" ",plugin:oa},ia="",aa="",sa={"Checked footnotes":"","Close the preview when mouse leave it":"","Close the preview when open other page":"","Delay before closing preview":"","Enable YouTube preview optimization":" YouTube ",'Expand the block that starts with "## Footnotes"':"## ","False > The preview will be retained even if you open another page.":"> ","False > You can display multiple previews.":"False > ",Footnote:ia,"Footnote not defined (or collapse)":"","If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds.":"   4 ","Limit the number of previews to one":"","Maximum width of preview":"","Mouse leave ms delay (The shortest time to disappear)":"","To show the preview, the block must be expanded. Automatically expand the block.":" ",plugin:aa},la=logseq.baseInfo.id,ca="preview-footnote-dialog",qo=`

Preview Footnote `;let ao=!1;const so=te=>{if(te&&te.pageLoad===!0&&logseq.settings.closePreviewWhenOpenPage===!0){const ie=parent.document.querySelector(`body>div[data-ref="${logseq.baseInfo.id}"]`);ie&&ie.remove()}if(ao)return;const G=parent.document.body.querySelectorAll('sup.fn>a.footref:not([data-foot="true"])');if(G.length!==0){ao=!0;for(const ie of G){const me=ie.id.split(".")[1],q=parent.document.getElementById(`fnr.${me}`);if(q===null)continue;q.dataset.footnote=`fn.${me}`,q.dataset.footDef=`fnr.${me}`,ie.dataset.foot="true";const pe=()=>{q.addEventListener("mouseenter",function(P){parent.document.querySelector(`body>div[data-ref="${logseq.baseInfo.id}"]`)&&logseq.settings.limitPreview===!0||da(this,P)},{once:!0}),q.addEventListener("mouseleave",()=>{setTimeout(()=>pe(),2e3)},{once:!0})};pe()}ao=!1}},ua=()=>logseq.useSettingsSchema([{key:"setFootnotesBlock",type:"string",title:Ce('Expand the block that starts with "## Footnotes"'),description:Ce("To show the preview, the block must be expanded. Automatically expand the block."),default:"## Footnotes"},{key:"closePreviewMouseLeave",type:"boolean",title:Ce("Close the preview when mouse leave it"),description:Ce("If this setting is disabled, the preview will not disappear. You will need to close it manually. This setting has no effect after that 4 seconds."),default:!1},{key:"mouseDelay",type:"enum",title:Ce("Mouse leave ms delay (The shortest time to disappear)"),description:Ce("Delay before closing preview"),default:"2500",enumChoices:["1200","1400","1600","1800","2000","2500","3000","3500","4000"]},{key:"limitPreview",type:"boolean",title:Ce("Limit the number of previews to one"),description:Ce("False > You can display multiple previews."),default:!0},{key:"closePreviewWhenOpenPage",type:"boolean",title:Ce("Close the preview when open other page"),description:Ce("False > The preview will be retained even if you open another page."),default:!0},{key:"maxWidth",type:"number",title:Ce("Maximum width of preview"),description:"200px < 1200px",inputAs:"range",default:"60"},{key:"youtubePreview",type:"boolean",title:Ce("Enable YouTube preview optimization"),description:"",default:!0}]),pa=()=>{const te=parent.document.querySelector("body>div#root>div>main>div#app-container"),G=new MutationObserver(()=>{parent.document.body.querySelectorAll('main sup.fn>a.footref:not([data-foot="true"])').length!==0&&(logseq.UI.showMsg(Ce("Checked footnotes")+qo+Ce("plugin"),"success",{timeout:2200}),so(),G.disconnect(),setTimeout(()=>G.observe(te,{childList:!0,subtree:!0}),1e3))});setTimeout(()=>G.observe(te,{childList:!0,subtree:!0}),3e3),logseq.beforeunload(async()=>{G.disconnect()})},da=async(te,G)=>{let ie=te.dataset.footnote;ie||(ie=`fnr.${te.outerText}`);let me=parent.document.getElementById(ie);if(me===null&&(me=await fa(ie),me===null))return;const q=me.parentElement;if(q===null)return;const pe=Math.random().toString(36).slice(-1)+Math.random().toString(36).slice(-1),P=logseq.settings.limitPreview===!0?ca:pe+ie.replace(/\./g,"-"),d=logseq.settings.maxWidth*10+200;logseq.provideUI({key:P,template:`
            <div style="padding: 8px; overflow: auto;" title="">
              <div>
              ${q.outerHTML}
              </div>
            </div>
            ${logseq.settings.youtubePreview===!1?"":`
            <style>
              body>div[data-ref="${logseq.baseInfo.id}"]:hover {
                outline: 6px solid var(--ls-quaternary-background-color);
                outline-offset: 6px;
              }
              /* YouTube preview optimization */
              body>div#${logseq.baseInfo.id}--${P} div.is-paragraph:has(>iframe[src*="youtube"]) {
                position: relative;
                min-height: 330px;
                min-width: 588px;
                width:100%;
                height:0;
                padding-top: 56.25%;
                margin-bottom: 1em;
              
                &>iframe[src*="youtube"] {
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                }
              }
            </style>
            `}
          `,style:{left:`${G.clientX}px`,top:`${G.clientY+20}px`,width:"auto",minWidth:"200px",maxWidth:`${d}px`,height:"auto",padding:".1em",backgroundColor:"var(--ls-primary-background-color)",color:"var(--ls-primary-text-color)",boxShadow:"1px 2px 5px var(--ls-secondary-background-color)"},attrs:{title:Ce("Footnote")}}),logseq.settings.closePreviewMouseLeave===!0&&ha(P)},ha=te=>setTimeout(()=>{const G=parent.document.querySelector(`body>div#${logseq.baseInfo.id}--${te}`);if(G===null)return;G.addEventListener("mouseleave",ie,{once:!0}),setTimeout(()=>G.removeEventListener("mouseleave",ie),4100);function ie(){this.remove()}},Number(logseq.settings.mouseDelay|10)),fa=async te=>{logseq.UI.showMsg(Ce("Footnote not defined (or collapse)")+qo+Ce("plugin"),"warning",{timeout:2200});const G=await logseq.Editor.getCurrentPageBlocksTree();if(G===null)return null;const ie=G.find(q=>q.content.startsWith("## Footnotes"));if(ie===void 0)return null;const me=ie.uuid;return logseq.Editor.setBlockCollapsed(me,{flag:!1}),parent.document.getElementById(te)},ma=async()=>{console.info(`#${la}: MAIN`),await ri({builtinTranslations:{af:si,de:ui,es:hi,fr:gi,id:yi,it:ki,ja:Ti,ko:Si,"nb-NO":ji,nl:Ii,pl:Pi,"pt-BR":Ri,"pt-PT":Yi,ru:Wi,sk:Ji,tr:Qi,uk:ta,"zh-CN":ra,"zh-Hant":sa}}),ua(),logseq.App.onRouteChanged(()=>so({pageLoad:!0})),logseq.App.onPageHeadActionsSlotted(()=>so({pageLoad:!0})),pa()};logseq.ready(ma).catch(console.error);
